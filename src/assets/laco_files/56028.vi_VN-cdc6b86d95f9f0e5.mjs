(self.modernJsonp=self.modernJsonp||[]).push([["56028"],{525133(e,t,a){var l,i,n,s;a.r(t),a.d(t,{default:()=>o});let r={fragment:{argumentDefinitions:l=[{defaultValue:null,kind:"LocalArgument",name:"pinId"}],kind:"Fragment",metadata:null,name:"AlreadyPinnedCheckQuery",selections:[{alias:null,args:i=[{kind:"Variable",name:"pin",variableName:"pinId"}],concreteType:null,kind:"LinkedField",name:"v3GetPinQuery",plural:!1,selections:[n={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"Pin",kind:"LinkedField",name:"data",plural:!1,selections:[{args:null,kind:"FragmentSpread",name:"AlreadyPinnedCheckQuery_pin"}],storageKey:null}],type:"V3GetPin",abstractKey:null}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:l,kind:"Operation",name:"AlreadyPinnedCheckQuery",selections:[{alias:null,args:i,concreteType:null,kind:"LinkedField",name:"v3GetPinQuery",plural:!1,selections:[n,{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"Pin",kind:"LinkedField",name:"data",plural:!1,selections:[{alias:null,args:null,concreteType:"Board",kind:"LinkedField",name:"pinnedToBoard",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"layout",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},s={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:null},s],storageKey:null}],type:"V3GetPin",abstractKey:null}],storageKey:null}]},params:{id:"c881f56582aebd78b7f3f625abfe959aa6d034bcd97439d6b4224d46c1c5f8cc",metadata:{},name:"AlreadyPinnedCheckQuery",operationKind:"query",text:null}};r.hash="0b5f077c08e31de36594b6918e128d12";let o=r},761869(e,t,a){a.r(t),a.d(t,{default:()=>i});let l={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"AlreadyPinnedCheckQuery_pin",selections:[{alias:null,args:null,concreteType:"Board",kind:"LinkedField",name:"pinnedToBoard",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"layout",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null}],storageKey:null}],type:"Pin",abstractKey:null};l.hash="6bb1a587f71f85424aa51845831862d4";let i=l},309419(e,t,a){a.r(t),a.d(t,{default:()=>i});let l={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"AlreadyPinnedCheck_pin",selections:[{alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null}],type:"Pin",abstractKey:null};l.hash="3caf9424c2af74d2b11a6ea682b57d1b";let i=l},141894(e,t,a){a.r(t),a.d(t,{default:()=>i});let l={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"BoardCreateSuccess_pin",selections:[{alias:"images_236x",args:[{kind:"Literal",name:"spec",value:"236x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"height",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"width",storageKey:null}],storageKey:'images(spec:"236x")'},{alias:null,args:null,kind:"ScalarField",name:"description",storageKey:null}],type:"Pin",abstractKey:null};l.hash="c26037c886bf0e64c6b73d7daa56a9b4";let i=l},854515(e,t,a){a.r(t),a.d(t,{default:()=>i});let l={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"BoardCreateSuccess_shuffle_asset",selections:[{alias:null,args:[{kind:"Literal",name:"spec",value:"originals"}],concreteType:"ImageDetails",kind:"LinkedField",name:"cutoutImages",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"height",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"width",storageKey:null}],storageKey:'cutoutImages(spec:"originals")'}],type:"ShuffleAsset",abstractKey:null};l.hash="f12c153dafdb70970e02775ea0db67c2";let i=l},641153(e,t,a){a.r(t),a.d(t,{default:()=>i});let l={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"BoardPicker_pin",selections:[{alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null}],type:"Pin",abstractKey:null};l.hash="76215b7b40cb02e76b77e58c8765d0d1";let i=l},811770(e,t,a){a.r(t),a.d(t,{default:()=>i});let l={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"BoardsPane_pin",selections:[{alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{args:null,kind:"FragmentSpread",name:"BoardPicker_pin"}],type:"Pin",abstractKey:null};l.hash="56f620fbd63abf8f7cb32f9a378198f8";let i=l},317310(e,t,a){var l,i;a.r(t),a.d(t,{default:()=>s});let n=(i=[l={alias:null,args:null,kind:"ScalarField",name:"text",storageKey:null}],{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CallToAction_advisoryAction",selections:[{alias:null,args:null,concreteType:"AdvisoryButton",kind:"LinkedField",name:"button",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"link",storageKey:null},l],storageKey:null},{alias:null,args:null,concreteType:"AdvisoryRichText",kind:"LinkedField",name:"description",plural:!1,selections:i,storageKey:null},{alias:null,args:null,concreteType:"AdvisoryRichText",kind:"LinkedField",name:"title",plural:!1,selections:i,storageKey:null}],type:"AdvisoryAction",abstractKey:null});n.hash="6ddea2ecd3dff2e1001c1e4d037cc858";let s=n},32880(e,t,a){a.r(t),a.d(t,{default:()=>i});let l={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"DefaultNotice_advisoryNotice",selections:[{alias:null,args:null,concreteType:"AdvisoryRichText",kind:"LinkedField",name:"description",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"text",storageKey:null},{alias:null,args:null,concreteType:"TextTag",kind:"LinkedField",name:"textTags",plural:!0,selections:[{args:null,kind:"FragmentSpread",name:"HyperlinkFormatText_textTag"}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"AdvisoryAction",kind:"LinkedField",name:"actions",plural:!0,selections:[{alias:"actionId",args:null,kind:"ScalarField",name:"id",storageKey:null},{args:null,kind:"FragmentSpread",name:"CallToAction_advisoryAction"}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"title",storageKey:null}],type:"AdvisoryNotice",abstractKey:null};l.hash="5879c4710b107f258f42156bf3e47e37";let i=l},379051(e,t,a){a.r(t),a.d(t,{default:()=>i});let l={argumentDefinitions:[],kind:"Fragment",metadata:{plural:!0},name:"HyperlinkFormatText_textTag",selections:[{alias:null,args:null,kind:"ScalarField",name:"length",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"link",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"offset",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"tagType",storageKey:null}],type:"TextTag",abstractKey:null};l.hash="4970946a36017d9ad0c751fd70cc512c";let i=l},469302(e,t,a){var l,i,n;a.r(t),a.d(t,{default:()=>r});let s=(i=[{alias:null,args:null,kind:"ScalarField",name:"link",storageKey:null},l={alias:null,args:null,kind:"ScalarField",name:"text",storageKey:null}],n=[l],{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"LegoNotice_advisoryNotice",selections:[{alias:null,args:null,concreteType:"AdvisoryRichText",kind:"LinkedField",name:"description",plural:!1,selections:[l,{alias:null,args:null,concreteType:"TextTag",kind:"LinkedField",name:"textTags",plural:!0,selections:[{args:null,kind:"FragmentSpread",name:"HyperlinkFormatText_textTag"}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"AdvisoryFooter",kind:"LinkedField",name:"footer",plural:!1,selections:i,storageKey:null},{alias:null,args:null,concreteType:"AdvisoryAction",kind:"LinkedField",name:"actions",plural:!0,selections:[{alias:"actionId",args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,concreteType:"AdvisoryButton",kind:"LinkedField",name:"button",plural:!1,selections:i,storageKey:null},{alias:null,args:null,concreteType:"AdvisoryRichText",kind:"LinkedField",name:"description",plural:!1,selections:n,storageKey:null},{alias:null,args:null,concreteType:"AdvisoryRichText",kind:"LinkedField",name:"title",plural:!1,selections:n,storageKey:null}],storageKey:null}],type:"AdvisoryNotice",abstractKey:null});s.hash="fa2efeb6b4c660680d9f3a0e156c8007";let r=s},325227(e,t,a){var l,i,n,s,r,o;a.r(t),a.d(t,{default:()=>c});let d=(l={alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},i={alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},s={alias:null,args:null,kind:"ScalarField",name:"title",storageKey:null},r=[n={alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null}],o=[{alias:null,args:null,kind:"ScalarField",name:"boardId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"localPinId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"score",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"sectionId",storageKey:null},s,{alias:null,args:null,kind:"ScalarField",name:"type",storageKey:null},n],{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"PinBetterSave_pin",selections:[l,{alias:null,args:null,kind:"ScalarField",name:"imageSignature",storageKey:null},{alias:null,args:null,concreteType:"Board",kind:"LinkedField",name:"board",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"layout",storageKey:null},i,l,n,{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"owner",plural:!1,selections:[l],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"PinRecommendationReason",kind:"LinkedField",name:"recommendationReason",plural:!1,selections:[{alias:null,args:null,concreteType:"Board",kind:"LinkedField",name:"board",plural:!1,selections:[i,l,n],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"PinCarouselData",kind:"LinkedField",name:"carouselData",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"index",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"description",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"promotedIsRemovable",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"link",storageKey:null},s,{alias:null,args:null,kind:"ScalarField",name:"isPromoted",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"promotedIsLeadAd",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"shoppingFlags",storageKey:null},{alias:"images_236x",args:[{kind:"Literal",name:"spec",value:"236x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:r,storageKey:'images(spec:"236x")'},{alias:"images_474x",args:[{kind:"Literal",name:"spec",value:"474x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:r,storageKey:'images(spec:"474x")'},{args:null,kind:"FragmentSpread",name:"useGetStringifiedCommerceAuxData_pin"},{args:null,kind:"FragmentSpread",name:"PinSaveRequestRepinWithSectionSuggestions_pin"},{args:null,kind:"FragmentSpread",name:"PinToBoard_pin"},{kind:"ClientExtension",selections:[{alias:null,args:null,kind:"ScalarField",name:"__id",storageKey:null},{alias:null,args:null,concreteType:"SaveTarget",kind:"LinkedField",name:"savedInfo",plural:!1,selections:o,storageKey:null},{alias:null,args:null,concreteType:"SaveTarget",kind:"LinkedField",name:"savedCutout",plural:!1,selections:o,storageKey:null},{alias:null,args:null,concreteType:"SaveTarget",kind:"LinkedField",name:"selectedItem",plural:!1,selections:o,storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"imageBase64",storageKey:null}]}],type:"Pin",abstractKey:null});d.hash="30d8edb71deeb3f1a4abc132d299e97a";let c=d},652234(e,t,a){a.r(t),a.d(t,{default:()=>i});let l={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"PinBetterSave_shuffle_asset",selections:[{alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{alias:"cutoutImages_236x",args:[{kind:"Literal",name:"spec",value:"236x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"cutoutImages",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null}],storageKey:'cutoutImages(spec:"236x")'},{args:null,kind:"FragmentSpread",name:"PinSaveRequestRepinWithSectionSuggestions_shuffle_asset"},{args:null,kind:"FragmentSpread",name:"PinToBoard_shuffle_asset"}],type:"ShuffleAsset",abstractKey:null};l.hash="1f53887e43dccddcc1fb109a988e5c3d";let i=l},898798(e,t,a){a.r(t),a.d(t,{default:()=>i});let l={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"PinPane_pin",selections:[{alias:"images_236x",args:[{kind:"Literal",name:"spec",value:"236x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"height",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"width",storageKey:null}],storageKey:'images(spec:"236x")'},{alias:null,args:null,kind:"ScalarField",name:"description",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"link",storageKey:null},{args:null,kind:"FragmentSpread",name:"AlreadyPinnedCheck_pin"},{kind:"ClientExtension",selections:[{alias:null,args:null,kind:"ScalarField",name:"imageBase64",storageKey:null}]}],type:"Pin",abstractKey:null};l.hash="ee852d86e422f64afda32d5c5ed05eeb";let i=l},392971(e,t,a){a.r(t),a.d(t,{default:()=>i});let l={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"PinPane_shuffle_asset",selections:[{alias:null,args:[{kind:"Literal",name:"spec",value:"originals"}],concreteType:"ImageDetails",kind:"LinkedField",name:"cutoutImages",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"height",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"width",storageKey:null}],storageKey:'cutoutImages(spec:"originals")'}],type:"ShuffleAsset",abstractKey:null};l.hash="1a4583782792fbfe92015cb2dbe50f70";let i=l},79694(e,t,a){a.r(t),a.d(t,{default:()=>i});let l={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"PinSaveRequestRepinWithSectionSuggestions_pin",selections:[{args:null,kind:"FragmentSpread",name:"PinSaveRequest_pin"}],type:"Pin",abstractKey:null};l.hash="03aa6b9cad1d5fb9b12a7c896ccdaffd";let i=l},18923(e,t,a){a.r(t),a.d(t,{default:()=>i});let l={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"PinSaveRequestRepinWithSectionSuggestions_shuffle_asset",selections:[{args:null,kind:"FragmentSpread",name:"PinSaveRequest_shuffle_asset"}],type:"ShuffleAsset",abstractKey:null};l.hash="6bd1eb83cfe5391288164b17cc5d85b7";let i=l},935850(e,t,a){var l;a.r(t),a.d(t,{default:()=>n});let i={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"PinSaveRequest_pin",selections:[{alias:"images_orig",args:[{kind:"Literal",name:"spec",value:"orig"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:l=[{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null}],storageKey:'images(spec:"orig")'},{alias:"images_236x",args:[{kind:"Literal",name:"spec",value:"236x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:l,storageKey:'images(spec:"236x")'},{alias:null,args:null,kind:"ScalarField",name:"description",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"link",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"title",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isPromoted",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"promotedIsRemovable",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"trackingParams",storageKey:null},{kind:"ClientExtension",selections:[{alias:null,args:null,kind:"ScalarField",name:"__id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"imageUrl",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"imageBase64",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"mediaUploadId",storageKey:null}]}],type:"Pin",abstractKey:null};i.hash="64132b88edd48497e63c9ad85ae5ab66";let n=i},583215(e,t,a){a.r(t),a.d(t,{default:()=>i});let l={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"PinSaveRequest_shuffle_asset",selections:[{alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null}],type:"ShuffleAsset",abstractKey:null};l.hash="58c24e25a76e7a1c4533f3b07f490517";let i=l},716887(e,t,a){a.r(t),a.d(t,{default:()=>i});let l={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"PinToBoard_pin",selections:[{alias:"images_236x",args:[{kind:"Literal",name:"spec",value:"236x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"height",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"width",storageKey:null}],storageKey:'images(spec:"236x")'},{alias:null,args:null,kind:"ScalarField",name:"description",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"link",storageKey:null},{args:null,kind:"FragmentSpread",name:"PinPane_pin"},{args:null,kind:"FragmentSpread",name:"BoardsPane_pin"},{args:null,kind:"FragmentSpread",name:"BoardCreateSuccess_pin"}],type:"Pin",abstractKey:null};l.hash="dab58396c0cc99aa60f3fd6bc5d0ebe5";let i=l},111118(e,t,a){a.r(t),a.d(t,{default:()=>i});let l={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"PinToBoard_shuffle_asset",selections:[{args:null,kind:"FragmentSpread",name:"PinPane_shuffle_asset"},{args:null,kind:"FragmentSpread",name:"BoardCreateSuccess_shuffle_asset"}],type:"ShuffleAsset",abstractKey:null};l.hash="4435ca5e135b834ea8a6425f68eb2f7a";let i=l},990839(e,t,a){var l,i,n;a.r(t),a.d(t,{default:()=>r});let s={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"SensitiveNotice_sensitivity",selections:[{alias:null,args:null,kind:"ScalarField",name:"advisory",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"severity",storageKey:null},{alias:null,args:null,concreteType:"AdvisoryNotice",kind:"LinkedField",name:"notices",plural:!0,selections:[{alias:"noticeId",args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:"content_image_url",args:null,kind:"ScalarField",name:"contentImageUrl",storageKey:null},{alias:"suggested_resource",args:null,kind:"ScalarField",name:"suggestedResource",storageKey:null},{alias:"image_type",args:null,kind:"ScalarField",name:"imageType",storageKey:null},n={alias:null,args:null,concreteType:"AdvisoryRichText",kind:"LinkedField",name:"description",plural:!1,selections:i=[l={alias:null,args:null,kind:"ScalarField",name:"text",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"AdvisoryAction",kind:"LinkedField",name:"actions",plural:!0,selections:[{alias:"actionId",args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,concreteType:"AdvisoryButton",kind:"LinkedField",name:"button",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"link",storageKey:null},l,{alias:"contact_type",args:null,kind:"ScalarField",name:"contactType",storageKey:null}],storageKey:null},n,{alias:null,args:null,concreteType:"AdvisoryRichText",kind:"LinkedField",name:"title",plural:!1,selections:i,storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"title",storageKey:null}],storageKey:null}],type:"Sensitivity",abstractKey:null};s.hash="6e21ec048bb4ac7d621865a42cf02a6c";let r=s},18598(e,t,a){var l,i;a.r(t),a.d(t,{default:()=>s});let n={fragment:{argumentDefinitions:l=[{defaultValue:null,kind:"LocalArgument",name:"boardId"}],kind:"Fragment",metadata:null,name:"collab_AcceptInvite_Mutation",selections:i=[{alias:null,args:[{fields:[{kind:"Variable",name:"board",variableName:"boardId"}],kind:"ObjectValue",name:"input"}],concreteType:null,kind:"LinkedField",name:"v3AcceptBoardCollaboratorInviteMutation",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"ErrorInfo",kind:"LinkedField",name:"error",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"message",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"paramPath",storageKey:null}],storageKey:null}],type:"Error",abstractKey:"__isError"}],storageKey:null}],type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:l,kind:"Operation",name:"collab_AcceptInvite_Mutation",selections:i},params:{id:"781c41132fefa007ebde7bcd8c49840ce1768ed6f6781fd72e3904bd35fb576f",metadata:{},name:"collab_AcceptInvite_Mutation",operationKind:"mutation",text:null}};n.hash="7005ce437a6a6ff33741ab44aa02cf61";let s=n},841303(e,t,a){var l,i;a.r(t),a.d(t,{default:()=>s});let n={fragment:{argumentDefinitions:l=[{defaultValue:null,kind:"LocalArgument",name:"boardId"},{defaultValue:null,kind:"LocalArgument",name:"userId"}],kind:"Fragment",metadata:null,name:"collab_ApproveInvite_Mutation",selections:i=[{alias:null,args:[{fields:[{kind:"Variable",name:"board",variableName:"boardId"},{kind:"Variable",name:"user",variableName:"userId"}],kind:"ObjectValue",name:"input"}],concreteType:null,kind:"LinkedField",name:"v3ApproveBoardCollaboratorInviteMutation",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"ErrorInfo",kind:"LinkedField",name:"error",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"message",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"paramPath",storageKey:null}],storageKey:null}],type:"Error",abstractKey:"__isError"}],storageKey:null}],type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:l,kind:"Operation",name:"collab_ApproveInvite_Mutation",selections:i},params:{id:"472a584df4a467181ed32ec33d235ef2f2e6d53fdb4c7a43d11156b6d51dcd50",metadata:{},name:"collab_ApproveInvite_Mutation",operationKind:"mutation",text:null}};n.hash="40ae8061007ba5f53a4570e43e4ca864";let s=n},307446(e,t,a){var l,i,n,s;a.r(t),a.d(t,{default:()=>o});let r={fragment:{argumentDefinitions:[l={defaultValue:null,kind:"LocalArgument",name:"ban"},i={defaultValue:null,kind:"LocalArgument",name:"boardId"},n={defaultValue:null,kind:"LocalArgument",name:"userId"}],kind:"Fragment",metadata:null,name:"collab_DeclineOrDeleteBoardCollaboratorInvite_Mutation",selections:s=[{alias:null,args:[{fields:[{kind:"Variable",name:"ban",variableName:"ban"},{kind:"Variable",name:"board",variableName:"boardId"},{kind:"Variable",name:"user",variableName:"userId"}],kind:"ObjectValue",name:"input"}],concreteType:null,kind:"LinkedField",name:"v3DeclineOrDeleteBoardCollaboratorInviteMutation",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"ErrorInfo",kind:"LinkedField",name:"error",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"message",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"paramPath",storageKey:null}],storageKey:null}],type:"Error",abstractKey:"__isError"}],storageKey:null}],type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[i,n,l],kind:"Operation",name:"collab_DeclineOrDeleteBoardCollaboratorInvite_Mutation",selections:s},params:{id:"ff3059743c1d13d4f1c2ef07e10d2b29925c7b330db4103e55e9e65c380c0ce5",metadata:{},name:"collab_DeclineOrDeleteBoardCollaboratorInvite_Mutation",operationKind:"mutation",text:null}};r.hash="c62e5df78917dd238b70f366f358d487";let o=r},865118(e,t,a){var l,i,n,s,r,o,d,c;a.r(t),a.d(t,{default:()=>h});let u={fragment:{argumentDefinitions:l=[{defaultValue:null,kind:"LocalArgument",name:"board"},{defaultValue:null,kind:"LocalArgument",name:"collaboratorIds"}],kind:"Fragment",metadata:null,name:"collab_RemoveBoardCollaborators_Mutation",selections:[{alias:null,args:i=[{fields:[{kind:"Variable",name:"board",variableName:"board"},{kind:"Variable",name:"collaboratorIds",variableName:"collaboratorIds"}],kind:"ObjectValue",name:"input"}],concreteType:null,kind:"LinkedField",name:"v3RemoveBoardCollaboratorsMutation",plural:!1,selections:[n={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"Board",kind:"LinkedField",name:"data",plural:!1,selections:[s={alias:null,args:null,kind:"ScalarField",name:"collaboratorCount",storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"collaboratingUsers",plural:!1,selections:[n,{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"UserCollaboratingUsersConnection",kind:"LinkedField",name:"connection",plural:!1,selections:[{alias:null,args:null,concreteType:"UserCollaboratingUsersEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"node",plural:!1,selections:[r={alias:null,args:null,kind:"ScalarField",name:"username",storageKey:null},o={alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}],type:"UserCollaboratingUsersConnectionContainer",abstractKey:null}],storageKey:null}],storageKey:null}],type:"V3RemoveBoardCollaborators",abstractKey:null},d={kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"ErrorInfo",kind:"LinkedField",name:"error",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"message",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"paramPath",storageKey:null}],storageKey:null}],type:"Error",abstractKey:"__isError"}],storageKey:null}],type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:l,kind:"Operation",name:"collab_RemoveBoardCollaborators_Mutation",selections:[{alias:null,args:i,concreteType:null,kind:"LinkedField",name:"v3RemoveBoardCollaboratorsMutation",plural:!1,selections:[n,{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"Board",kind:"LinkedField",name:"data",plural:!1,selections:[s,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"collaboratingUsers",plural:!1,selections:[n,{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"UserCollaboratingUsersConnection",kind:"LinkedField",name:"connection",plural:!1,selections:[{alias:null,args:null,concreteType:"UserCollaboratingUsersEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"node",plural:!1,selections:[r,o,c={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}],type:"UserCollaboratingUsersConnectionContainer",abstractKey:null}],storageKey:null},c],storageKey:null}],type:"V3RemoveBoardCollaborators",abstractKey:null},d],storageKey:null}]},params:{id:"83dd1206102cffdd460f8c072df0ca515d27c8fcf3798423f1657afabdf467ac",metadata:{},name:"collab_RemoveBoardCollaborators_Mutation",operationKind:"mutation",text:null}};u.hash="2c3e1508650962adfff1171e950fa419";let h=u},153191(e,t,a){var l,i,n,s,r,o,d,c,u,h;a.r(t),a.d(t,{default:()=>p});let _=(l=[{defaultValue:null,kind:"LocalArgument",name:"boardId"},{defaultValue:null,kind:"LocalArgument",name:"message"}],i=[{fields:[{kind:"Variable",name:"board",variableName:"boardId"},{kind:"Variable",name:"message",variableName:"message"}],kind:"ObjectValue",name:"input"}],n={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},r=[s={alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null}],o={alias:null,args:null,kind:"ScalarField",name:"status",storageKey:null},d={alias:null,args:null,kind:"ScalarField",name:"type",storageKey:null},u={kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"ErrorInfo",kind:"LinkedField",name:"error",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"message",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"paramPath",storageKey:null}],storageKey:null}],type:"Error",abstractKey:"__isError"},h=[s,c={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],{fragment:{argumentDefinitions:l,kind:"Fragment",metadata:null,name:"collab_RequestToJoin_Mutation",selections:[{alias:null,args:i,concreteType:null,kind:"LinkedField",name:"v3CreateRequestToJoinBoardMutation",plural:!1,selections:[n,{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"CollaboratorInvite",kind:"LinkedField",name:"data",plural:!1,selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"invitedByUser",plural:!1,selections:r,storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"invitedUser",plural:!1,selections:r,storageKey:null},o,d,c,{alias:null,args:null,concreteType:"Board",kind:"LinkedField",name:"board",plural:!1,selections:r,storageKey:null}],storageKey:null}],type:"CollaboratorInviteResponse",abstractKey:null},u],storageKey:null}],type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:l,kind:"Operation",name:"collab_RequestToJoin_Mutation",selections:[{alias:null,args:i,concreteType:null,kind:"LinkedField",name:"v3CreateRequestToJoinBoardMutation",plural:!1,selections:[n,{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"CollaboratorInvite",kind:"LinkedField",name:"data",plural:!1,selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"invitedByUser",plural:!1,selections:h,storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"invitedUser",plural:!1,selections:h,storageKey:null},o,d,c,{alias:null,args:null,concreteType:"Board",kind:"LinkedField",name:"board",plural:!1,selections:h,storageKey:null}],storageKey:null}],type:"CollaboratorInviteResponse",abstractKey:null},u],storageKey:null}]},params:{id:"ff45f353c3246c417487b54a02f0669dbc6c45761df9567395537bf1f7875a9f",metadata:{},name:"collab_RequestToJoin_Mutation",operationKind:"mutation",text:null}});_.hash="9aa22a7713214239538142ad2c957cc3";let p=_},865738(e,t,a){var l,i;a.r(t),a.d(t,{default:()=>s});let n={fragment:{argumentDefinitions:l=[{defaultValue:null,kind:"LocalArgument",name:"boardId"},{defaultValue:null,kind:"LocalArgument",name:"emails"},{defaultValue:null,kind:"LocalArgument",name:"message"}],kind:"Fragment",metadata:null,name:"collab_emails_Mutation",selections:i=[{alias:null,args:[{fields:[{kind:"Variable",name:"board",variableName:"boardId"},{kind:"Variable",name:"emails",variableName:"emails"},{kind:"Variable",name:"message",variableName:"message"}],kind:"ObjectValue",name:"input"}],concreteType:null,kind:"LinkedField",name:"v3InviteBoardCollaboratorEmailMutationv2",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"ErrorInfo",kind:"LinkedField",name:"error",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"message",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"paramPath",storageKey:null}],storageKey:null}],type:"Error",abstractKey:"__isError"}],storageKey:null}],type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:l,kind:"Operation",name:"collab_emails_Mutation",selections:i},params:{id:"b71dbcb22ec2462fa0cde080403e4f9001df6f822511fd94b0fb3eae0c6b3fd4",metadata:{},name:"collab_emails_Mutation",operationKind:"mutation",text:null}};n.hash="de392a939a95d05f7ee889fe77a9e52d";let s=n},481607(e,t,a){var l,i,n,s;a.r(t),a.d(t,{default:()=>o});let r={fragment:{argumentDefinitions:[l={defaultValue:null,kind:"LocalArgument",name:"boardId"},i={defaultValue:null,kind:"LocalArgument",name:"collaboratorIds"},n={defaultValue:null,kind:"LocalArgument",name:"message"}],kind:"Fragment",metadata:null,name:"collab_users_Mutation",selections:s=[{alias:null,args:[{fields:[{kind:"Variable",name:"board",variableName:"boardId"},{kind:"Variable",name:"collaboratorIds",variableName:"collaboratorIds"},{kind:"Variable",name:"message",variableName:"message"}],kind:"ObjectValue",name:"input"}],concreteType:null,kind:"LinkedField",name:"v3InviteBoardCollaboratorsMutation",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"ErrorInfo",kind:"LinkedField",name:"error",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"message",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"paramPath",storageKey:null}],storageKey:null}],type:"Error",abstractKey:"__isError"}],storageKey:null}],type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[i,l,n],kind:"Operation",name:"collab_users_Mutation",selections:s},params:{id:"42ceaa3423a096a27613e5738f83aaadcee449c55d4dd03624d2f08a6b6dca04",metadata:{},name:"collab_users_Mutation",operationKind:"mutation",text:null}};r.hash="850c5de9834cac0edfdd5652a78bffbf";let o=r},121543(e,t,a){a.r(t),a.d(t,{default:()=>i});let l={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"hasSensitivityNotices_sensitivity",selections:[{alias:null,args:null,concreteType:"AdvisoryNotice",kind:"LinkedField",name:"notices",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"title",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"advisory",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"severity",storageKey:null}],type:"Sensitivity",abstractKey:null};l.hash="547e5abdb645851996d6a1b1a4027c56";let i=l},309181(e,t,a){a.d(t,{Kq:()=>S,bn:()=>P,N_:()=>w});var l=a(296540),i=a(63688),n=a(37918),s=a(540493);let r=(e,t,a)=>a&&(0,n.BP)(a,t)?i.c.MODIFIED:(0,n.TN)(t,e)||a&&(0,n.oA)(a,e)||(0,n.oA)(t,e)?i.c.CLEARED:i.c.APPLIED;function o(e,t){(0,n.i2)(t);let a=e.find(e=>e?.id===t.id),l=a?.rules,i=a?.filter_options?.find(e=>"selectedOptionId"in t&&e.id===t.selectedOptionId)?.rules||l;if(!i)return[e,[]];let s=[],r=[];return e.forEach(e=>{void 0!==e.product_filter_type&&i.includes(e.product_filter_type)?s.push(e):r.push(e)}),[s,r]}function d(e,t){switch(t.type){case"RESET_FILTERS":let[a,l]=t.payload,d=a,c=(0,s.A)(l)?(0,n.$M)(a):l;return Object.values(c).forEach(e=>{let[t]=o(d,e);d=t}),{models:a,availableFilterModels:d,appliedFilters:l,filters:c,isFetching:!1,pendingDeletedSelections:{},status:r(a,l,c)};case"CLEAR_FILTERS":let u=e.models,h=(0,n.Oj)(e.models);return Object.values(h).forEach(e=>{let[t]=o(u,e);u=t}),{...e,filters:h,availableFilterModels:u,pendingDeletedSelections:{},status:r(e.models,e.appliedFilters,h)};case"UPDATE_FILTER":let{payload:_}=t,[p,g]=o(e.models,_),m={...e.filters,[_.id]:_},f={...e.pendingDeletedSelections};return p.forEach(e=>{if(!e.id)return;let t=f[e.id];t&&(m[e.id]=t,delete f[e.id])}),g.forEach(e=>{if(!e.id)return;let t=m[e.id];t&&(f[e.id]=t,delete m[e.id])}),(0,n.i2)(_,e.models.find(e=>e.id===_.id))&&delete m[_.id],{...e,availableFilterModels:p,filters:m,pendingDeletedSelections:f,status:r(e.models,e.appliedFilters,m)};case"SUBMIT_FILTER":return{...e,pendingDeletedSelections:{},status:i.c.SUBMITTED};case"SUBMIT_FAILED":return{...e,status:i.c.FAILED};case"SUBMIT_COMPLETE":let{filters:b}=e;return{...e,appliedFilters:b,pendingDeletedSelections:{},status:r(e.models,b)};case"LOADING":return{...e,isFetching:!0};case"LOADING_COMPLETED_OR_FAILED":return{...e,isFetching:!1};default:return e}}var c=a(981515),u=a(354377),h=a(692942),_=a(485872),p=a(448271),g=a(193574);let m=new Set([1,0,3,6,7,8,9]),f=(e,t,a)=>{let l=t?.find(({product_filter_type:e})=>e===a);if(!l)return;let i=e.findIndex(({product_filter_type:e})=>e===a);e[i]?e[i]=l:e.push(l)},b=(e,t,a)=>{let l=t?.find(({product_filter_type:e})=>e===a);if(!l)return e;let i=e.findIndex(({product_filter_type:e})=>e===a);return e[i]?e[i]=l:e.push(l),e};var y=a(829062),v=a(697384),A=a(389145),x=a(474848);let{Provider:S,getMaybe:P}=(0,v.A)("UnifiedFiltersContext"),w=({applyInitFilters:e,children:t,filterModels:a,filters:s,isFetching:r,refreshFiltersData:o})=>{let{query:v}=(0,A.u)(),P=(0,y.A)(),{getCachedFilters:w,cacheUnifiedFilterModelsWithProductFilters:C}=function(){let[e,t]=(0,l.useState)([]),[a,i]=(0,l.useState)(null),n=(0,p.A)(),s=(0,h.A)(),r=(0,c.A)(),o=(0,u.A)(),d=(0,_.A)(),y=(0,l.useCallback)(({unifiedFilterModels:l,baseCacheKey:c})=>{let u=l?.filter(({product_filter_type:e})=>void 0!==e&&m.has(e));if(!u||u?.length===0||!c)return;let h=c!==a,_=h?[]:e;(h||!n)&&f(_,u,1),(h||!s)&&f(_,u,0),(h||!r)&&f(_,u,3),(h||!o)&&f(_,u,6),(h||!d)&&[7,8,9].forEach(e=>{f(_,u,e)}),(0,g.Ay)(_,e)||(t(_),i(c))},[e,r,o,s,d,n,a]);return{getCachedFilters:(0,l.useCallback)(t=>{if(!t||t?.length===0)return[];let a=[...t];return n&&(a=b(a,e,1)),s&&(a=b(a,e,0)),r&&(a=b(a,e,3)),o&&(a=b(a,e,6)),d&&[7,8,9].forEach(t=>{a=b(a,e,t)}),a},[e,r,o,s,d,n]),cacheUnifiedFilterModelsWithProductFilters:y}}(),k=e?.(a)||s||{},[I,z]=(0,l.useReducer)(d,{models:a,availableFilterModels:a,appliedFilters:k,filters:k,pendingDeletedSelections:{},isFetching:r,status:(0,n.TN)(k,a)||(0,n.oA)(k,a)?i.c.CLEARED:i.c.APPLIED}),[T,j]=(0,l.useState)(a);(0,l.useEffect)(()=>{r&&z({type:"LOADING"})},[r]),(0,l.useEffect)(()=>{if(r||I.isFetching&&0===a.length)return;if(!(0,n.Sp)(T,a))return void z({type:"LOADING_COMPLETED_OR_FAILED"});let t=a;P||(t=w([...a]),C({unifiedFilterModels:[...a],baseCacheKey:v})),z({type:"RESET_FILTERS",payload:[t,e?.(t)||{}]}),j(a)},[e,a,T,r,I.isFetching,w,C,v,P]);let E=(0,l.useMemo)(()=>({filterState:I,dispatch:z,refreshFiltersData:o}),[I,o]);return(0,x.jsx)(S,{value:E,children:t})}},63688(e,t,a){a.d(t,{c:()=>i,f:()=>l});let l=50,i={APPLIED:"applied",CLEARED:"cleared",MODIFIED:"modified",SUBMITTED:"submitted",FAILED:"failed"}},901410(e,t,a){a.d(t,{A:()=>c});var l=a(643844),i=a(309181),n=a(37918),s=a(369975),r=a(885450),o=a(967659),d=a(389145);function c(){let{brands:e,colors:t,domains:a,onSale:c,priceMax:u,priceMin:h}=(0,d.u)(),_=(0,i.bn)(),{cachedProductFilterOneBarModules:p}=(0,l.x)(),g=Number((0,o.A)().filter_location);if(1===g){let{filterState:e}=_||{};return e?(0,n.Iz)(e.appliedFilters,e.models):null}if(0===g){let l=(0,s.A)(r.A,!0)(p.map(e=>e.action?.filter).filter(Boolean));return(0,n.th)({brandsParam:e,colorsParam:t,domainsParam:a,onSaleParam:c,priceMaxParam:u,priceMinParam:h,unifiedFilterModels:l})}return null}},37918(e,t,a){a.d(t,{$M:()=>p,A:()=>x,BP:()=>d,CX:()=>w,Iz:()=>v,Oj:()=>g,ST:()=>f,Sp:()=>c,TN:()=>h,Vr:()=>P,b_:()=>y,ch:()=>A,i2:()=>u,oA:()=>_,th:()=>b,vd:()=>S});var l=a(63688),i=a(193574),n=a(809583);let s=e=>e.map(({filter_component_type:e,filter_options:t,title:a})=>({filter_component_type:e,filter_options:t?.map(({id:e,label:t,count:a,image_url:l,is_verified:i,numeric_value:n,string_value:s,unit:r})=>({id:e,label:t,count:a,image_url:l,is_verified:i,numeric_value:n,string_value:s,unit:r})),title:a})),r=(e,t)=>{if(!e&&!t)return!1;if(!e||!t)return!0;if("single"===e.type&&"single"===t.type)return e.selectedOptionId!==t.selectedOptionId;if("multi"===e.type&&"multi"===t.type)return!(0,i.Ay)(e.selectedOptionIds,t.selectedOptionIds);if("range"===e.type&&"range"===t.type)return e.min!==t.min||e.max!==t.max;throw Error("Filter type specific return must be specified")},o=e=>!e||!Object.keys(e).length,d=(e,t)=>{if(o(e)&&o(t))return!1;if(o(e)||o(t)||e&&t&&Object.entries(e).length!==Object.entries(t).length)return!0;for(let a in e)if(r(e[a],t?.[a]))return!0;return!1},c=(e,t)=>!(0,i.Ay)(s(e),s(t)),u=(e,t)=>{if("single"===e.type)return!e.selectedOptionId;if("multi"===e.type)return 0===e.selectedOptionIds.size;if("range"===e.type)return!!t?.filter_options&&e.min===t.filter_options[0]?.numeric_value&&e.max===t.filter_options[2]?.numeric_value;throw Error("Filter type specific return must be specified")},h=(e,t)=>{try{for(let a in e){let l=e[a],i=t.find(e=>e.id===l?.id);if(l&&!u(l,i))return!1}return!0}catch(e){return!0}},_=(e,t)=>{if(!t||0===t.length)return!1;let a=t[0];if(!a)return!1;switch(a?.filter_component_type){case 2:let l=a.filter_options?.[0];for(let t in e){let a=e[t];if(!a)break;if("selectedOptionId"in a&&a.selectedOptionId===l?.id)return!0}return!1;case 1:for(let t in e){let l=e[t];if(!l)break;if(l.id===a.id&&"selectedOptionIds"in l&&0===l.selectedOptionIds.size)return!0}return!1;default:return!1}},p=e=>e.map(e=>{switch(e.filter_component_type){case 2:let t=e.filter_options?.find(e=>e.is_selected)?.id;return t?{selectedOptionId:t,id:e.id,type:"single"}:null;case 1:let a=e.filter_options?.filter(e=>e.is_selected).map(({id:e})=>e);return a&&a.length>0?{selectedOptionIds:new Set(a),id:e.id,type:"multi"}:null;default:return null}}).reduce((e,t)=>t?{...e,[t.id]:t}:e,{}),g=e=>{if(!e||0===e.length)return{};let t=e[0];switch(t?.filter_component_type){case 2:let a=t.filter_options?.[0]?.id;return a&&"string"==typeof t.id?{[t.id]:{selectedOptionId:a,lastChangedLocation:1,id:t.id,type:"single"}}:{};case 1:return"string"==typeof t.id?{[t.id]:{selectedOptionIds:new Set,lastChangedLocation:1,id:t.id,type:"multi"}}:{};default:return{}}},m=e=>e.map(e=>{let{filter_id:t,filter_options:a,product_filter_type:l}=e,i=t;return"number"==typeof l&&(i+=`_${l}`),a.length>0&&(i+=":",a.forEach((e,t)=>{let{filter_option_id:l,numeric_value:n,string_value:s,unit:r}=e;i+=`${l}`,"number"==typeof n&&(i+=`_${n}`),"string"==typeof s&&(i+=`_${s}`),"string"==typeof r&&(i+=`_${r}`),t<a.length-1&&(i+=",")})),i}).join("|"),f=({brands:e,colors:t,domains:a,onSale:l,priceMax:i,priceMin:s,scope:r,unifiedFilterModels:o})=>{let d={};for(let{filter_options:c,id:u,product_filter_type:h}of o)if(u&&c?.length){if(1===h&&("number"==typeof s||"number"==typeof i)){let[e,t,a,l]=c,n=s??a?.numeric_value??e?.numeric_value??0,r=i??l?.numeric_value??t?.numeric_value??100;d[u]={min:n,max:r,id:u,type:"range",lastChangedLocation:1}}if(0===h&&a&&a.length>0){let e=a.map(e=>{let t=c.find(({string_value:t})=>t===e);return t?t.id:null}).filter(Boolean);e.length>0&&(d[u]={id:u,lastChangedLocation:1,selectedOptionIds:new Set(e),type:"multi"})}if(3===h&&e&&e.length>0){let t=e.map(e=>{let t=c.find(({string_value:t})=>t===e);return t?t.id:null}).filter(Boolean);t.length>0&&(d[u]={id:u,lastChangedLocation:1,selectedOptionIds:new Set(t),type:"multi"})}if(6===h&&t&&t.length>0){let e=t.map(e=>{let t=c.find(({string_value:t})=>t===e);return t?t.id:null}).filter(Boolean);e.length>0&&(d[u]={id:u,lastChangedLocation:1,selectedOptionIds:new Set(e),type:"multi"})}if(4===h&&r){let e=(0,n.Ef)(r),t=c.find(({search_type:t})=>t===e);t?.id&&(d[u]={id:u,lastChangedLocation:1,selectedOptionId:t.id,type:"single"})}if("number"==typeof h&&new Set([7,8,9]).has(h)&&l){let e=c[0]?.id;e&&(d[u]={id:u,lastChangedLocation:1,selectedOptionId:e,type:"single"})}}return d},b=({brandsParam:e,colorsParam:t,domainsParam:a,onSaleParam:l,priceMaxParam:i,priceMinParam:n,unifiedFilterModels:s})=>{let r=[],o=Number(n),d=Number(i),c=Number.isNaN(o)?void 0:o,u=Number.isNaN(d)?void 0:d,h=a?.split(",").filter(Boolean)??[],_=e?.split(",").filter(Boolean)??[],p=t?.split(",").filter(Boolean)??[];for(let{filter_options:e,id:t,product_filter_type:a}of s)if(t&&e?.length){if(1===a&&"number"==typeof c&&"number"==typeof u){let l={filter_id:t,filter_options:e.slice(0,2).filter(e=>void 0!==e.id).map((e,t)=>({filter_option_id:e.id,numeric_value:0===t?c:u,unit:e.unit||"USD"})),location:0,product_filter_type:a};r.push(l)}if(0===a&&h&&h.length>0){let l=h.map(t=>{let a=e.find(e=>e.string_value===t);return a?a.id:null}).filter(Boolean);if(l.length>0){let e={filter_id:t,filter_options:l.map(e=>({filter_option_id:e,string_value:e})),location:0,product_filter_type:a};r.push(e)}}if(3===a&&_&&_.length>0){let l=_.map(t=>{let a=e.find(e=>e.string_value===t);return a?a.id:null}).filter(Boolean);if(l.length>0){let e={filter_id:t,filter_options:l.map(e=>({filter_option_id:e,string_value:e})),location:0,product_filter_type:a};r.push(e)}}if(6===a&&p&&p.length>0){let l=p.map(t=>{let a=e.find(e=>e.string_value?.toLowerCase()===t.toLowerCase());return a?a.id:null}).filter(Boolean);if(l.length>0){let e={filter_id:t,filter_options:l.map(e=>({filter_option_id:e,string_value:e})),location:0,product_filter_type:a};r.push(e)}}if(7===a&&l){let i=e[0]?.id;if(i){let e={filter_id:t,filter_options:[{filter_option_id:i,numeric_value:Number(l)}],location:0,product_filter_type:a};r.push(e)}}}return 0===r.length?null:m(r)},y=({filterMap:e,isInWebHundredPercentProductLoadExp:t,models:a})=>{let l=null,i=null,s=!1,r=null,o=null,d=null,c=null,u=null;for(let h in e){let _=e[h];if(_){let e=a.find(e=>e.id===_.id);if(e)if("range"===_.type&&1===e.product_filter_type)d=_.min,o=_.max;else if("multi"===_.type&&0===e.product_filter_type){let t=e.filter_options?.filter(e=>_.selectedOptionIds.has(e.id||""));r=t?.map(e=>e.string_value).filter(Boolean)}else if("multi"===_.type&&3===e.product_filter_type){let t=e.filter_options?.filter(e=>_.selectedOptionIds.has(e.id||""));l=t?.map(e=>e.string_value).filter(Boolean)}else if("multi"===_.type&&6===e.product_filter_type){let t=e.filter_options?.filter(e=>_.selectedOptionIds.has(e.id||""));i=t?.map(e=>e.string_value).filter(Boolean)}else if("single"===_.type&&4===e.product_filter_type){let a=e.filter_options?.find(e=>_.selectedOptionId===e.id),l=a&&void 0!==a.search_type?(0,n.UQ)(a.search_type):n.cO.PINS;u=l,t&&(u=l===n.cO.PINS_BUYABLE?n.cO.PINS:l,s=l===n.cO.PINS_BUYABLE)}else"single"===_.type&&7===e.product_filter_type&&(c=e.filter_options?.[0]?.numeric_value)}}let h=a.find(e=>4===e.product_filter_type),_=h?.filter_options?.find(e=>e.is_selected);return null===u&&"number"==typeof _?.search_type&&(u=(0,n.UQ)(_.search_type)),{brands:l,colors:i,commerce_only:s,domains:r,max:o,min:d,on_sale:c,scope:u}},v=(e,t)=>{let a=[];return(Object.entries(e).forEach(([e,l])=>{let i=t.find(e=>e.id===l.id);if(!i||4===i.product_filter_type||"number"!=typeof i.product_filter_type||!i.filter_options)return;let n=[];if("range"===l.type){let[e,t]=i.filter_options;if(!e?.id||!t?.id)return;n=[{filter_option_id:e.id,numeric_value:l.min,unit:e.unit},{filter_option_id:t.id,numeric_value:l.max,unit:t.unit}]}if("single"===l.type){let e=i.filter_options.find(e=>e.id===l.selectedOptionId);if(!e?.id)return;n=[{filter_option_id:e.id,numeric_value:e.numeric_value,string_value:e.string_value}]}if("multi"===l.type){let e=i.filter_options.filter(e=>e.id&&l.selectedOptionIds.has(e.id));if(0===e.length)return;n=e.filter(e=>void 0!==e.id).map(e=>({filter_option_id:e.id,numeric_value:e.numeric_value,string_value:e.string_value}))}a.push({filter_id:e,filter_options:n,location:l.lastChangedLocation,product_filter_type:i.product_filter_type})}),a&&0!==a.length)?m(a):null},A=e=>{let t,{filter:a,title:l}=e.action||{},{title:i}=a||{},n=l||i;if(!a||!n)return null;let{filterComponentType:s,productFilterType:r,id:o}=a,d=(a.filterOptions||[]).filter(Boolean);if(void 0===s||void 0===d||0===d.length||null==r||null==o)return null;let c=(t=d.map(e=>{if(!e)return null;let{auxData:t,id:a,imageUrl:l,isVerified:i,label:n,numericValue:s,searchType:r,stringValue:o,unit:d,rules:c}=e;return null===l||null===l||null===s||null===i||null===o||null===d?null:{id:a||"",label:n||"",count:0,image_url:l,is_verified:i,numeric_value:s,...c?{rules:[...c]}:{},..."number"==typeof r?{search_type:r}:{},string_value:o,unit:d,..."string"==typeof t?.moduleId?{aux_data:{module_id:t.moduleId}}:{}}}).filter(Boolean)).length>0?t:null;return c?{filter_component_type:s,filter_options:[...c],id:o||"",product_filter_type:r,title:n}:null};function x(e,t,a){let[i,n,s,r]=a,{numeric_value:o=0}=r??i??{},{numeric_value:d=o+l.f}=s??n??{},{unit:c="USD"}=i??{},u=e.filters[t]?.type==="range"?e.filters[t]:{min:o,max:d,id:t,type:"range",lastChangedLocation:1};return{defaultMax:d,defaultMin:o,unit:c,range:u}}function S(e){return"multi"!==e.type?e:{...e,selectedOptionIds:new Set}}function P(e,t){let a=[];return Object.entries(t).forEach(([t,l])=>{let i=e.find(e=>e?.id===t);if(i){let e=i.aux_data?.module_id;e&&a.push(e);let t=("multi"===l.type?Array.from(l.selectedOptionIds):"single"===l.type?[l.selectedOptionId]:[]).map(e=>{let t=i.filter_options?.find(t=>t.id===e);return t?.aux_data?.module_id||""}).filter(Boolean);a.push(...t)}}),a}function w(e,t){let a=[];return Object.keys(t).forEach(t=>{let l=e.find(e=>e?.id===t);if(l){let e=l.product_filter_type;e&&a.push(e)}}),a}},926026(e,t,a){a.d(t,{AQ:()=>A,Ak:()=>w,F0:()=>p,Hs:()=>f,Kc:()=>x,Ln:()=>h,QI:()=>c,Up:()=>m,Yr:()=>P,_S:()=>y,kB:()=>u,mi:()=>g,oM:()=>v,wq:()=>_,zN:()=>b});var l=a(84054),i=a(886828),n=a(490315),s=a(167195),r=a(327467),o=a(871991),d=a(646844);let c=e=>e.bt("Hãy đảm bảo độ tuổi này là chính xác. Ngày sinh của bạn là cần thiết để cá nhân hóa, bảo vệ cộng đồng an toàn và như một phần của điều khoản dịch vụ của chúng tôi. Đối với tài khoản doanh nghiệp, hãy sử dụng ngày sinh của riêng bạn.", "Make sure this age is accurate. Your birthdate is required for personalization, community safety and as part of our terms of service. For business accounts, use your own birthdate.", "birthdateConfirmation.HelperText", undefined, true),u=e=>e.bt("Sử dụng ngày sinh nhật của chính bạn, ngay cả khi đây là tài khoản doanh nghiệp", "Use your own birthday, even if this a business account", "birthdateConfirmation.HelperText.ownBirthday", undefined, true),h=e=>e.bt("Rất tiếc! Vui lòng nhập độ tuổi hợp lệ để đăng ký.", "Oops! Please use a valid age to sign up.", "existingUser.birthdaycollection.error.overage", undefined, true),_=(e,t)=>{let{locale:a}=t.getLocaleData(),l=(0,s.A)(e),i=l.toLocaleString(a,{month:"long"}),n=l.getDate().toString(),o=l.getFullYear();return(0,r.vQ)(t.bt("Có phải {{day}} {{month}}, {{year}} là sinh nhật của bạn không?", "Is {{month}} {{day}}, {{year}} your birthday?", "birthdateConfirmation.heading", undefined, true),{month:i,day:n,year:o})},p=(e,t,a,l,i=!1)=>{let n=(0,r.vQ)(i?e.bt("Rất tiếc! Vui lòng nhập {{dayError}}{{monthError}}{{yearError}} hợp lệ.", "Oops! Please enter a valid {{dayError}}{{monthError}}{{yearError}}.", "settings birthday error message", undefined, true):e.bt("Rất tiếc! Vui lòng nhập {{dayError}}{{monthError}}{{yearError}} hợp lệ để đăng ký.", "Oops! Please enter a valid {{dayError}}{{monthError}}{{yearError}} to sign up.", "signup birthday error message", undefined, true),{dayError:t?e.bt("ngày", "day", "dayError keyword placeholder", undefined, true):"",monthError:a?e.bt("tháng", "month", "monthError keyword placeholder", undefined, true):"",yearError:l?e.bt("năm", "year", "monthError keyword placeholder", undefined, true):""}).filter(e=>0!==e.length);return 3===n.length?n.join(""):n[0]+n.slice(1,-1).join(", ")+n[n.length-1]},g=({country:e})=>e&&e in o.wS?o.wS[e]:o.VJ,m=(e,t)=>{let a=new Date,l=new Date(a.getFullYear()-t,a.getMonth(),a.getDate());return new Date(e)<=l},f=new Date().getFullYear(),b=new Date().getFullYear()-120,y=12,v=1,A=1,x=31,S="yyyy-MM-dd",P=e=>{let t=new Date,a=new Date(b,t.getMonth(),t.getDate()),l=m(e,5),i=new Date(e)>a;return l&&i};function w(e){let t=(0,l.A)(e,S,new Date);if((0,i.A)(t))return e;let a=new Date(e);try{return(0,n.A)(a,S)}catch{return(0,d.GV)("webapp.birthday_validation_error",{sampleRate:1,tags:{birthdate:e}}),e}}},167195(e,t,a){a.d(t,{A:()=>l});let l=e=>{let t=new Date(e);return new Date(t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate())}},818093(e,t,a){a.d(t,{A:()=>l});function l(e,t){return({CANCEL:t.bt("Hủy", "Cancel", "business.strings", undefined, true),LEARN_MORE:t.bt("Tìm hiểu thêm", "Learn more", "business.strings", undefined, true),OK:t.bt("OK", "OK", "business.strings", undefined, true),DONE:t.bt("Đã xong", "Done", "business.strings", undefined, true),NEXT:t.bt("Tiếp theo", "Next", "business.strings", undefined, true),SAVE_ACTION:t.bt("Lưu", "Save", "business.strings", undefined, true),SAVE_NOUN:t.bt("Lưu", "Save", "business.strings", undefined, true),LOADING:t.bt("Đang tải", "Loading", "business.strings", undefined, true),ALL:t.bt("Tất cả", "All", "business.strings", undefined, true),EDIT:t.bt("Chỉnh sửa", "Edit", "business.strings", undefined, true),BACK:t.bt("Quay lại", "Back", "business.strings", undefined, true),DELETE:t.bt("Xóa", "Delete", "business.strings", undefined, true),NONE:t.bt("Không có", "None", "business.strings", undefined, true),IMPRESSIONS:t.bt("Lượt hiển thị", "Impressions", "business.strings", undefined, true),SEARCH_ACTION:t.bt("Tìm kiếm", "Search", "business.strings", undefined, true),SEARCH_NOUN:t.bt("Tìm kiếm", "Search", "business.strings", undefined, true),ACTIVE:t.bt("Hiện hoạt", "Active", "business.strings", undefined, true),VIDEO:t.bt("Video", "Video", "business.strings", undefined, true),SAVES_ACTION:t.bt("Lượt lưu", "Saves", "business.strings", undefined, true),SAVES_NOUN:t.bt("Lượt lưu", "Saves", "business.strings", undefined, true),CONTINUE:t.bt("Tiếp tục", "Continue", "business.strings", undefined, true),NO:t.bt("Không", "No", "business.strings", undefined, true),STATUS:t.bt("Trạng thái", "Status", "business.strings", undefined, true),PROMOTE:t.bt("Quảng cáo", "Promote", "business.strings", undefined, true),NAME:t.bt("Tên", "Name", "business.strings", undefined, true),SUBMIT:t.bt("Gửi", "Submit", "business.strings", undefined, true),PAUSED:t.bt("Đã tạm dừng", "Paused", "business.strings", undefined, true),SEE_MORE:t.bt("Xem thêm", "See more", "business.strings", undefined, true),FOLLOWING:t.bt("Người đang theo dõi", "Following", "business.strings", undefined, true),CLOSE:t.bt("Đóng", "Close", "business.strings", undefined, true),INSTALL_TAG:t.bt("Cài đặt Thẻ", "Install tag", "business.strings", undefined, true),PIN_CLICKS:t.bt("Lượt nhấp Ghim", "Pin clicks", "business.strings", undefined, true),CONVERSIONS:t.bt("Lượt chuyển đổi", "Conversions", "business.strings", undefined, true),SEND:t.bt("Gửi", "Send", "business.strings", undefined, true),KEYWORDS:t.bt("Từ khóa", "Keywords", "business.strings", undefined, true),CREATE:t.bt("Tạo", "Create", "business.strings", undefined, true),REPORT_ACTION:t.bt("Báo cáo", "Report", "business.strings", undefined, true),REPORT_NOUN:t.bt("Báo cáo", "Report", "business.strings", undefined, true),BOARDS:t.bt("Bảng", "Boards", "business.strings", undefined, true),PINS:t.bt("Ghim", "Pins", "business.strings", undefined, true),LINK_CLICKS:t.bt("Lượt nhấp vào liên kết", "Link clicks", "business.strings", undefined, true),COMPLETED:t.bt("Đã hoàn tất", "Completed", "business.strings", undefined, true),PENDING:t.bt("Đang chờ xử lý", "Pending", "business.strings", undefined, true),SELECT:t.bt("Chọn", "Select", "business.strings", undefined, true),ARCHIVED:t.bt("Đã lưu trữ", "Archived", "business.strings", undefined, true),ACTIONS:t.bt("Hành động", "Actions", "business.strings", undefined, true),PRODUCT_GROUPS:t.bt("Nhóm sản phẩm", "Product groups", "business.strings", undefined, true),CUSTOM:t.bt("Tùy chỉnh", "Custom", "business.strings", undefined, true),CREATE_PIN:t.bt("Tạo Ghim", "Create Pin", "business.strings", undefined, true),COUNTRY:t.bt("Quốc gia", "Country", "business.strings", undefined, true),VIDEO_VIEWS:t.bt("Lượt xem video", "Video views", "business.strings", undefined, true),REMOVE:t.bt("Xóa", "Remove", "business.strings", undefined, true),EMAIL_ADDRESS:t.bt("Địa chỉ email", "Email address", "business.strings", undefined, true),PINTEREST:t.bt("Pinterest", "Pinterest", "business.strings", undefined, true),PRIVACY_POLICY:t.bt("Chính sách Quyền riêng tư", "Privacy Policy", "business.strings", undefined, true),OTHER:t.bt("Khác", "Other", "business.strings", undefined, true),REQUIRED:t.bt("Bắt buộc", "Required", "business.strings", undefined, true),CLICKS_ACTION:t.bt("Lượt nhấp", "Clicks", "business.strings", undefined, true),CLICKS_NOUN:t.bt("Lượt nhấp", "Clicks", "business.strings", undefined, true),ENGAGEMENT:t.bt("Lượt tương tác", "Engagement", "business.strings", undefined, true),NOT_NOW:t.bt("Lúc khác", "Not now", "business.strings", undefined, true),ADS:t.bt("Quảng cáo", "Ads", "business.strings", undefined, true),ERROR:t.bt("Lỗi", "Error", "business.strings", undefined, true),CAMPAIGNS:t.bt("Chiến dịch", "Campaigns", "business.strings", undefined, true),VISIT_ACTION:t.bt("Truy cập", "Visit", "business.strings", undefined, true),VISIT_NOUN:t.bt("Truy cập", "Visit", "business.strings", undefined, true),OUTBOUND_CLICKS:t.bt("Lượt nhấp ra ngoài", "Outbound clicks", "business.strings", undefined, true),ADD:t.bt("Thêm", "Add", "business.strings", undefined, true),DESCRIPTION:t.bt("Mô tả", "Description", "business.strings", undefined, true),SPEND_ACTION:t.bt("Chi tiêu", "Spend", "business.strings", undefined, true),SPEND_NOUN:t.bt("Chi tiêu", "Spend", "business.strings", undefined, true),CREATE_AD:t.bt("Tạo quảng cáo", "Create ad", "business.strings", undefined, true),EXPAND:t.bt("Mở rộng", "Expand", "business.strings", undefined, true),MEASURE_YOUR_AD_PERFORMANCE:t.bt("Đo lường hiệu suất quảng cáo của bạn", "Measure your ad performance", "business.strings", undefined, true),CREATE_BOARD:t.bt("Tạo bảng", "Create board", "business.strings", undefined, true),SELECTED:t.bt("Đã chọn", "Selected", "business.strings", undefined, true),PEOPLE:t.bt("Mọi người", "People", "business.strings", undefined, true),YES:t.bt("Có", "Yes", "business.strings", undefined, true),TOTAL:t.bt("Tổng cộng", "Total", "business.strings", undefined, true),AUDIENCE_INSIGHTS:t.bt("Thông tin đối tượng", "Audience insights", "business.strings", undefined, true),DISMISS:t.bt("Bỏ qua", "Dismiss", "business.strings", undefined, true),PHONE_NUMBER:t.bt("Số điện thoại", "Phone number", "business.strings", undefined, true),TODAY:t.bt("Hôm nay", "Today", "business.strings", undefined, true),GOT_IT:t.bt("Đã hiểu", "Got it", "business.strings", undefined, true),SUCCESS:t.bt("Thành công", "Success", "business.strings", undefined, true),AD_GROUPS:t.bt("Các nhóm Quảng cáo", "Ad groups", "business.strings", undefined, true)})[e]}},181876(e,t,a){a.d(t,{A:()=>n});var l=a(296540),i=a(493006);function n({allowSearchOnMount:e,children:t,onTypeaheadSuggestionsChange:a,resourceName:n,resourceOptions:s,value:r}){let o=(0,i.A)({allowSearchOnMount:e,resourceName:n,resourceOptions:s,value:r});return(0,l.useEffect)(()=>{o?.length&&a(o)},[o]),t||null}},493006(e,t,a){a.d(t,{A:()=>r});var l=a(296540);function i(e,t,a){var l;return(t="symbol"==typeof(l=function(e,t){if("object"!=typeof e||!e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var l=a.call(e,t||"default");if("object"!=typeof l)return l;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?l:l+"")in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}let n=class{constructor(e){i(this,"_uidToData",{}),i(this,"_numItems",0),i(this,"_firstData",null),i(this,"_lastData",null),this._maxNumItems=e??10}set(e,t){let a=this._uidToData[e];a||(a={uid:e,item:t,next:null,prev:null},this._uidToData[e]=a,this._numItems+=1),this._moveToFront(a),this._numItems>this._maxNumItems&&this._evict()}get(e){let t=this._uidToData[e];return t?(this._moveToFront(t),t.item):null}remove(e){let t=this._uidToData[e];t&&(delete this._uidToData[e],this._firstData===t&&(this._firstData=t.next),this._lastData===t&&(this._lastData=t.prev),t.prev&&(t.prev.next=t.next),t.next&&(t.next.prev=t.prev),this._numItems-=1)}_moveToFront(e){this._firstData!==e&&(this._firstData?(this._lastData===e&&(this._lastData=e.prev),e.prev&&(e.prev.next=e.next),e.next&&(e.next.prev=e.prev),this._firstData.prev=e,e.next=this._firstData,e.prev=null,this._firstData=e):(this._firstData=e,this._lastData=e))}_evict(){this._lastData&&(delete this._uidToData[this._lastData.uid],this._firstData===this._lastData?(this._firstData=null,this._lastData=null):(this._lastData=this._lastData.prev,this._lastData&&(this._lastData.next=null)),this._numItems-=1)}};var s=a(211243);function r({allowSearchOnMount:e=!1,resourceName:t,resourceOptions:a={},value:i}){let r=(0,l.useRef)(!1),o=(0,l.useRef)({}),[d,c]=(0,l.useState)([]),u=function({resourceName:e,resourceOptions:t}){let a=(0,s.Kw)(),i=(0,l.useRef)(void 0);return i.current||(i.current=function({resourceCreator:e,resourceName:t,resourceOptions:a}){let l=e(t,{...a,count:"count"in a?a.count:5}),i=new n,s=()=>{l.abort()},r=async(e,t)=>{if(l.isCalling()){let a=l.options?.term,i=l.options?.pin_scope;if(e===a&&t===i)return;s()}let{bookmarks:a,...n}=l.options||{};l.options={...n,term:e,pin_scope:t};let{data:r}=(await l.callGet({showError:!1})).resource_response,o=r?.items,d=r?.hint||{};return i.set(`${t}-${e}`,{hint:d,items:o}),{term:e,items:o,hint:d}};return async function(e,t){let a=i.get(`${t}-${e}`);if(a){let{items:t}=a;if(t&&t.length){s();let{hint:l}=a;return{hint:l,items:t,term:e}}}return e.length>=0?r(e,t):{hint:{},items:[],term:e}}}({resourceCreator:a,resourceName:e,resourceOptions:t})),i.current}({resourceName:t,resourceOptions:a}),h=a.pin_scope||"pins",_=`${h}-${i}`;return(0,l.useEffect)(()=>{(async()=>{if(null!=i&&""!==i&&(e||r.current))if(_ in o.current)c(o.current[_]);else try{let e=await u(i,h);if(e){let{items:t}=e;o.current[_]=t,c(t)}}catch(e){if("Resource call aborted"===e)return;throw e}r.current||(r.current=!0)})()},[i,h,_]),d}},929301(e,t,a){a.d(t,{n1:()=>o,hr:()=>r});var l=a(104456),i=a(38772),n=a(233342),s=a(441472);function r({searchParams:e,sourceUrl:t,isDesktop:a,isAuthenticated:l,appliedUnifiedFilters:i}){let{autoCorrectionDisabled:n,bubbleId:s,category:r,currentlyAppliedFiltersParamTerm:o,domains:c,guidedSearchQuery:u,inGlobalSearch:h,journeyDepth:_,personalizationPinSig:p,priceMax:g,priceMin:m,query:f,requestParams:b,rs:y,scope:v,selectedOneBarModules:A,sourceId:x,sourceModuleId:S,topPinIds:P,user:w}=e;return function(e){let{selectedOneBarModules:t,currentlyAppliedFiltersParamTerm:a,personalizationPinSig:l,inGlobalSearch:i,appliedUnifiedFilters:n,initialCategory:s,initialDomains:r,initialMaxPrice:o,initialMinPrice:c,isDuplo:u,...h}=e,_=t?.split(","),p={...h,filters:a,selectedOneBarModules:_,selectedPinImgSig:l};if(i)return d(p);let g={...p,appliedUnifiedFilters:n,appliedProductFilters:function({category:e,domains:t,maxPrice:a,minPrice:l}){return[e,t,a,l].map(e=>e??"").join("-")}({category:s,domains:r,maxPrice:o,minPrice:c})};return u&&(g.domains=r,g.priceMax=o?parseInt(o,10):void 0,g.priceMin=c?parseInt(c,10):void 0),d(g)}({appliedUnifiedFilters:i,autoCorrectionDisabled:n,bubbleId:s,currentlyAppliedFiltersParamTerm:o,guidedSearchQuery:u,inGlobalSearch:h,initialCategory:r,initialDomains:c,initialMaxPrice:g,initialMinPrice:m,isDuplo:!l||!a,journeyDepth:_,personalizationPinSig:p,query:f,requestParams:b,rs:y,scope:v,selectedOneBarModules:A,sourceId:x,sourceModuleId:S,sourceUrl:t,topPinIds:P,user:w})}function o({appliedProductFilters:e,applied_unified_filters:t,auto_correction_disabled:a,filters:l,journey_depth:i,query:n,rs:s,scope:r,selected_one_bar_modules:o,query_pin_sigs:d,source_id:c,source_module_id:u,top_pin_ids:h,user:_}){let p=[e,l,i,n,s,r,o,d,c,u,t,h,_].map(e=>e??"").join(":");return a?"auto-correction-disabled:"+p:p}function d(e){return{name:"BaseSearchResource",options:(e=>{let{query:t="",scope:a="pins",appliedUnifiedFilters:r=null,appliedProductFilters:o=null,filters:d=null,domains:c=null,priceMax:u=null,priceMin:h=null,rs:_=n.I.DIRECT_NAVIGATION,journeyDepth:p=null,sourceId:g=null,sourceModuleId:m=null,sourceUrl:f=null,selectedOneBarModules:b=null,selectedPinImgSig:y=null,user:v=null,autoCorrectionDisabled:A=!1,seoDrawerEnabled:x=!1,bubbleId:S=null,pageSize:P=null,requestParams:w=null,topPinIds:C=null}=e,k="undefined"!=typeof window?(0,s.y1)().getItem("pwt_performance_testing"):null,I=f&&f.includes("pwt_performance_testing"),z=!!(!0===k||"true"===k||I);return{query:t,scope:a,appliedProductFilters:o,domains:c,user:v,seoDrawerEnabled:x,applied_unified_filters:r,auto_correction_disabled:A,journey_depth:p,source_id:g,source_module_id:m,source_url:function(e){if(!e)return"";let t=new Set,a=e.split("?")[1];a&&a.split("&").forEach(e=>{e.includes("=")||t.add(e)});let{directory:n,queryKey:s}=(0,l.A)((0,i.A)(e,["request_params"])),r=Object.keys(s).sort().map(e=>t.has(e)?e:`${e}=${s[e]}`).join("&");return r?`${n}?${r}`:n}(f),static_feed:z,selected_one_bar_modules:b,query_pin_sigs:y,page_size:P,price_max:u,price_min:h,request_params:w,top_pin_ids:C,article:S,corpus:y?"personalize":null,customized_rerank_type:y?"manas_graph_sage_only_wand_rewrite":null,filters:d,rs:_,redux_normalize_feed:!0}})({...e,autoCorrectionDisabled:!!e.autoCorrectionDisabled})}}},535465(e,t,a){a.d(t,{A:()=>i});let l=/^[\w.!#$%&'*+\-\/=?\^`{|}~]+@[a-z\d\-]+(\.[a-z\d\-]+)+$/i,i=e=>l.test(e)},885450(e,t,a){a.d(t,{A:()=>l});function l(e,t){let a=t?.separateNumbers?/([A-Z]|\d)/g:/([A-Z])/g;return e.replace(a,(e,t)=>"_"+t.toLowerCase())}},531411(e,t,a){a.d(t,{A:()=>o});var l=a(296540);let i=null,n=!1,s=0,r=()=>{i&&clearTimeout(i),n=!0,i=setTimeout(()=>{n=!1},100)},o=()=>{let[e,t]=(0,l.useState)(!1),a=(0,l.useRef)(null);(0,l.useEffect)(()=>(0===s&&window.addEventListener("scroll",r),s+=1,()=>{a.current&&clearTimeout(a.current),(s-=1)||window.removeEventListener("scroll",r)}),[]);let i=e=>{a.current&&clearTimeout(a.current),a.current=e&&n?setTimeout(()=>i(!0),100):setTimeout(()=>{t(e)},32)};return{isHovering:e,hoverHandlers:(0,l.useRef)({onMouseOver:()=>i(!0),onMouseLeave:()=>i(!1)}).current}}},44267(e,t,a){a.d(t,{A:()=>i});let l=/^(?:https?:\/\/)?([^\s\/?#."]+\.)+([^\s\/?#."]+)(\/[^\s?#]*)?(#[^\s]*)?(\?[^"]*)?$/;function i(e,t){return!!e&&l.test(e)&&(e.startsWith("http://")||e.startsWith("https://")||!!t?.protocolIsOptional)}},539316(e,t,a){a.d(t,{$P:()=>S,A3:()=>y,Cd:()=>k,Ji:()=>A,Kg:()=>g,Mx:()=>p,ND:()=>x,Ps:()=>d,QM:()=>b,RU:()=>f,SX:()=>c,X1:()=>z,Xw:()=>o,Yl:()=>C,Yy:()=>h,fb:()=>I,gX:()=>P,go:()=>_,k:()=>m,mg:()=>r,oF:()=>v,oX:()=>u,ps:()=>w});var l=a(926026);a(104456);var i=a(44267);let n={January:31,February:29,March:31,April:30,May:31,June:30,July:31,August:31,September:30,October:31,November:30,December:31},s=e=>{let t={"０":"0","１":"1","２":"2","３":"3","４":"4","５":"5","６":"6","７":"7","８":"8","９":"9","　":" "},a=String(e).split("");return a.forEach((e,l)=>{let i=t[e];i&&(a[l]=i)}),a.join("")};function r(e){return(t,a)=>{let l=[];t&&/\S/.test(t)||l.push(e.message);let i={errors:l,warnings:[]};return a&&a(i),i}}let o=RegExp("(^[-!#$%&'*+/=?^_`{}|~0-9A-Z]+(\\.[-!#$%&'*+/=?^_`{}|~0-9A-Z]+)*|^\"([\\001-\\010\\013\\014\\016-\\037!#-\\[\\]-\\177]|\\\\[\\001-\\011\\013\\014\\016-\\177])*\")@((?:[A-Z0-9](?:[A-Z0-9-]{0,61}[A-Z0-9])?\\.)+[A-Z]{2,20}$)|\\[(25[0-5]|2[0-4]\\d|[0-1]?\\d?\\d)(\\.(25[0-5]|2[0-4]\\d|[0-1]?\\d?\\d)){3}\\]$","i");function d(e){return(t,a)=>{t=t&&t.trim();let l=[];t.match(o)||l.push(e.message);let i={errors:l,warnings:[]};return a&&a(i),i}}function c(e){return(t,a)=>{t=t&&t.trim();let l=[];t.match(/^[^0-9].*$/)||l.push(e.message);let i={errors:l,warnings:[]};return a&&a(i),i}}function u(e){return(t,a)=>{let l=[];if(t){let a=parseInt(t,10);Number.isNaN(a)?l.push(e.invalidAgeString):(e.ageTooShortString&&a<10&&l.push(e.ageTooShortString),a<=0||a>120?l.push(e.invalidAgeString):e.checkUnderAgeWithString&&a<18&&l.push(e.checkUnderAgeWithString))}let i={errors:l,warnings:[]};return a&&a(i),i}}function h(e){return(t,a)=>{let l=[],[i,s]=t.split(" ");if(i)if(i.match(/^[0-9]+$/)){let t=parseInt(i,10);(Number.isNaN(t)||t>31||t>n[s])&&l.push(e.invaliddobDateString)}else l.push(e.invaliddobDateString);let r={errors:l,warnings:[]};return a&&a(r),r}}function _(e){return(t,a)=>{let l=(t=t&&t.trim()).replace(/[\(\)\+\-\. ]/g,""),i=[],n=!1!==e.checkLength&&l.length<7;t&&(!t.match(/^(\(?\+?[0-9]*\)?)?[0-9_\- \.\(\)]*$/g)||n)&&i.push(e.message);let s={errors:i,warnings:[]};return a&&a(s),s}}function p(e){return(t,a)=>{let l=[];"number"==typeof t||"string"==typeof t&&(t=s(t=t&&t.trim()))&&!t.match(/^\d+$/)&&l.push(e.message);let i={errors:l,warnings:[]};return a&&a(i),i}}function g(e){return(t,a)=>{let l=[];"number"==typeof t||"string"==typeof t&&(t=s(t=t&&t.trim()))&&!t.match(/^[\d\ -]+$/)&&l.push(e.message);let i={errors:l,warnings:[]};return a&&a(i),i}}function m({message:e}){return(t,a)=>{let l=[];t&&!(0,i.A)(t,{protocolIsOptional:!0})&&l.push(e);let n={errors:l,warnings:[]};return a&&a(n),n}}function f(e){return(t,a)=>{let l=e.should_trim||!1,i=[];l&&(t=t&&t.trim());let n=t.length;"min"in e&&e.min>0&&n<e.min?i.push(e.minErrorString):"max"in e&&e.max>0&&n>e.max&&i.push(e.maxErrorString);let s={errors:i,warnings:[]};return a&&a(s),s}}function b(e){return(t,a)=>{let l=e&&e.targetValue,i=[];t!==l&&i.push(e.message);let n={errors:i,warnings:[]};return a&&a(n),n}}function y(e){return(t,a)=>{let l=new Date(t),i=[];e.date instanceof Date&&l instanceof Date&&e.date<l&&i.push(e.message);let n={errors:i,warnings:[]};return a&&a(n),n}}function v(e){return(t,a)=>{let i=new Date(t),n=e.date instanceof Date&&i instanceof Date,s=[];(n&&e.date<i||!(0,l.Yr)(t))&&s.push(e.message);let r={errors:s,warnings:[]};return a&&a(r),r}}function A(e){return(t,a)=>{let l=[];/^[\x20-\x7E]*$/.test(t)||l.push(e.message);let i={errors:l,warnings:[]};return a&&a(i),i}}function x(e){return(t,a)=>{let l=2;if(e.hasFractionalCents)l=3;else if(e.currencyCode){let{maximumFractionDigits:t}=new Intl.NumberFormat(void 0,{style:"currency",currency:e.currencyCode}).resolvedOptions();l=t}let i=new RegExp(l?`^\\d*(\\.\\d{1,${l}})?$`:"^\\d*$"),n=[];t&&!t.match(i)&&(t=t&&t.trim(),n.push(e.message));let s={errors:n,warnings:[]};return a&&a(s),s}}function S(e){return(t,a)=>{t=t&&t.trim();let l=[],i=new Date(t);t&&!i.getTime()&&l.push(e.message);let n={errors:l,warnings:[]};return a&&a(n),n}}function P(e){return(t,a)=>{let l=t&&t.trim(),i=[];l&&!l.match(/^([01]?[0-9]|2[0-3]):[0-5][0-9]$/)&&i.push(e.message);let n={errors:i,warnings:[]};return a&&a(n),n}}function w(e){return(t,a)=>{let l=[];e.pattern.test(t)||l.push(e.message);let i={errors:l,warnings:[]};return a&&a(i),i}}function C(e,t){return[].concat(...e.map(e=>e(t).errors))}async function k(e,t){return[].concat(...await Promise.all(e.map(async e=>{let a=e(t);return a instanceof Promise?(await a)(t).errors:a.errors})))}function I(e,t){let a="";return t.some(t=>{let l=t(e);return l.errors.length>0&&(a=l.errors[0],!0)}),a}async function z(e,t){let a="";for(let l of t){let t=l(e);if(t instanceof Promise){let l=(await t)(e);if(l.errors.length>0){a=l.errors[0];break}}else if(t.errors.length>0){a=t.errors[0];break}}return a}},908132(e,t,a){a.r(t),a.d(t,{default:()=>c});var l=a(97407),i=a(296540),n=a(328138),s=a(643357),r=a(171518),o=a(888354),d=a(474848);function c(e){(0,i.useEffect)(()=>{(0,l.A)("PinRepEditButton","/app/www/AuthDesktopPinRep/components/PinRepEditButton.tsx")},[]);let t=(0,s.A)(),{clientTrackingParams:a,style:c,useLegoStyles:u=!1,usePersistentOneClickSaveStyles:h,wrappingIconStyle:_,shouldUseLegoStyles:p,carouselSlotCurrentIndex:g,component:m,onDelete:f,onSubmit:b,onToggleModal:y,pinId:v,surface:A}=e,[x,S]=(0,i.useState)(!1),{onClick:P,carouselSlotCurrentIndex:w}=(0,o.A)({carouselSlotCurrentIndexProp:g,component:m,pinId:v,setShowEditModal:S}),C=t.bt("Đã lưu Ghim", "Pin Saved", "PinRepEditButton.SavedButtonLabel", undefined, true),k=(0,d.jsxs)(i.Fragment,{children:[(0,d.jsx)(n.K0,{accessibilityLabel:t.bt("Sửa", "Edit", "edit button on pin", undefined, true),bgColor:c&&c.bgColor||"default",icon:"pencil",iconColor:c&&c.iconColor||"default",onClick:P,size:c&&c.size||"md"}),x&&v&&(0,d.jsx)(r.A,{carouselSlotCurrentIndex:w,clientTrackingParams:a,onDelete:f,onHide:()=>{S(!1),y?.(!1)},onSubmit:b,pinId:v})]});return p?(0,d.jsx)(n.PF,{accessibilityLabel:C,color:"primary",dataTestId:"saved-button",onClick:f,selected:!0,size:"VideoCarouselModule"===A?"sm":"lg",text:t.bt("Đã lưu", "Saved", "PinRepEditButton.SavedButton", undefined, true)}):u||h?(0,d.jsx)("div",{"data-test-id":"use-lego-styles-div",style:{..._||{}},children:k}):k}},871991(e,t,a){a.d(t,{O7:()=>n,VJ:()=>s,t4:()=>l,vH:()=>r,wS:()=>i});let l={AT:14,BE:13,BG:14,HR:16,CY:14,CZ:15,DK:13,EE:14,FI:13,FR:15,DE:16,GR:15,HU:16,IE:16,IT:14,LV:13,LT:14,LU:16,MT:13,NL:16,PL:16,PT:13,RO:16,SK:16,SI:15,ES:14,SE:13,GB:13},i={...l,KR:14},n=16,s=13,r=5},378154(e,t,a){a.d(t,{A:()=>u});var l=a(97407),i=a(296540),n=a(328138),s=a(194637),r=a(449798),o=a(643357),d=a(474848);function c({collaborator:e,isSelected:t,onToggle:a}){(0,i.useEffect)(()=>{(0,l.A)("CollaboratorItem","/app/www/BoardCreate/AddCollaborators/CollaboratorItem.tsx")},[]);let c=(0,o.A)(),u=(0,r.A)(),h=u.isAuth?u?.avatar_color_index:void 0;return(0,d.jsxs)(n.so,{children:[(0,d.jsxs)(n.so,{flex:"grow",children:["email"===e.type||"email_share_suggestion"===e.type?(0,d.jsx)(n.az,{alignItems:"center",color:"secondary",display:"flex",flex:"none",height:48,justifyContent:"center",marginEnd:3,rounding:"circle",width:48,children:(0,d.jsx)(n.In,{accessibilityLabel:c.bt("Biểu tượng email", "Email icon", "Email icon on board create modal", undefined, true),color:"default",icon:"envelope",size:24})}):(0,d.jsx)(n.az,{display:"flex",flex:"none",height:48,marginEnd:3,width:48,children:(0,d.jsx)(s.eu,{color:h,name:e.full_name||"",size:"fit",src:e.image_medium_url||e.image_large_url})}),"email"===e.type||"email_share_suggestion"===e.type?(0,d.jsx)(n.so,{alignItems:"center",children:(0,d.jsx)(n.az,{children:(0,d.jsx)(n.KJ,{size:"300",children:e.id})})}):(0,d.jsxs)(n.so,{direction:"column",justifyContent:"center",children:[(0,d.jsx)(n.az,{marginBottom:1,tabIndex:0,children:(0,d.jsx)(n.KJ,{lineClamp:1,size:"300",children:e.full_name})}),(0,d.jsx)(n.az,{tabIndex:0,children:(0,d.jsx)(n.KJ,{size:"200",children:`@${e.username||""}`})})]})]}),(0,d.jsx)(n.so,{flex:"none",children:(0,d.jsx)(n.$n,{onClick:()=>a(e),selected:t,size:"lg",text:t?c.bt("Đã thêm", "Added", "Text that lets the user know they have added the contact", undefined, true):c.bt("Thêm", "Add", "Text that lets the user know they can add that contact", undefined, true)})})]})}function u({contacts:e,selectedContactIds:t,onCollaboratorToggle:a,itemPadding:s=2}){return(0,i.useEffect)(()=>{(0,l.A)("CollaboratorList","/app/www/BoardCreate/AddCollaborators/CollaboratorList.tsx")},[]),(0,d.jsx)(i.Fragment,{children:e.map(e=>(0,d.jsx)(n.az,{paddingY:s,children:(0,d.jsx)(c,{collaborator:e,isSelected:t.includes(e.id),onToggle:a})},e.id))})}},871246(e,t,a){a.d(t,{A:()=>u});var l=a(97407),i=a(296540),n=a(328138),s=a(275552),r=a(984273),o=a(643357),d=a(181876),c=a(474848);function u({searchValue:e,onSearchChange:t,onTypeaheadSuggestionsChange:a}){(0,i.useEffect)(()=>{(0,l.A)("CollaboratorSearch","/app/www/BoardCreate/AddCollaborators/CollaboratorSearch.tsx")},[]);let u=(0,o.A)(),h=(0,s.A)(),_=(0,i.useMemo)(()=>(0,r.A)(e=>{0!==e.length&&h({event_type:7383,view_type:5,view_parameter:3059,component:43,aux_data:{entered_query:e}})},3e3),[h]);return(0,c.jsx)(d.A,{onTypeaheadSuggestionsChange:a,resourceName:"ShareSuggestionsTypeaheadResource",value:e,children:(0,c.jsx)(n.Lw,{accessibilityLabel:u.bt("Tìm kiếm cộng tác viên theo tên hoặc email", "Search for collaborators by name or email", "users can search for other people and add them as collaborators to a board", undefined, true),id:"CollaboratorInviteSearchField",onChange:({value:e})=>{t({value:e}),_(e)},placeholder:u.bt("Tìm kiếm theo tên hoặc email", "Search by name or email", "text in search field to indicate that users could search for other users here", undefined, true),size:"lg",value:e})})}},365955(e,t,a){a.d(t,{A:()=>s});var l=a(296540),i=a(468133),n=a(535465);function s({selectedContacts:e,onSelectedContactsChange:t}){let{data:a}=(0,i.A)({name:"ShareSuggestionsResource",options:{field_set_key:"default",hide_group_conversations:!0},noCache:!0}),[s,r]=(0,l.useState)([]),[o,d]=(0,l.useState)("");(0,l.useEffect)(()=>{a&&r(a.map(e=>"email_share_suggestion"===e.type?{...e,id:e.email||""}:e))},[a]);let c=e.map(e=>e.id),u=[...e,(0,n.A)(o)&&!c.includes(o)?{id:o,type:"email"}:null,...s.filter(e=>!c.includes(e.id))].filter(Boolean);return{searchValue:o,allContacts:u,handleTextFieldChange:({value:e})=>{d(e)},handleTypeaheadSuggestionsChange:e=>{r(e)},handleCollaboratorClick:a=>{c.includes(a.id)?t?.((e||[]).filter(e=>e.id!==a.id)):t?.([...e,a])}}}},403532(e,t,a){a.d(t,{A:()=>F});var l=a(97407),i=a(296540),n=a(328138),s=a(275552),r=a(194637),o=a(449798),d=a(818093),c=a(643357),u=a(534955),h=a(871211),_=a(539316),p=a(328),g=a(632321),m=a(378154),f=a(871246),b=a(365955);function y(e){return e.map(({id:e})=>e)}function v(e,t){return e.filter(({type:e})=>t.includes(e))}var A=a(474848);function x({boardCreateSource:e,selectedContacts:t,setSelectedContacts:a}){(0,i.useEffect)(()=>{(0,l.A)("BoardCreateGlowupAddCollaborator","/app/www/BoardCreateGlowup/BoardCreateGlowupAddCollaborator.tsx")},[]);let s=(0,i.useRef)(!1),{logContextEvent:r}=(0,g.o)();(0,h.A)(()=>(r({event_type:13,view_type:5,view_parameter:3059,component:13305,aux_data:{source:e}}),()=>{s.current||r({event_type:10521,view_type:5,view_parameter:3059,component:13305,aux_data:{source:e}})}));let{searchValue:o,allContacts:d,handleTextFieldChange:u,handleTypeaheadSuggestionsChange:_,handleCollaboratorClick:p}=(0,b.A)({selectedContacts:t,onSelectedContactsChange:a}),v=y(t),x=(0,c.A)();return(0,A.jsxs)(n.so,{direction:"column",gap:6,children:[(0,A.jsxs)(n.so,{direction:"column",gap:2,children:[(0,A.jsx)(n.KJ,{size:"200",children:x.bt("Cộng tác viên có thể...", "Collaborators can...", "BoardCreateGlowupModal.collaborators.content.paragraph-1", undefined, true)}),(0,A.jsxs)(n.so,{direction:"column",gap:1,children:[(0,A.jsx)(n.KJ,{size:"400",weight:"bold",children:x.bt("Thực hiện (hầu hết) mọi thứ", "Do (almost) everything", "BoardCreateGlowupModal.collaborators.content.paragraph-2", undefined, true)}),(0,A.jsx)(n.KJ,{size:"200",children:x.bt("Thêm, di chuyển hoặc xóa Ghim và các phần bảng, nhận xét và phản ứng", "Add, move or delete Pins and sections, comment and react", "BoardCreateGlowupModal.collaborators.content.paragraph-3", undefined, true)})]})]}),(0,A.jsxs)(n.so,{direction:"column",gap:2,children:[(0,A.jsx)(n.KJ,{size:"200",children:x.bt("Mời ai đó trên Pinterest", "Invite someone on Pinterest", "BoardCreateGlowupModal.collaborators.content.collaborator-picker-label", undefined, true)}),(0,A.jsx)(f.A,{onSearchChange:u,onTypeaheadSuggestionsChange:_,searchValue:o}),(0,A.jsx)(m.A,{contacts:d,itemPadding:2,onCollaboratorToggle:e=>{p(e),s.current=!0},selectedContactIds:v})]})]})}function S({labelId:e,label:t,subtext:a,children:s}){return(0,i.useEffect)(()=>{(0,l.A)("BoardCreateGlowupModalField","/app/www/BoardCreateGlowup/BoardCreateGlowupModalField.tsx")},[]),(0,A.jsxs)(n.so,{alignItems:"center",children:[(0,A.jsx)(n.az,{flex:"grow",children:(0,A.jsxs)(n.JU,{htmlFor:e,children:[(0,A.jsx)(n.KJ,{size:"300",weight:"bold",children:t}),(0,A.jsx)(n.KJ,{color:"subtle",size:"200",children:a})]})}),s]})}var P=a(645519),w=a(427575),C=a(396526),k=a(699203),I=a(426459);let z=[96,58],T=["email","email_share_suggestion"],j=["user","user_share_suggestion"];var E=a(241342),B=a(215030),R=a(653235);function F({boardCreateSource:e,images:t=[],initialValues:a,onBoardCreate:g,onClose:m}){(0,i.useEffect)(()=>{(0,l.A)("BoardCreateGlowupModal","/app/www/BoardCreateGlowup/BoardCreateGlowupModal.tsx")},[]);let{suggestedBoardName:f,completeExperience:b,dismissExperience:F}=(0,E.A)(1000673,0===t.length),[D,K]=(0,i.useState)(a?.boardName??"");(0,i.useEffect)(()=>{f&&K(f)},[f]);let[L,N]=(0,i.useState)(a?.privacy==="secret"),[M,O]=(0,i.useState)(),[U,V]=(0,i.useState)(!1),[H,J]=(0,i.useState)(a?.collaborators??[]),$=(0,c.A)(),q=(0,s.A)(),{isRTL:W}=(0,u._8)(),G=(0,o.A)(),Y=G.isAuth?G?.avatar_color_index:void 0,Q=!!M,X=f??a?.boardName,{state:Z,submitAction:ee,isPending:et}=function({boardCreateSource:e,onBoardCreate:t,onRequestComplete:a,selectedCollaborators:l,auxData:n={}}){let s=(0,k.A)(),r=(0,C.mV)(),o=(0,C.lt)(),[d,c,u]=(0,i.useActionState)(async(i,d)=>{let c={name:d.get("boardName"),privacy:null!=d.get("isSecretBoard")?P.A.BoardPrivacy.SECRET:P.A.BoardPrivacy.PUBLIC,aux_data:{...n,source:e}};try{let e=await s({boardCreateOptions:c}),a=v(l,T),i=v(l,j),n=[];a.length>0&&n.push(r(e.id,y(a))),i.length>0&&n.push(o(e.id,y(i)));try{await Promise.all(n)}catch(e){(0,I.c)({name:"BoardCreateGlowupCollaboratorInviteError",message:(0,w.A)(e,"message")??"Failed to invite collaborators",message_detail:(0,w.A)(e,"message_detail"),stack:(0,w.A)(e,"stack")})}t(e)}catch(t){let e=(0,w.A)(t,"api_error_code");if(void 0!==e&&z.includes(e))return{serverBoardNameError:(0,w.A)(t,"message")};(0,I.c)({name:"BoardCreateGlowupFormBoardCreateError",message:(0,w.A)(t,"message")??"Failed to create board",message_detail:(0,w.A)(t,"message_detail"),stack:(0,w.A)(t,"stack")})}finally{a?.()}return{}},{});return{state:d,submitAction:c,isPending:u}}({boardCreateSource:e,onBoardCreate:e=>{e.name===f?b():F(),g(e)},onRequestComplete:()=>{V(!1)},selectedCollaborators:H,auxData:{...X?{suggested_board_name:X}:{}}}),ea=()=>{f&&F(),m()},{serverBoardNameError:el}=Z;(0,h.A)(()=>{q({event_type:13,view_type:5,view_parameter:87,component:13025,aux_data:{source:e}})});let ei=()=>!U&&el?el:Q?M:void 0,[en,es]=(0,i.useState)("main"),er=()=>{q({event_type:101,view_type:5,view_parameter:87,component:13025,element:10592,aux_data:{source:e}}),(0,i.startTransition)(()=>{es("collaborators")})},eo={main:{content:(0,A.jsxs)(n.so,{direction:"column",gap:6,children:[(0,A.jsx)(n.so,{justifyContent:"center",children:(0,A.jsx)(n.az,{paddingY:2,width:213,children:(0,A.jsx)(p.A,{images:t})})}),(0,A.jsx)(n.A_,{errorMessage:ei(),id:"board-name",label:$.bt("Tên bảng", "Board name", "BoardCreateGlowupModal.boardNameInput.label", undefined, true),name:"boardName",onChange:({value:e})=>{K(e);let t=(0,_.Yl)((0,B.D)($),e);t.length>0?O(t[0]):O(void 0),V(!0)},placeholder:$.bt("Đặt tên bảng của bạn", "Name your board", "BoardCreateGlowupModal.boardNameInput.placeholder", undefined, true),size:"lg",value:D}),(0,A.jsx)(S,{label:$.bt("Đặt bảng này là bí mật", "Make this board secret", "BoardCreateGlowupModal.privacySettings.label", undefined, true),labelId:"secret-board-toggle",subtext:$.bt("Chỉ bạn và các cộng tác viên mới thấy bảng này", "Only you and collaborators will see this board", "BoardCreateGlowupModal.privacySettings.subtext", undefined, true),children:(0,A.jsx)(n.dO,{id:"secret-board-toggle",name:"isSecretBoard",onChange:({value:t})=>{N(t),q({event_type:t?106:107,view_type:5,view_parameter:87,component:13025,element:53,aux_data:{source:e}})},switched:L})}),(0,A.jsx)(S,{label:$.bt("Bảng nhóm", "Group board", "BoardCreateGlowupModal.groupBoardSettings.label", undefined, true),labelId:"invite-collaborators-button",subtext:$.bt("Mời người khác cộng tác trên bảng này", "Invite others to collaborate on this board", "BoardCreateGlowupModal.groupBoardSettings.subtext", undefined, true),children:H.length>0?(0,A.jsx)(n.az,{"data-test-id":"avatar-group",children:(0,A.jsx)(r.Z7,{addCollaborators:!0,collaborators:H.map(e=>({color:Y,name:e.full_name??"",src:e.image_medium_url??""})),onClick:er,role:"button",size:"md"})}):(0,A.jsx)(n.K0,{accessibilityLabel:$.bt("Mời cộng tác viên", "Invite collaborators", "BoardCreateGlowupModal.groupBoardSettings.accessibilityLabel", undefined, true),bgColor:"secondary",icon:"person-plus",onClick:er,size:"lg"})})]}),footer:(0,A.jsx)(R.A,{disabled:!!ei()||!D.trim(),form:"board-create-glowup-form",fullWidth:!0,onClick:()=>{q({event_type:101,view_type:5,view_parameter:87,component:13025,element:249,aux_data:{source:e}})},size:"lg",submitting:et,text:$.bt("Tạo", "Create", "BoardCreateGlowupModal.createButton", undefined, true)}),heading:$.bt("Tạo bảng", "Create a board", "BoardCreateGlowupModal.heading", undefined, true),accessibilityModalLabel:$.bt("Tạo bảng", "Create a board", "BoardCreateGlowupModal.accessibilityModalLabel", undefined, true)},collaborators:{content:(0,A.jsx)(x,{boardCreateSource:e,selectedContacts:H,setSelectedContacts:J}),footer:null,heading:$.bt("Mời cộng tác viên", "Invite collaborators", "BoardCreateGlowupModal.collaborators.heading", undefined, true),accessibilityModalLabel:$.bt("Mời cộng tác viên", "Invite collaborators", "BoardCreateGlowupModal.collaborators.accessibilityModalLabel", undefined, true)}};return(0,A.jsx)(r.aF,{accessibilityModalLabel:eo[en].accessibilityModalLabel,align:"center",footer:eo[en].footer,heading:(0,A.jsx)(n.az,{position:"relative",children:(0,A.jsxs)(n.so,{alignItems:"center",justifyContent:"center",width:"100%",children:["main"!==en&&(0,A.jsx)(n.az,{left:!W,position:"absolute",right:W,children:(0,A.jsx)(n.K0,{accessibilityLabel:$.bt("Quay lại", "Go back", "BoardCreateGlowupModal.backButton.accessibilityLabel", undefined, true),icon:"chevron-left",onClick:()=>{(0,i.startTransition)(()=>{es("main")})},size:"lg"})}),"main"===en&&(0,A.jsx)(n.az,{left:W,position:"absolute",right:!W,children:(0,A.jsx)(n.K0,{accessibilityLabel:(0,d.A)("CLOSE",$),icon:"close",onClick:ea,size:"lg"})}),(0,A.jsx)(n.so.Item,{flex:"grow",children:(0,A.jsx)(n._Y,{accessibilityLevel:1,align:"center",size:"600",children:eo[en].heading})})]})}),onDismiss:ea,size:"md",children:(0,A.jsx)("form",{id:"board-create-glowup-form",onSubmit:e=>{e.preventDefault();let t=e.currentTarget;(0,i.startTransition)(async()=>{await ee(new FormData(t))})},children:(0,A.jsx)(n.az,{minHeight:600,paddingX:6,paddingY:3,children:eo[en].content})})})}},241342(e,t,a){a.d(t,{A:()=>r});var l=a(296540),i=a(696561),n=a(920785),s=a(383487);function r(e,t){let{completeExperience:a,dismissExperience:r,mountPlacement:o,unmountPlacement:d,viewExperience:c}=(0,s.Ay)(),{experienceForPlacement:u}=(0,n.A)(e),h=(0,l.useRef)(!1);(0,l.useEffect)(()=>(t&&o(e),()=>{d(e)}),[e,t,o,d]);let _=(0,i.V6)(u)?u.display_data?.suggested_board_name:void 0,p=(0,l.useEffectEvent)(()=>{c(e,u.experience_id)});return(0,l.useEffect)(()=>{_&&p()},[_]),{suggestedBoardName:_,completeExperience(){_&&!h.current&&(a(e,u.experience_id),h.current=!0)},dismissExperience(){_&&!h.current&&(r(e,u.experience_id),h.current=!0)}}}},215030(e,t,a){a.d(t,{D:()=>o,_:()=>r});var l=a(645519),i=a(695531),n=a(539316);let s=(e,t)=>(0,n.RU)({max:e,maxErrorString:(0,i.A)(t.bt("Vui lòng nhập tối đa {{ maxLength }} ký tự.", "Please enter no more than {{ maxLength }} characters.", "Validation error when a string is too long", undefined, true),{maxLength:e})}),r=e=>[s(l.A.MAX_CHARS_FOR_BOARD_PIN_DESCRIPTION,e)],o=e=>[(0,n.mg)({message:e.bt("Đừng quên đặt tên cho bảng của bạn!", "Don't forget to name your board!", " - ", undefined, true)}),s(l.A.MAX_CHARS_FOR_BOARD_TITLE,e)]},671798(e,t,a){a.d(t,{A:()=>P,d:()=>S});var l,i=a(97407),n=a(296540),s=a(636841);a(369487);var r=a(328138),o=a(275552),d=a(698781),c=a(643357),u=a(534955),h=a(568677),_=a(871211),p=a(998924),g=a(474848);function m({action:e,viewType:t,auxData:a={}}){(0,n.useEffect)(()=>{(0,i.A)("ButtonLinkAction","/app/www/ContentSensitivity/ButtonLinkAction.tsx")},[]);let l=(0,o.A)(),s=(0,h.qJ)(),{button:d}=e,c=d?.text||"",u=d?.link||"";return c&&u?(0,g.jsx)(r.vx,{href:u,iconEnd:"arrow-up-right",onClick:()=>{(0,p.rt)({logContextEvent:l,auxData:{url:u,...a},isDesktop:s,viewType:t})},target:s?"blank":"self",text:c}):null}let f={0:"phone",1:"speech-ellipsis",2:"speech",3:"globe",4:"whatsapp",5:"magnifying-glass"};function b({button:e,contactType:t,viewType:a,auxData:l={},viewParameter:s}){(0,n.useEffect)(()=>{(0,i.A)("CustomActionLink","/app/www/ContentSensitivity/CustomActionLink.tsx")},[]);let d=(0,o.A)(),c=(0,h.qJ)(),u=[0,1].includes(t),_=e?.link||"",m=c&&u?`${e?.text} ${function(e){let[,t]=e.split(":");return t}(_)}`:e?.text,b=f[t]||"arrow-up-right";return m&&_?(0,g.jsx)(r.vx,{href:_,iconStart:b,onClick:()=>{(0,p.rt)({viewParameter:s,logContextEvent:d,viewType:a,auxData:{url:_,...l},isDesktop:c})},target:"blank",text:m}):null}var y=a(111893),v=a(646844),A=a(83919);let x=(void 0!==l||(l=a(990839)).hash&&"6e21ec048bb4ac7d621865a42cf02a6c"!==l.hash&&console.error("The definition of 'SensitiveNotice_sensitivity' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),l);function S({query:e,sensitivityKey:t,viewParameter:a}){(0,n.useEffect)(()=>{(0,i.A)("SensitiveNotice","/app/www/ContentSensitivity/SensitiveNotice.tsx")},[]);let l=(0,d.A)(x,t),s=l?.notices;return s?.map(t=>(0,g.jsx)(P,{notice:t,query:e,sensitivity:l,viewParameter:a,viewType:2},t.noticeId))}function P({boardId:e,boardSectionId:t,boardName:a,notice:l,viewType:d,viewParameter:f,query:x,sensitivity:S,objectType:P}){var w,C;let k;(0,n.useEffect)(()=>{(0,i.A)("SensitiveNotice","/app/www/ContentSensitivity/SensitiveNotice.tsx")},[]);let I=(0,h.qJ)(),z=(0,c.A)(),T=(0,o.A)(),{title:j,footer:E,description:B,image_type:R,content_image_url:F}=l||{},D=l?.actions??[],K=l?.suggested_resource,L=(0,u._8)(),{imageSRC:N,imageALT:M}=(w=null==R?A.j.NONE:R,C=F||"",k={[A.j.HIDDEN]:z.bt("Hình minh họa bị ẩn.", "Hidden Illustration.", "sensitiveNotice.hiddenIllustration", undefined, true),[A.j.HOPE]:z.bt("Hình minh họa phong cảnh, mây và mặt trời nhìn qua một cửa sổ có cả hai cửa chớp mở ra.", "An illustration of a landscape, clouds, and the sun seen through a window with both shutters open.", "sensitiveNotice.hopeIllustration", undefined, true),[A.j.LOVE]:z.bt("Hình minh họa những bông hoa hình trái tim được cắm trong bình hoa", "An illustration of heart-shaped flowers arranged in a vase", "sensitiveNotice.loveIllustration", undefined, true)},w===A.j.CUSTOM?{imageSRC:C,imageALT:z.bt("Hình minh họa.", "Illustration.", "sensitiveNotice.customIllustration", undefined, true)}:w===A.j.NONE?{imageSRC:"",imageALT:""}:{imageSRC:p.Zm[w],imageALT:k[w]}),O={advisory_level:S?.advisory,entered_query:x,severity_level:S?.severity,stage:L.stage,advisory_type:S?.advisory_type,resource_country:S?.resource_country,board_name:a,board_id:e,board_section_id:t};return(0,_.A)(()=>{d&&(T({aux_data:O,event_type:120,component:13367,view_parameter:f,view_type:d}),(0,v.U9)("webapp.advisories.view",1,{sampleRate:1,tags:{advisory_level:O.advisory_level,advisory_type:O.advisory_type,app:I?"DESKTOP_WEB":"MOBILE_WEB",resource_country:O.resource_country,placement:d,object_type:P}})),e&&5===d&&T({aux_data:{board_id:e,board_section_id:t??0},component:178,event_type:15549,view_parameter:f,view_type:d})}),(0,g.jsx)(r.az,{"data-test-id":"search-advisory",children:(0,g.jsxs)(r.az,{"data-test-id":"fresh-search-advisory",margin:"auto",maxWidth:"800px",padding:6,rounding:200,children:[N&&(0,g.jsx)(r.so,{justifyContent:I?"center":"start",children:(0,g.jsx)(r.az,{height:120,marginBottom:4,width:120,children:(0,g.jsx)(r._V,{alt:M,fit:"contain",naturalHeight:1,naturalWidth:1,src:N})})}),!!j&&(0,g.jsx)(r.az,{display:"flex",marginBottom:2,children:(0,g.jsx)(r._Y,{size:"400",children:j})}),!!B&&(0,g.jsx)(r.az,{marginBottom:4,children:(0,g.jsx)(r.KJ,{size:"200",children:(0,y.A)(B?.text||"",B?.text_tags||[],T,O,I)})}),K&&(0,g.jsxs)(r.az,{marginBottom:4,children:[(0,g.jsx)(r.KJ,{size:"200",weight:"bold",children:z.bt("Tài nguyên được đề xuất", "Suggested resource", "sensitiveNotice.suggestedResource", undefined, true)}),(0,g.jsx)(r.az,{marginTop:2,children:(0,g.jsx)(r.KJ,{size:"200",children:K})})]}),(0,g.jsx)(r.so,{direction:"column",gap:2,children:D.map(e=>e?.button?.contact_type?(0,g.jsx)(b,{auxData:O,button:e.button,contactType:e.button.contact_type,viewParameter:f,viewType:d},e.id||e.actionId):(0,g.jsx)(m,{action:e,auxData:O,viewParameter:f,viewType:d},e.id))}),!!E&&(0,g.jsx)(r.az,{marginTop:4,children:(0,g.jsx)(r.KJ,{color:"subtle",size:"100",children:(0,g.jsx)(s.Ay,{options:{overrides:{b:{component:({children:e})=>(0,g.jsx)(r.N_,{display:"inline",href:E.link??"",onClick:()=>{(0,p.rt)({logContextEvent:T,auxData:{...O,url:E.link},isDesktop:I,placement:d,objectType:P,viewType:d,viewParameter:f})},target:"blank",children:(0,g.jsx)(r.KJ,{color:"subtle",inline:!0,size:"100",weight:"bold",children:e})},E.link)}}},children:E.text})})})]})})}},998924(e,t,a){a.d(t,{Zm:()=>s,bh:()=>o,dB:()=>r,k9:()=>n,rt:()=>d});var l=a(646844),i=a(83919);let n={ABUSIVE:0,SENSITIVE:1,BRAND_UNSAFE:2},s={[i.j.HIDDEN]:"https://i.pinimg.com/originals/0d/fc/e7/0dfce74a82e89659495f1c9257fed188.png",[i.j.HOPE]:"https://i.pinimg.com/originals/46/d7/70/46d7705570b3c23562a70f39817b7b19.png",[i.j.LOVE]:"https://i.pinimg.com/originals/60/7e/d2/607ed2380d9fa28047f211dc6a7e8576.png"};function r(e){return null!=e&&!!e.notices&&e.notices.length>0}function o(e){return!!e&&e.severity===n.ABUSIVE}function d({auxData:e,isDesktop:t,logContextEvent:a,objectType:i,placement:n,viewType:s,viewParameter:r}){a({aux_data:e,component:13367,element:11180,event_type:t?101:102,view_parameter:r||43,view_type:s||2}),(0,l.U9)("webapp.advisories.action",1,{sampleRate:1,tags:{advisory_level:e.advisory_level,advisory_type:e.advisory_type,app:t?"DESKTOP_WEB":"MOBILE_WEB",url:e.url,resource_country:e.resource_country,object_type:i,placement:n}})}},111893(e,t,a){a.d(t,{A:()=>s});var l=a(328138),i=a(998924),n=a(474848);function s(e,t,a,r={},o){let d=[],c=0;for(let s=0;s<t.length;s+=1){let u=t[s];if(5===u.tag_type&&u.link){let{offset:t,length:h,link:_}=u;if(null!=t&&null!=h&&null!=_){let u=e.substring(t,t+h),p=(0,n.jsx)(l.N_,{display:"inline",href:_,onClick:({dangerouslyDisableOnNavigation:e})=>{e(),(0,i.rt)({auxData:{...r,url:_},isDesktop:o,logContextEvent:a})},target:"blank",underline:"hover",children:(0,n.jsx)(l.KJ,{inline:!0,weight:"bold",children:u})},`link-${s}-${u}`);d.push((0,n.jsx)(l.KJ,{inline:!0,children:e.substring(c,t)},`text-${s}-${u}`)),d.push(p),c=t+h}}}return(c>0&&d.push((0,n.jsx)(l.KJ,{inline:!0,children:e.substring(c)},e.substring(c))),0===d.length)?[(0,n.jsx)("span",{children:e},e)]:d}},2787(e,t,a){a.d(t,{A:()=>F});var l,i,n,s,r=a(97407),o=a(296540),d=a(632321),c=a(622165),u=a(534955),h=a(568677),_=a(871211),p=a(671798);a(234784);var g=a(328138),m=a(698781),f=a(275552),b=a(127983),y=a(998924),v=a(804579),A=a(474848);let x=(void 0!==l||(l=a(317310)).hash&&"6ddea2ecd3dff2e1001c1e4d037cc858"!==l.hash&&console.error("The definition of 'CallToAction_advisoryAction' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),l);function S({auxData:e,actionKey:t,alignCenter:a}){(0,o.useEffect)(()=>{(0,r.A)("CallToAction","/app/www/ContentSensitivityOnDesktop/CallToAction.tsx")},[]);let l=(0,m.A)(x,t),i=(0,f.A)(),n=(0,h.qJ)(),{title:s,description:d,button:c}=l,u=c?.text,_=s?.text,p=d?.text,S=c?.link??"",P=S.replace(/^(?:https?:\/\/)?(?:www\.)?/i,"").replace("/",""),w=u&&S.startsWith("http"),C=(0,b.A)({url:S}),k=w&&C?"nofollow":"none";return e?.advisory_type===v.IQ?(0,A.jsx)(o.Fragment,{children:(0,A.jsxs)(g.so,{direction:"column",gap:3,justifyContent:"start",children:[!!_&&(0,A.jsx)(g.KJ,{align:"start",weight:"bold",children:_}),!!p&&(0,A.jsx)(g.KJ,{align:"start",children:p}),(0,A.jsx)(g.vx,{color:"tertiary",href:S,onClick:()=>{(0,y.rt)({auxData:{...e,url:S},isDesktop:n,logContextEvent:i})},rel:k,text:u||"Visit"})]})}):w?(0,A.jsxs)(o.Fragment,{children:[(0,A.jsx)(g.az,{marginBottom:1,children:(0,A.jsx)(g.KJ,{align:a?"center":"start",weight:"bold",children:""!==u?u:"Visit"})}),(0,A.jsx)(g.az,{marginBottom:1,children:(0,A.jsx)(g.N_,{href:S,onClick:()=>{(0,y.rt)({logContextEvent:i,auxData:{...e,url:S},isDesktop:n})},rel:k,children:(0,A.jsx)(g.KJ,{align:a?"center":"start",lineClamp:1,underline:!0,weight:"normal",children:P})})})]}):(0,A.jsxs)(o.Fragment,{children:[!!_&&(0,A.jsx)(g.az,{marginBottom:1,children:(0,A.jsx)(g.KJ,{align:a?"center":"start",weight:"bold",children:_})}),!!p&&(0,A.jsx)(g.az,{marginBottom:1,children:(0,A.jsx)(g.KJ,{align:a?"center":"start",children:p})})]})}let P=(void 0!==i||(i=a(379051)).hash&&"4970946a36017d9ad0c751fd70cc512c"!==i.hash&&console.error("The definition of 'HyperlinkFormatText_textTag' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),i);function w({text:e,textTags:t,auxData:a}){let l=(0,f.A)(),i=(0,h.qJ)(),n=[],s=0;for(let r=0;r<t.length;r+=1){let o=t[r];if(5===o.tagType&&o.link){let{offset:t,length:d,link:c}=o;if(null!=t&&null!=d&&null!=c){let o=e.substring(t,t+d),u=(0,A.jsx)(g.KJ,{inline:!0,weight:"bold",children:(0,A.jsx)(g.N_,{display:"inlineBlock",href:c,onClick:()=>{(0,y.rt)({logContextEvent:l,auxData:{...a,url:c},isDesktop:i})},target:"blank",underline:"hover",children:o})},`link-${r}-${t}`);n.push((0,A.jsx)("span",{children:e.substring(s,t)},`text-${r}-${s}`)),n.push(u),s=t+d}}}return(s>0&&n.push((0,A.jsx)("span",{children:e.substring(s)},`text-end-${s}`)),0===n.length)?[(0,A.jsx)("span",{children:e},"text-full")]:n}function C({auxData:e,textTagKey:t,text:a}){(0,o.useEffect)(()=>{(0,r.A)("HyperlinkFormatText","/app/www/ContentSensitivityOnDesktop/HyperlinkFormatText.tsx")},[]);let l=(0,m.A)(P,t);return(0,A.jsx)(w,{auxData:e,text:a,textTags:l})}let k=[4,14],I={backgroundColor:"#E1F8F7",boxShadow:"0 4px 16px rgba(0, 0, 0, 0.04)"},z={boxShadow:"0 4px 16px rgba(0, 0, 0, 0.04)"},T=(void 0!==n||(n=a(32880)).hash&&"5879c4710b107f258f42156bf3e47e37"!==n.hash&&console.error("The definition of 'DefaultNotice_advisoryNotice' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),n);function j({auxData:e,advisory:t,inModal:a,noticeKey:l}){(0,o.useEffect)(()=>{(0,r.A)("DefaultNotice","/app/www/ContentSensitivityOnDesktop/DefaultNotice.tsx")},[]);let{title:i,description:n,actions:s}=(0,m.A)(T,l),d=!!s?.length&&(e?.advisory_type===v.IQ||!!t&&k.includes(t)),c=s?.length===1,u=n&&n.text||"";return(0,A.jsxs)(g.az,{dangerouslySetInlineStyle:{__style:a?z:I},padding:6,rounding:200,children:[!!i&&!a&&(0,A.jsx)(g.az,{display:"flex",marginBottom:2,children:(0,A.jsx)(g._Y,{size:"600",children:i})}),!!u&&n?.textTags!=null&&(0,A.jsx)(g.az,{"data-test-id":"search-advisory",marginBottom:4,children:(0,A.jsx)("span",{style:{whiteSpace:"pre-wrap"},children:(0,A.jsx)(g.KJ,{align:a?"center":"start",overflow:"normal",children:(0,A.jsx)(C,{auxData:e,text:u,textTagKey:n.textTags})})})}),d&&(0,A.jsx)(g.az,{direction:a?"column":"row",display:"flex",marginEnd:-2,marginStart:-2,wrap:!0,children:s?.map(t=>(0,A.jsx)(g.az,{column:a||c?12:6,paddingX:2,paddingY:1,children:(0,A.jsx)(S,{actionKey:t,alignCenter:a||c,auxData:e})},t.actionId))})]})}let E=(void 0!==s||(s=a(469302)).hash&&"fa2efeb6b4c660680d9f3a0e156c8007"!==s.hash&&console.error("The definition of 'LegoNotice_advisoryNotice' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),s);function B({auxData:e,noticeKey:t}){(0,o.useEffect)(()=>{(0,r.A)("LegoNotice","/app/www/ContentSensitivityOnDesktop/LegoNotice.tsx")},[]);let a=(0,m.A)(E,t),l=(0,f.A)(),i=(0,h.qJ)(),n={color:"#004b91",display:"block",fontSize:"28px",WebkitFontSmoothing:"antialiased"};return(0,A.jsxs)(g.az,{alignItems:"center",direction:"column",display:"flex",marginBottom:3,width:"100%",children:[(0,A.jsx)(g.az,{dangerouslySetInlineStyle:{__style:{backgroundColor:"#86d1ce"}},display:"flex",justifyContent:"center",rounding:800,width:656,children:(0,A.jsxs)(g.az,{"data-test-id":"search-advisory",height:"100%",padding:10,width:"100%",children:[(0,A.jsx)("span",{style:n,children:a.description?.textTags&&(0,A.jsx)(C,{text:a.description?.text||"",textTagKey:a.description.textTags})}),(0,A.jsx)(g.az,{marginTop:6,children:(a.actions??[]).map(t=>{let a=t.button?.link;return a&&a.startsWith("tel")?(0,A.jsxs)(g.az,{children:[(0,A.jsx)("span",{style:{fontWeight:"600",...n},children:t.title?.text}),(0,A.jsx)("span",{style:n,children:t.description?.text})]},t.actionId):(0,A.jsx)(g.N_,{href:a||"",onClick:()=>{(0,y.rt)({logContextEvent:l,auxData:{...e,url:a||"",isLegoNotice:!0},isDesktop:i})},children:(0,A.jsx)(g.az,{display:"inlineBlock",children:(0,A.jsx)(g.az,{alignItems:"center",color:"info",display:"flex",height:44,justifyContent:"center",paddingX:12,rounding:"pill",children:(0,A.jsx)(g.KJ,{color:"inverse",weight:"bold",children:t.button?.text||""})})})},t.actionId)})})]})}),!!a.footer&&(0,A.jsx)(g.az,{paddingY:2,width:540,children:(0,A.jsx)(g.N_,{display:"inlineBlock",href:a.footer.link??"",onClick:()=>{(0,y.rt)({logContextEvent:l,auxData:{...e,url:a.footer?.link??"",isLegoNotice:!0},isDesktop:i})},target:"blank",underline:"hover",children:(0,A.jsx)(g.KJ,{align:"center",color:"subtle",size:"100",children:(0,A.jsx)("div",{dangerouslySetInnerHTML:{__html:a.footer.text??""}})})},a.footer.link)})]})}var R=a(646844);function F({boardId:e,isOwnBoard:t,boardName:a,boardSectionId:l,notices:i,query:n,sensitivity:s,viewParameter:g,viewType:m,inModal:f}){(0,o.useEffect)(()=>{(0,r.A)("SensitiveContentNotice","/app/www/ContentSensitivityOnDesktop/SensitiveContentNotice.tsx")},[]),function({advisoryDetails:e,boardId:t,boardName:a,boardSectionId:l,query:i,sensitivity:n,viewParameter:s,viewType:r}){let{logContextEvent:o}=(0,d.o)(),c=(0,h.qJ)();(0,_.A)(()=>{r&&(o({aux_data:{entered_query:i,advisory_details:e,advisory_level:n?.advisory,severity_level:n?.severity,advisory_type:n?.advisory_type,resource_country:n?.resource_country},component:13367,event_type:120,view_parameter:s,view_type:r}),(0,R.U9)("webapp.advisories.view",1,{sampleRate:1,tags:{advisory_level:n?.advisory,advisory_type:n?.advisory_type,app:c?"DESKTOP_WEB":"MOBILE_WEB",resource_country:n?.resource_country,placement:5===r?"board":"search"}})),t&&5===r&&o({aux_data:{board_name:a,board_id:t,board_section_id:l??0},component:178,event_type:15549,view_parameter:s,view_type:r})})}({advisoryDetails:s?.advisory_details,boardId:e,boardSectionId:l,query:n,sensitivity:{advisory:s?.advisory,severity:s?.severity},viewParameter:g,viewType:m});let{checkExperiment:b}=(0,c.A)(),y=(0,u._8)(),v={advisory_level:s?.advisory||null,severity_level:s?.severity||null,advisory_type:s?.advisory_type||"",stage:y.stage,resource_country:s?.resource_country||"",entered_query:n||""};if(b("ps_board_advisories_ui_refresh").anyEnabled){let n=t?4173:4174;return(0,A.jsx)(o.Fragment,{children:i?.map(t=>(0,A.jsx)(p.A,{boardId:e,boardName:a,boardSectionId:l,notice:t,objectType:l?164:5,sensitivity:s,viewParameter:l?n:g,viewType:l?164:5},t.id))})}return(0,A.jsx)(o.Fragment,{children:i?.map(e=>2===e.style?(0,A.jsx)(B,{auxData:v,noticeKey:{type:"Legacy",data:e}},e.id):(0,A.jsx)(j,{advisory:s?.advisory,inModal:f,noticeKey:{type:"Legacy",data:e}},e.id))})}},804579(e,t,a){a.d(t,{IQ:()=>s,bh:()=>n,im:()=>l,k9:()=>i});let l={CONDITIONAL:0,EMOTIONAL_DISDRESS_OR_SUICIDE:4},i={ABUSIVE:0,SENSITIVE:1,BRAND_UNSAFE:2};function n(e){return!!e&&e.severity===i.ABUSIVE}let s="THIRD_PARTY_TL"},774441(e,t,a){a.d(t,{Ay:()=>c,fG:()=>u,z1:()=>d});var l,i=a(918312),n=a(809583),s=a(389145),r=a(809268);let o=(void 0!==l||(l=a(121543)).hash&&"547e5abdb645851996d6a1b1a4027c56"!==l.hash&&console.error("The definition of 'hasSensitivityNotices_sensitivity' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),l);function d(e){let{notices:t,advisory:a,severity:l}=(0,i.useFragment)(o,e)||{};return{hasNotices:!!(t?.[0]&&null!==t[0].title),advisory:a,severity:l}}function c(e){if(null==e)return{hasNotices:!1};let{advisory:t,severity:a}=e,l=!!e.notices&&e.notices.length>0;return e.notices&&e.notices.length>0&&e.notices[0]?.title===null&&(l=!1),{hasNotices:l,advisory:t,severity:a}}function u(e){let{scope:t}=(0,s.u)(),{data:a,isLoaded:l}=(0,r.A)(),i=d(e);if(t===n.cO.USERS)return i;if(!l||!a)return{hasNotices:!1};let{sensitivity:o}=a;return c(o)}},346362(e,t,a){a.d(t,{A:()=>u});var l=a(97407),i=a(296540),n=a(328138),s=a(643357),r=a(75125),o=a(474848);function d(e,t,a){var l;return(t="symbol"==typeof(l=function(e,t){if("object"!=typeof e||!e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var l=a.call(e,t||"default");if("object"!=typeof l)return l;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?l:l+"")in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}class c extends i.Component{constructor(...e){super(...e),d(this,"setInputRef",e=>{e&&(this._input=e)}),d(this,"handleKeyDown",e=>{let{event:t}=e,{disabled:a,indexManager:l}=this.props;if(!a)switch(t.which){case r.A.ENTER:case r.A.NUMPAD_ENTER:t.preventDefault(),l.select();break;case r.A.UP:t.preventDefault(),l.prev();break;case r.A.DOWN:t.preventDefault(),l.next()}})}componentDidMount(){(0,l.A)("PickerSearchField","/app/www/RepinPicker/PickerSearchField/PickerSearchField.tsx"),this._input&&this._input.focus()}render(){let{onChange:e,value:t}=this.props;return(0,o.jsx)(n.az,{"data-test-id":"picker-search-field-container",role:"presentation",width:"100%",children:(0,o.jsx)(n.Lw,{ref:this.setInputRef,accessibilityLabel:"",id:"pickerSearchField",onChange:({value:t})=>e(t),onKeyDown:this.handleKeyDown,placeholder:this.props.i18n.bt("Tìm kiếm", "Search", "search bar placeholder text", undefined, true),size:"lg",value:t})})}}let u=function(e){let t=(0,s.A)();return(0,o.jsx)(c,{...e,i18n:t})}},906481(e,t,a){a.d(t,{A:()=>m});var l=a(97407),i=a(296540),n=a(328138),s=a(643357),r=a(312533),o=a(528413),d=a(346362),c=a(48668),u=a(328053),h=a(411616),_=a(474848);function p(e,t,a){var l;return(t="symbol"==typeof(l=function(e,t){if("object"!=typeof e||!e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var l=a.call(e,t||"default");if("object"!=typeof l)return l;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?l:l+"")in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}class g extends i.Component{constructor(...e){super(...e),p(this,"state",{searchQuery:""}),p(this,"handleSelectItem",e=>{let{onCreate:t,onSelected:a}=this.props;if(!e&&t){let{searchQuery:e}=this.state;t(e)}else e&&a(e);(t||e)&&this.setState({searchQuery:""})}),p(this,"handleSearchQueryInput",e=>{this.setState({searchQuery:e})}),p(this,"renderSectionHeader",e=>{let{isRepin:t}=this.props;return e.title?(0,_.jsx)(n.az,{children:(0,_.jsx)(n.az,{paddingX:3,paddingY:1,children:(0,_.jsx)(n._Y,{accessibilityLevel:t?2:4,children:(0,_.jsx)(n.KJ,{size:"200",children:e.title})})})}):null}),p(this,"renderRow",({item:e,hovered:t,sectionProps:a={}})=>{let{boardSavedTo:l,isSelectMode:i,disabledRowId:n}=this.props,{searchQuery:s}=this.state,{inSectionSelection:r=!1}=a,o=l&&l.board===e.id?l&&l.state:null,d="board_section"===e.type;return(0,_.jsx)(c.A,{disabled:e.id===n&&r,isSection:d,isSelectMode:i,isWithinSectionPicker:r,item:e,saveState:o,searchQuery:s,selected:t})})}render(){let{boardSavedTo:e,createButtonLabel:t,hasLowBoardCount:a,getSections:l,isLoaded:i,onCreate:s,pinId:c}=this.props;if(!i)return(0,_.jsx)(n.az,{paddingY:5,children:(0,_.jsx)(n.y$,{accessibilityLabel:this.props.i18n.bt("đang tải bộ chọn phần bảng", "loading section picker", "accessibility label for the loading spinner the repin picker", undefined, true),show:!0})});{let{searchQuery:i}=this.state,p=l(i);return this.indexManager=new r.A(p.map(e=>e.items)),this.indexManager.setSelectItem(this.handleSelectItem),(0,_.jsxs)(n.az,{dangerouslySetInlineStyle:{__style:{zIndex:0}},direction:"column",display:"flex",flex:"grow",height:"100%",minHeight:0,overflow:"auto",children:[!a&&(0,_.jsx)(n.az,{children:(0,_.jsx)(n.az,{marginBottom:4,marginTop:1,paddingX:3,children:(0,_.jsx)(d.A,{disabled:!!e,indexManager:this.indexManager,onChange:this.handleSearchQueryInput,value:i})})}),(0,_.jsx)(o.A,{disabled:!!e,grow:!a&&!i,indexManager:this.indexManager,onSelectItem:this.handleSelectItem,renderItem:this.renderRow,renderSectionHeader:this.renderSectionHeader,sections:p}),s&&(0,_.jsx)(n.az,{elevation:p.length>1?"shadowFloating":void 0,children:(0,_.jsx)(h.A,{buttonLabel:t,hasHoverState:!0,name:i,onClick:()=>s(i)})}),a&&s&&c&&(0,_.jsx)(u.A,{onBoardSelected:s,pinId:c})]})}}componentDidMount(){(0,l.A)("RepinPicker","/app/www/RepinPicker/RepinPicker.tsx")}}function m(e){(0,i.useEffect)(()=>{(0,l.A)("RepinPicker","/app/www/RepinPicker/RepinPicker.tsx")},[]);let t=(0,s.A)();return(0,_.jsx)(g,{...e,i18n:t})}},72179(e,t,a){a.d(t,{A:()=>s});var l=a(296540),i=a(991402);function n(e,t,a){var l;return(t="symbol"==typeof(l=function(e,t){if("object"!=typeof e||!e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var l=a.call(e,t||"default");if("object"!=typeof l)return l;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?l:l+"")in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}class s extends l.PureComponent{constructor(...e){super(...e),n(this,"setContainerRef",e=>{this.containerRef=e}),n(this,"fetchMoreIfNecessary",(0,i.A)(()=>{let{fetchMore:e,scrollBuffer:t}=this.props;e&&this.containerRef&&(({scrollTop:e,clientHeight:t,scrollHeight:a},l)=>e+t+(l?l(t):2*t)>a)(this.containerRef,t)&&e()},200))}componentDidMount(){setTimeout(this.fetchMoreIfNecessary)}componentDidUpdate(){this.fetchMoreIfNecessary()}render(){let{children:e}=this.props;return e({onScroll:this.fetchMoreIfNecessary,setRef:this.setContainerRef})}}},904991(e,t,a){a.d(t,{A:()=>l});let l=4},340577(e,t,a){a.d(t,{A:()=>c});var l=a(97407),i=a(296540),n=a(328138),s=a(643357),r=a(327467),o=a(243042),d=a(474848);function c({accessibilityControls:e,accessibilityExpanded:t,accessibilityHaspopup:a,dropdownRef:c,hideDropdown:u=!1,isSaved:h,onBoardDropdownClick:_,onSaveClick:p,promotedIsLeadAd:g,renderPinSaveTooltip:m,selectedTitle:f,showBoardFlyout:b,unselectedText:y,view:v,surface:A}){(0,i.useEffect)(()=>{(0,l.A)("BoardSelectionDisplay","/app/www/common/PinBetterSave/BoardSelectionDisplay.tsx")},[]);let[x,S]=(0,i.useState)(!1),P=(0,s.A)(),w=(0,i.useRef)(null),{closeupWithinMasonryEnabled:C}=(0,o._G)();(0,i.useEffect)(()=>{x&&S(!1)},[x]);let k=f||y,I="closeup"===v,z="media-viewer"===v,T="comparison"===v,j="VideoCarouselModule"===A,E=(0,i.useMemo)(()=>T?"inverse":z?b?"inverse":"default":b||!I?"inverse":"default",[I,b,z,T]),B=(0,i.useCallback)(({event:e})=>{_(e)},[_]),R=I?"transparent":"transparentInverse";R=z?"tertiarySemiTransparent":R,R=T?"transparentInverse":R;let F=h?P.bt("Đã lưu", "Saved", "PinBetterSave.BoardSelection.SavedButton", undefined, true):P.bt("Lưu", "Save", "PinBetterSave.BoardSelection.SaveButton", undefined, true);return(0,d.jsxs)(n.az,{alignItems:z?"start":"center",dangerouslySetInlineStyle:{__style:{gap:"4px"}},display:"flex",paddingX:C?0:void 0,width:"100%",children:[!u&&(0,d.jsx)(n.az,{"data-test-id":f?"board-selection-item-selected":"board-selection-placeholder",flex:"grow",width:"100%",children:(0,d.jsx)(n.$n,{ref:c,accessibilityControls:e,accessibilityExpanded:t,accessibilityHaspopup:a,accessibilityLabel:(0,r.$)(P.bt("Chọn một bảng để lưu Ghim này vào: {{ boardName }}", "Select a board to save to: {{ boardName }}", "PinBetterSave.BoardSelection.DropdownIcon", undefined, true),{boardName:k}),color:R,dataTestId:"PinBetterSaveDropdown",iconEnd:"chevron-down",onClick:B,selected:b,size:j?"sm":"lg",text:(0,d.jsx)(n.KJ,{color:E,lineClamp:1,overflow:"breakAll",size:j?"100":"300",weight:"bold",children:k})})}),(0,d.jsx)(n.az,{alignSelf:I?"center":"start","data-test-id":"PinBetterSaveButton",flex:"none",marginStart:"auto",children:(0,d.jsx)(n.PF,{ref:w,color:g?"secondary":"primary",onClick:({event:e})=>{u?_(e):p(e)},selected:h,size:j?"sm":"lg",text:F})}),!!m&&!!w.current&&I&&m(w.current)]})}},197239(e,t,a){a.r(t),a.d(t,{default:()=>ek,PinBetterSave:()=>eC});var l,i,n,s,r=a(97407),o=a(296540),d=a(671468);a(234784);var c=a(278106),u=a(328138),h=a(684059),_=a(744924),p=a(607754),g=a(960926),m=a(632321),f=a(738760),b=a(845061),y=a(988268),v=a(528074),A=a(427575),x=a(696561),S=a(209364),P=a(55268),w=a(449798),C=a(698781),k=a(652965),I=a(643357),z=a(327467),T=a(718244),j=a(622165),E=a(468133),B=a(441472),R=a(467063),F=a(211974),D=a(221077),K=a(84220),L=a(403532),N=a(243042),M=a(965485),O=a(904991),U=a(305167),V=a(340577),H=a(779015),J=a(474848);class $ extends o.PureComponent{constructor(...e){var t,a,l;super(...e),t="handleClick",a=()=>{let{boardId:e,logContextEvent:t}=this.props;t({event_type:101,component:20,element:10805,object_id_str:e})},(t="symbol"==typeof(l=function(e,t){if("object"!=typeof e||!e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var l=a.call(e,t||"default");if("object"!=typeof l)return l;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?l:l+"")in this?Object.defineProperty(this,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):this[t]=a}componentDidMount(){let{toastShown:e}=this.props;e()}render(){let{boardName:e,boardUrl:t,onHide:a}=this.props;return(0,J.jsx)(P.A,{duration:5e3,href:`${t}more_ideas/?ideas_referrer=16`,onClick:this.handleClick,onHide:a,text:(0,J.jsx)(u.KJ,{weight:"bold",children:(0,z.vQ)(this.props.i18n.bt("Tìm thêm ý tưởng cho {{ boardName }}", "Find more ideas for {{ boardName }}", "postRepinUpsellToast.findMoreIdeas.toast", undefined, true),{boardName:e}).join("")})})}}function q(e){(0,o.useEffect)(()=>{(0,r.A)("PostRepinUpsellToast","/app/www/common/PinBetterSave/PostRepinUpsellToast.tsx")},[]);let{logContextEvent:t}=(0,m.o)(),a=(0,I.A)(),l=(0,d.wA)();return(0,J.jsx)($,{...e,i18n:a,logContextEvent:t,toastShown:()=>l((0,H.aC)(e.boardId))})}var W=a(28245),G=a(194637),Y=a(768114),Q=a(719160),X=a(871211);let Z=(0,o.lazy)(()=>Promise.all([a.e("5758"),a.e("78437"),a.e("69124")]).then(a.bind(a,775415)));function ee(e){(0,o.useEffect)(()=>{(0,r.A)("PostSavedPinBoardCollabUpsell","/app/www/common/PinBetterSave/PostSavedPinBoardCollabUpsell.tsx")},[]);let{board:t,hideToast:a}=e,l=(0,I.A)(),i=(0,w.A)(),[n,s]=(0,o.useState)(!1),[d,c]=(0,o.useState)(!1),h=()=>{a()};(0,X.A)(()=>{setTimeout(()=>c(!0),100)});let{marginTop:_,opacity:p,pointerEvents:g,transform:m,transition:f,visibility:b}=(0,Y.Ay)({deviceType:"desktop",hiding:!1,visible:d}),y=t.name,v=(0,J.jsxs)(u.KJ,{children:[(0,J.jsxs)(u.KJ,{weight:"bold",children:[" ",(0,z.vQ)(l.bt("Mời bạn bè vào bảng mới của bạn", "Invite people to your new board", "postSavedPinBoardCreateCollabUpsell.title.1", undefined, true),{boardName:y})]}),(0,J.jsx)(u.KJ,{children:l.bt("Nhận ý tưởng từ những người bạn yêu thích", "Get ideas from your favorite people", "postSavedPinBoardCollabUpsell.message", undefined, true)})]}),A=i.isAuth&&i.firstName&&(0,J.jsxs)(u.az,{height:48,position:"relative",width:48,children:[(0,J.jsx)(u.az,{position:"absolute",children:(0,J.jsx)(G.eu,{color:i.avatar_color_index,name:i.firstName,outline:!0,size:"sm",src:i.imageMediumUrl})}),(0,J.jsx)(u.az,{dangerouslySetInlineStyle:{__style:{left:"25%",top:"25%"}},position:"absolute",rounding:400,children:(0,J.jsx)(u.DR,{bgColor:"lightGray",hovered:!0,icon:"person-plus",iconColor:"darkGray",size:"sm"})})]}),x=(0,J.jsx)(u.so,{alignContent:"center",alignItems:"center",justifyContent:"start",children:(0,J.jsxs)(u.e2,{children:[(0,J.jsx)(u.$n,{accessibilityLabel:l.bt("Lúc khác", "Not now", "postSavedPinBoardCollabUpsell.notNowLabel", undefined, true),color:"secondary",onClick:h,text:l.bt("Lúc khác", "Not now", "postSavedPinBoardCollabUpsell.notNowLabel", undefined, true)}),(0,J.jsx)(u.$n,{accessibilityLabel:l.bt("Mời", "Invite", "postSavedPinBoardCollabUpsell.inviteFriendsLabel", undefined, true),color:"primary",onClick:()=>{s(!0)},text:l.bt("Mời", "Invite", "postSavedPinBoardCollabUpsell.inviteFriendsLabel", undefined, true)})]})});return(0,J.jsx)(u.Wd,{zIndex:new u.K5([new u.rk(1e3)]),children:n?(0,J.jsx)(Q.A,{children:(0,J.jsx)(Z,{board:t,fromBoardCollabUpsell:!0,onDismiss:h})}):(0,J.jsx)(u.az,{alignItems:"center",bottom:!0,dangerouslySetInlineStyle:{__style:{transform:m,transition:f,visibility:b,pointerEvents:g}},display:"flex",justifyContent:"center",marginBottom:5,marginTop:_,opacity:p,position:"fixed",width:"100%",children:(0,J.jsxs)(u.az,{color:(0,W.ud)()?void 0:"default",dangerouslySetInlineStyle:(0,W.ud)()?{__style:{backgroundColor:"var(--base-color-transparent)"}}:void 0,direction:"column",display:"flex",elevation:"shadowFloating",paddingY:4,rounding:400,smDirection:"row",children:[(0,J.jsxs)(u.az,{smDisplay:"flex",smMarginBottom:-3,smMarginTop:-3,width:"100%",wrap:!0,children:[(0,J.jsxs)(u.az,{alignItems:"center",direction:"column",display:"flex",flex:"shrink",justifyContent:"center",padding:4,smDirection:"row",smPaddingY:3,children:[A,(0,J.jsx)(u.az,{alignItems:"center",direction:"column",display:"flex",flex:"shrink",marginBottom:"auto",marginTop:"auto",smDisplay:"block",smMarginEnd:6,smMarginStart:2,children:(0,J.jsx)(u.az,{maxWidth:648,children:v})})]}),x]}),(0,J.jsx)(u.K0,{accessibilityLabel:"cancel",icon:"close",iconColor:"default",onClick:h,padding:4,size:"sm"})]})})})}var et=a(443400),ea=a(208022),el=a(286682),ei=a(804579),en=a(774441),es=a(367863),er=a(582301),eo=a(788715),ed=a(511940),ec=a(209922),eu=a(345208),eh=a(789542),e_=a(46077),ep=a(375114),eg=a(197472),em=a(62923);let ef=(void 0!==l||(l=a(79694)).hash&&"03aa6b9cad1d5fb9b12a7c896ccdaffd"!==l.hash&&console.error("The definition of 'PinSaveRequestRepinWithSectionSuggestions_pin' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),l),eb=(void 0!==i||(i=a(18923)).hash&&"6bd1eb83cfe5391288164b17cc5d85b7"!==i.hash&&console.error("The definition of 'PinSaveRequestRepinWithSectionSuggestions_shuffle_asset' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),i);function ey(e){(0,o.useEffect)(()=>{(0,r.A)("PinSaveRequestRepinWithSectionSuggestions","/app/www/save/pin-to-board/PinToBoard/PinSaveRequestRepinWithSectionSuggestions.tsx")},[]);let{action:t,additionalCreateFields:a,boardWithSection:l,clientTrackingParams:i,children:n,onClose:s,pinKey:d,setCompletionPromise:c,shouldHideToast:u,shuffleAssetKey:h}=e,_=(0,C.A)(ef,d),p=(0,C.A)(eb,h);return(0,J.jsx)(em.a,{action:t,additionalCreateFields:a,boardWithSection:l,clientTrackingParams:i,onClose:s,pinKey:_,setCompletionPromise:c,shouldShowToast:!u,showCreate:!0,shuffleAssetKey:p,urlPinInfo:null,children:e=>n(e)})}var ev=a(205933),eA=a(646844);function ex(e,t,a){var l;return(t="symbol"==typeof(l=function(e,t){if("object"!=typeof e||!e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var l=a.call(e,t||"default");if("object"!=typeof l)return l;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?l:l+"")in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}let eS=(void 0!==n||(n=a(325227)).hash&&"30d8edb71deeb3f1a4abc132d299e97a"!==n.hash&&console.error("The definition of 'PinBetterSave_pin' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),n),eP=(void 0!==s||(s=a(652234)).hash&&"1f53887e43dccddcc1fb109a988e5c3d"!==s.hash&&console.error("The definition of 'PinBetterSave_shuffle_asset' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),s);function ew({ref:e,savedInfo:t,variant:a}){let l=(0,I.A)(),{closeupWithinMasonryEnabled:i}=(0,N._G)(),n="closeup"===a,s="boardless"===t.type?l.bt("Hồ sơ", "Profile", "PinBetterSave.PinBetterSaveSavedStatus.savedTitle", undefined, true):t.title??"";return(0,J.jsx)(u.N_,{ref:e,href:t.url||"",onClick:({event:e})=>{e.stopPropagation()},children:(0,J.jsx)(u.az,{alignItems:n?"center":void 0,dangerouslySetInlineStyle:{__style:{color:i?"#FFF":"#333"}},"data-test-id":"saved-board-title",display:n?"flex":"block",marginEnd:4*!!n,marginStart:+!!n,minHeight:n?52:void 0,children:(0,J.jsx)(u.KJ,{align:n?"end":void 0,color:"cutout"===a||"media-viewer"===a?"light":"default",lineClamp:n?1:void 0,overflow:"breakAll",size:"300",weight:"bold",children:s})})})}class eC extends o.Component{constructor(...e){super(...e),ex(this,"state",{boardWithSection:null,createdBoard:null,suggestedBoardTitle:"",showBoardFlyout:!1,showRepinModal:!1,sensitiveContentNotice:null,showBoardCollabUpsell:!1,hasItemSelected:!1}),ex(this,"setBoardSaveCompletionPromise",e=>{let{createdBoard:t}=this.state;this._repinCompletionPromise=e,this._repinCompletionPromise.promise.then(e=>{if(!e.board)return;let{board:{id:a,name:l,url:i}}=e,n={boardId:a,title:l,url:i};this.updateSelectedBoardOrSection(n),this.updateSavedState({...n,localPinId:e.id}),this.props.onVisitButtonAnimate?.(),t&&(0,ei.bh)(t.sensitivity)&&(0,en.Ay)(t.sensitivity)?this.setState({sensitiveContentNotice:t.sensitivity.notices[0]}):this.handleRepinHide()})}),ex(this,"updateSavedState",e=>{let{currentHistoryStack:t,location:a,save:l,searchQueryInvalidated:i,onSave:n,pin:s}=this.props,r=(0,D.A)(a.search).q||(0,M.V)(t);l({pinId:s.entityId,nodeId:s.__id,boardId:e.boardId??"",localPinId:e.localPinId??"",score:e.score??void 0,sectionId:e.sectionId??"",title:e.title??"",type:e.type??"",url:e.url??""}),r&&i(r),n&&e.localPinId&&n()}),ex(this,"updateSelectedBoardOrSection",e=>{let{selectBoardOrSection:t,pin:a}=this.props;t({pinId:a.entityId,nodeId:a.__id,boardId:e.boardId??"",localPinId:e.localPinId??"",score:e.score??void 0,sectionId:e.sectionId??"",title:e.title??"",type:e.type??"",url:e.url??""})}),ex(this,"updateSelectedItem",()=>{let{initialSelection:e,selectedItem:t}=this.props;!t&&e&&(this.updateSelectedBoardOrSection(e),this.setState({hasItemSelected:!0}))}),ex(this,"dropdownRef",(0,o.createRef)()),ex(this,"boardSelectedRef",(0,o.createRef)()),ex(this,"handleItemChosen",e=>{this.updateSelectedBoardOrSection(e),this.hideFlyout(!0),this.save({item:e})}),ex(this,"handleBoardCreate",({title:e=""}={})=>{let{requireAuth:t,i18n:a}=this.props;if(t)return void t({loginModalHeader:(0,f.R2)(a)});this.hideFlyout(!0),this.setState(t=>({...t,suggestedBoardTitle:e,showRepinModal:!0}));let{onToggleFlyout:l}=this.props;l&&l(!0,!0)}),ex(this,"handleBoardCreated",e=>{this.setState({createdBoard:e});let{toastManagerContext:t}=this.props;this.isViewerEligibleForBoardCollabUpsell(e)&&(this.setState({showBoardCollabUpsell:!0}),(0,B.y1)().setItem(g.$0,+new Date),setTimeout(()=>t.showOneToast(({hideToast:t})=>(0,J.jsx)(ee,{board:e,hideToast:t})),4e3))}),ex(this,"handleRepinHide",()=>{this.setState(e=>({...e,suggestedBoardTitle:"",showRepinModal:!1}));let{onToggleFlyout:e}=this.props;e&&e(!1,!1)}),ex(this,"handleBoardDropdownClick",e=>{let{setAbortNoActionPlacementTimeout:t,pin:{entityId:a},viewParameter:l,viewType:i,clientTrackingParams:n,logContextEvent:s}=this.props;t(!0),e&&e.preventDefault&&e.preventDefault(),e&&e.stopPropagation&&e.stopPropagation(),this.state.showBoardFlyout?this.hideFlyout(!0):(s({aux_data:{pin_id:a},component:13282,element:10960,event_type:101,object_id_str:a,view_parameter:l,view_type:i,clientTrackingParams:n}),this.showFlyout())}),ex(this,"handleSaveClick",async(e,t)=>{let{i18n:a,selectedItem:l,requireAuth:i}=this.props;if(i){e.stopPropagation(),i({loginModalHeader:(0,f.Mm)(a)});return}t||!l?this.handleBoardDropdownClick(e):(e&&e.preventDefault&&e.preventDefault(),e&&e.stopPropagation&&e.stopPropagation(),this.logClickEvent({isSaveClick:!0}),await this.save({item:l}))}),ex(this,"logClickEvent",({isSaveClick:e})=>{let{clientTrackingParams:t,pin:a,selectedItem:l,viewType:i,viewParameter:n,logContextEvent:s}=this.props,r=l?.score?JSON.stringify([l.score]):void 0;s({event_type:101,...i?{view_type:i}:Object.freeze({}),...n?{view_parameter:n}:Object.freeze({}),component:13282,element:36,object_id_str:l?.boardId,clientTrackingParams:t,aux_data:{board_id:l?.boardId,grid_index:O.A,is_profile_save:l?.type==="boardless",is_undo:!e,pin_id:a.entityId,suggested_boards_score_list:r}})}),ex(this,"setBoardWithSection",e=>{this.setState({boardWithSection:e})}),ex(this,"handleEditSubmit",({boardId:e,sectionId:t,url:a,title:l})=>{let{savedInfo:i}=this.props,n=i?.localPinId;this.updateSavedState({localPinId:n||"",boardId:e,sectionId:t||"",url:a,title:l})}),ex(this,"resetPinSavedState",()=>{this.updateSavedState({boardId:"",localPinId:"",sectionId:"",title:"",url:""})}),ex(this,"deleteSavedState",({isDisableToast:e,newPinId:t})=>{let{clientTrackingParams:a,i18n:l,onDelete:i,pin:n,toastManagerContext:s,unsave:r}=this.props;r({pinId:n.entityId,nodeId:n.__id}),t&&h.A.create("PinResource",{id:t,client_tracking_params:a}).callDelete().then(()=>{e||s.showToast(({hideToast:e})=>(0,J.jsx)(P.A,{dataTestId:"pin-better-save-removed-pin-toast",onHide:e,text:n.savedInfo?.boardId?l.bt("Đã xóa khỏi bảng của bạn!", "Removed from your board!", "PinBetterSave.SavedPin.RemovedFromYourBoard", undefined, true):l.bt("Đã xóa Ghim!", "Pin removed!", "PinBetterSave.SavedPin.PinRemoved", undefined, true)}))}),i&&i()}),ex(this,"save",async({item:e,movedBoardTitle:t})=>{let{onClickCallback:a,requireAuth:l,onVisitButtonAnimate:i}=this.props;if(l)return void l();i?.();let{addNewPinToPinsFeed:n,i18n:s,isLimitedLogin:r,mostRecentBoard:o,pin:d,postRepinMoreIdeasUpsell:c,postRepinUpsellDisabled:u,save:h,setMostRecentBoard:_,toastManagerContext:g,showEmailVerificationReminderModal:m,mountAfterActionPlacement:f,pinnerBlockedByMe:b}=this.props;b||this.updateSavedState(e);let y=!!e.sectionId,v="boardless"===e.type,x=!1;try{let{resource_response:{data:l}}=await this.getPinResource(e).callCreate({showError:!1}),i=e.url,{checkExperiment:r,incrementBoardPinCount:m,updateUserPinCount:b,viewer:A,viewerUserId:S}=this.props;!u&&i&&!v&&(({boardId:e,boardUrl:t,postRepinMoreIdeasUpsell:a})=>{if(!t)return!1;let{recentSaves:l,recentUpsell:i}=a;if(i[e])return!1;let n=l.findIndex(t=>t.boardId!==e);return(-1===n?l.length:n)+1>=3})({boardId:e.boardId??"",boardUrl:i,postRepinMoreIdeasUpsell:c})&&(g.showToast(({hideToast:t})=>(0,J.jsx)(q,{boardId:e.boardId??"",boardName:e.title??"",boardUrl:i,onHide:t})),x=!0),h({pinId:d.entityId,nodeId:d.__id,boardId:e.boardId??(l.board.id||""),localPinId:l.id?l.id:e.localPinId??"",score:e.score??void 0,sectionId:e.sectionId??"",title:e.title??(l.board.title||""),type:e.type??"",url:e.url??(l.board.url||""),localPin:l}),this.props.onPinCreate&&this.props.onPinCreate({boardId:l.board.id,pinId:l.id}),m({boardId:e.boardId??"",sectionId:e.sectionId}),b(S);let w=e.sectionId?e.sectionId:e.boardId;v?(w=S,n(w,l.id,!1,v)):n(w??"",l.id,y,!1);let{id:C,images:k,board:I}=l,T=k["236x"];this.updateSavedState({...e,localPinId:C});let j=A?.isAuth&&A?.pinCount,E=A?.isAuth&&A?.boardCount,B=(2===j||3===j)&&E&&E<2,R=B?r("ap_dweb_first_board_creation").group:null,F=B?r("ap_dweb_res_user_first_board_creation",{dangerouslySkipActivation:!0}).group:null;if(F?.startsWith("enabled")||(R&&"control"!==R&&"enabled_three"!==R||2!==j)&&("enabled_four"!==R&&"enabled_genie"!==R||3!==j)||t)x||g.showToast(({hideToast:a})=>t?(0,J.jsx)(P.A,{onHide:a,text:(0,z.vQ)(s.bt("Đã di chuyển đến {{ boardName }}", "Moved to {{ boardName }}", "PinBetterSave.SavedPin.MovedToBoard", undefined, true),{boardName:t}).join("")}):(0,J.jsx)(et.A,{boardName:(e.title||I.name)??"",boardUrl:e.url||I.url,isBoardlessPin:v,onHide:a,onUndo:()=>this.deleteSavedState({newPinId:C}),pinImageUrl:T.url}));else{let t=e=>{this.props.updateHeaderState?.({type:"showRepinAnimation",payload:e})};g.showOneToast(({hideToast:a})=>(0,J.jsx)(p.A,{boardId:e.boardId??"",boardUrl:e.url||I.url,firstBoardCreationExperimentEnabled:R?.startsWith("enabled"),imageUrl:d.images_474x?.url,onHide:a,showRepinAnimation:t,title:d.title,toastDuration:5e3}))}f("Save",{is_promoted:d.isPromoted,pin_id:d.entityId,repin_id:C}),o&&e.boardId!==o.id&&!v&&_(e.boardId??"",e.title??"",e.url??""),"function"==typeof a&&a(),setTimeout(()=>{this.boardSelectedRef.current?.focus()},0)}catch(t){let e=(0,A.A)(t,"message_detail")||(0,A.A)(t,"message")||"";(0,A.A)(t,"api_error_code")===T.f8?m():r||g.showToast(({hideToast:t})=>(0,J.jsx)(P.A,{dataTestId:"pin-save-error-toast",duration:5e3,onHide:t,text:e})),this.resetPinSavedState()}}),ex(this,"hideFlyout",(e=!1)=>{let{onToggleFlyout:t}=this.props;this.setState({showBoardFlyout:!1}),t&&t(!1,e)})}componentDidMount(){(0,r.A)("PinBetterSave","/app/www/common/PinBetterSave/PinBetterSave.tsx");let{autoQuicksaveCallback:e,onMount:t,shouldAutoQuicksave:a}=this.props;this.updateSelectedItem(),t&&t(),a&&(this.save({item:{boardId:"",url:"/me/",title:"Profile",type:"boardless"}}),e?.())}componentDidUpdate(){this.state.hasItemSelected||this.updateSelectedItem(),this.props.saveToBoardFromPostDownloadUpsell&&(this.showFlyout(),this.props.setSaveToBoardFromPostDownloadUpsell?.(!1))}getPinResource(e){let{carouselData:t,clientTrackingParams:a,pin:l,getStringifiedCommerceAuxData:i,shuffleAsset:n}=this.props,s={carousel_slot_index:t&&t.index||0,clientTrackingParams:a,description:l.description||"",image_base64:l.imageBase64,is_buyable_pin:!1,is_promoted:l.isPromoted,is_removable:l.promotedIsRemovable,link:l.link,pin_id:l.entityId||"",title:l.title||"",...n?{shuffle_asset:n.entityId}:{},...e.boardId&&"boardless"!==e.type?{board_id:e.boardId}:null,...e.sectionId?{section:e.sectionId}:null,...i(),...e.boardPickerSuggestedBoards?{aux_data:{board_picker_suggested_boards:e.boardPickerSuggestedBoards}}:{}};return h.A.create("RepinResource",s)}showFlyout(){let{onToggleFlyout:e}=this.props;this.setState({showBoardFlyout:!0}),e&&e(!0,!0)}isViewerEligibleForBoardCollabUpsell(e){let{viewer:t}=this.props;if(t?.isAuth&&e){if(!(0,R.A)(g.$0))return!1;let a=(0,B.y1)().getItem(g.$0)||"0",l=new Date,i=Number(a)<l.getTime()-6048e5,n=(t.boardCount??0)>=2&&(t.pinCount??0)>=3,s=!e.is_collaborative&&!!e.url&&e.url.split("/")[1]===t.username;return n&&s&&i}return!1}render(){let{boardResource:e,carouselData:t,clientTrackingParams:a,hideAlreadySavedMsg:l,onToggleModal:i,pin:n,popoverId:s,renderPinSaveTooltip:r,renderSavedStatus:o,savedInfo:d,savedCutout:c,selectedItem:h,unselectedText:_,variant:p,viewParameter:g,hideDropdown:m,showSaveToProfile:f,shuffleAsset:b,nodeRef:y,surface:A}=this.props,{boardWithSection:x,showBoardFlyout:P,showRepinModal:w,sensitiveContentNotice:C,suggestedBoardTitle:k}=this.state,I=d||c,{entityId:z,imageSignature:T}=n,{shouldAllowSaveToProfile:E,shouldSeePinBetterSave:B}=(0,eo.A)({dangerouslySkipActivation:!0}),R=(0,J.jsx)(U.K$,{boardResource:e,clientTrackingParams:a,hideAlreadySavedMsg:l,imageSignature:T,onBoardCreate:this.handleBoardCreate,onItemChosen:this.handleItemChosen,pinId:z,selectedItem:h,setBoardWithSection:this.setBoardWithSection,showSaveToProfile:f||E,surfaceOriginViewParameter:g}),F=()=>{this.logClickEvent({isSaveClick:!1}),this.deleteSavedState({newPinId:I?.localPinId??""})},{checkExperiment:D}=(0,j.A)();return(0,J.jsx)(v.A,{name:"PinBetterSave",children:(0,J.jsxs)(u.az,{ref:y??void 0,"data-test-id":"pin-better-save-button",display:["closeup","media-viewer"].includes(p)?"flex":void 0,height:"closeup"===p||"media-viewer"===p?void 0:60,children:[I?.title?(0,J.jsx)(ea.A,{clientTrackingParams:a,currentCarouselIndex:t&&t.index,onDeleteSavedState:F,onEditSubmit:this.handleEditSubmit,onToggleModal:i,pinId:I.localPinId,shouldUseLegoStyles:!0,surface:A,variant:p,viewParameter:g,children:o&&I&&o({ref:this.boardSelectedRef,savedInfo:I,variant:p})}):(0,J.jsx)(V.A,{accessibilityControls:s,accessibilityExpanded:P,accessibilityHaspopup:!0,dropdownRef:this.dropdownRef,hideDropdown:m,isSaved:!!I?.boardId,onBoardDropdownClick:this.handleBoardDropdownClick,onSaveClick:e=>this.handleSaveClick(e,B),promotedIsLeadAd:n.promotedIsLeadAd,renderPinSaveTooltip:r,selectedItem:B?void 0:h,selectedTitle:h?.title,showBoardFlyout:P,surface:A,unselectedText:_,view:p}),(0,J.jsx)(ey,{action:"create",additionalCreateFields:{is_stl_pin:(n.shoppingFlags??[]).includes(2)},boardWithSection:x,clientTrackingParams:a,onClose:this.handleRepinHide,pinKey:n,setCompletionPromise:this.setBoardSaveCompletionPromise,shouldHideToast:this.state.showBoardCollabUpsell,shuffleAssetKey:b,urlPinInfo:null,children:({boardSavedTo:e,dismissModal:t,displaySuccessAnimation:a,handleAbort:l,handleNewBoardAnimationCompletion:i,handleSaveToBoard:s,newPin:r,updateDescription:o,modalTitle:d,setModalTitle:c})=>{let u,h;if(!w)return null;let _=(u=b?.cutoutImages_236x??n.images_236x,(h=u?.url)?{url:h,name:n.title||null}:null);return!x&&D("dweb_board_create_glowup").anyEnabled?(0,J.jsx)(L.A,{boardCreateSource:"board_picker",images:_?[_]:void 0,initialValues:{boardName:k},onBoardCreate:e=>{this.handleBoardCreated(e),s(e)},onClose:()=>{l(),setTimeout(()=>{this.dropdownRef.current?.focus()},0)}}):(0,J.jsx)(ev.A,{boardSavedTo:e,boardWithSection:x,dismissModal:()=>{t(),setTimeout(()=>{this.boardSelectedRef.current?.focus()},0)},displaySuccessAnimation:a,handleAbort:()=>{l(),setTimeout(()=>{this.dropdownRef.current?.focus()},0)},handleNewBoardAnimationCompletion:i,handleSaveToBoard:s,isInModal:!0,modalTitle:d,newPin:r,onBoardCreated:this.handleBoardCreated,pinKey:n,pwtAuxData:{pin_create_method:"repin"},sensitiveContentNotice:C,setModalTitle:c,shouldRenderContent:w,showCreate:!0,shuffleAssetKey:b,suggestedBoardTitle:k,updateDescription:o,urlPinInfo:null})}}),P&&(0,J.jsx)(u.Wd,{zIndex:new u.K5([el.y]),children:(0,J.jsx)(u.AM,{anchor:this.dropdownRef.current,id:s,idealDirection:"down",onDismiss:()=>{this.hideFlyout(),this.dropdownRef.current?.focus()},positionRelativeToAnchor:!1,size:"xl",children:R})}),(0,J.jsx)(S.A,{placementId:1000578})]})})}}ex(eC,"defaultProps",{variant:"pin",renderSavedStatus:({ref:e,savedInfo:t,variant:a})=>(0,J.jsx)(ew,{ref:e,savedInfo:t,variant:a})});let ek=(0,o.memo)(function({pinKey:e,shuffleAssetKey:t,surface:a,...l}){let{logContextEvent:i}=(0,m.o)(),n=(0,I.A)(),s=(0,o.useId)(),r=(0,c.zy)(),u=(0,C.A)(eS,e),h=(0,C.A)(eP,t),p=u.selectedItem,g=(0,E.A)({name:"BoardPickerBoardsResource",options:{field_set_key:"board_picker"}}),f=(0,E.A)({name:"BoardPickerBoardsShortlistResource",options:{pin_id:u.entityId,shortlist_length:1,num_shortlist_suggestions:1,suggestions_only:!0,min_confidence:.5}}),v=(0,er.y)()?.onPinCreate,A=(0,F.CG)(),{showEmailVerificationReminderModal:S}=(0,y.cL)(),P=(0,w.A)(),z=(0,d.wA)(),T=(0,d.d4)(({mostRecentBoard:e})=>e),{previous:B}=(0,k.qD)(),R=(0,k.V)(),D=(0,d.d4)(({ui:e})=>e.postRepinMoreIdeasUpsell),L=u&&u.board?.layout!=="default",{initialSelection:M}=l,O=M?.title||"",U=!0,{showEnabledSaveBehavior:V}=(0,ed.Ay)(P.isAuth&&P.id||""),$=(0,x.Ts)(),{setAbortNoActionPlacementTimeout:q}=(0,N._G)(),{checkExperiment:W}=(0,j.A)(),{updateHeaderState:G}=(0,es.A)(),Y={boardId:"",title:n.bt("Hồ sơ", "Profile", "pinBetterSave.initialSelection.boardlessPinsOption", undefined, true),type:"boardless",url:"/me/"},Q=(0,b.A)();if(!M){let e=f&&f.data&&f.data[0];M=u.board?.name&&!L&&P.isAuth&&u.board.owner?.entityId===P.id&&{title:u.board.name,boardId:u.board.entityId,url:u.board.url??""}||u.recommendationReason?.board&&{title:u.recommendationReason.board.name??"",boardId:u.recommendationReason.board.entityId??"",url:u.recommendationReason.board.url??""}||f&&f.isLoaded&&e&&{boardId:e.id,score:JSON.parse(e?.recommendation_reason??"{}").score,title:e.name,url:e.url}||f&&f.isLoaded&&!e&&V&&Y||f&&f.isLoaded&&!e&&T&&{boardId:T.id,title:T.name,url:T.url}||void 0,O=f&&f.isLoaded?n.bt("Chọn", "Select", "BetterSave label to pick a board from the list", undefined, true):"...",U=!1}M?.url?.includes("_quick_saves")&&(M=Y);let X=(0,K.A)(u),Z=(0,o.useCallback)(e=>{let t="cutout"===l.variant?H.uW:H.UN;(0,eA.GV)(`web.closeup.media_viewer_stats.save.clicked_from.${l.variant}`),z(t(e))},[l.variant,z]),ee=(0,o.useCallback)(e=>{let t="cutout"===l.variant?H.ne:H.jI;(0,eA.GV)(`web.closeup.media_viewer_stats.unsave.clicked_from.${l.variant}`),z(t(e))},[l.variant,z]),{triggerVisitButtonAnimation:et}=(0,_.r)();return(0,J.jsx)(eC,{...l,addNewPinToPinsFeed:(e,t,a,l)=>{let i=a?eg.A.BOARD_SECTION_PINS:eg.A.BOARDFEED;l&&(i=eg.A.BOARDLESS_PINS),z((0,eh.ZT)({feedId:e,feedType:i,itemIds:[t],itemType:"pin"}))},boardResource:g,carouselData:u&&u.carouselData,checkExperiment:W,currentHistoryStack:R,getStringifiedCommerceAuxData:X,i18n:n,incrementBoardPinCount:({boardId:e,sectionId:t})=>z((0,ec.zY)({boardId:e,sectionId:t,increment:1})),initialSelection:M,isLimitedLogin:P.isLimitedLogin,location:r,logContextEvent:i,mostRecentBoard:T,mountAfterActionPlacement:$,onPinCreate:v,onVisitButtonAnimate:et,pin:u,popoverId:s,postRepinMoreIdeasUpsell:D,postRepinUpsellDisabled:U,previousHistory:B,renderPinSaveTooltip:l.renderPinSaveTooltip,requireAuth:Q,save:Z,savedCutout:u.savedCutout??void 0,savedInfo:u.savedInfo??void 0,searchQueryInvalidated:e=>z((0,eu.KJ)(e)),selectBoardOrSection:e=>{z(("cutout"===l.variant?H.dD:H.PD)(e))},selectedItem:p??void 0,setAbortNoActionPlacementTimeout:q,setMostRecentBoard:(e,t,a)=>z((0,e_.x)(e,t,a)),showEmailVerificationReminderModal:S,showSaveToProfile:V,shuffleAsset:h,surface:a,toastManagerContext:A,unsave:ee,unselectedText:O,updateHeaderState:G,updateUserPinCount:e=>z((0,ep.LR)({userId:e,increment:1})),viewer:P,viewerUserId:P.isAuth?P.id:""})})},208022(e,t,a){a.d(t,{A:()=>o});var l=a(97407),i=a(296540),n=a(328138),s=a(908132),r=a(474848);function o(e){(0,i.useEffect)(()=>{(0,l.A)("SavedStatus","/app/www/common/PinBetterSave/SavedStatus.tsx")},[]);let{clientTrackingParams:t,children:a,currentCarouselIndex:o,hidePinRepEditButton:d=!1,onDeleteSavedState:c,onEditSubmit:u,onToggleModal:h,pinId:_,variant:p,viewParameter:g,shouldUseLegoStyles:m,surface:f}=e;return(0,r.jsxs)(n.az,{alignItems:"center",direction:"row",display:"flex",maxHeight:"100%",paddingX:"closeup"!==p||m?void 0:2,width:"closeup"===p?"100%":void 0,children:[a&&(0,r.jsx)(n.az,{"data-test-id":"saved-info",flex:"grow",paddingX:1,children:a}),!d&&(0,r.jsx)(n.az,{flex:"none",marginStart:"auto",paddingX:1,children:(0,r.jsx)(s.default,{carouselSlotCurrentIndex:o,clientTrackingParams:t,component:0,onDelete:c,onSubmit:u,onToggleModal:h,pinId:_,shouldUseLegoStyles:m,style:"pin"===p?{bgColor:"default",iconColor:"default",size:"sm"}:{bgColor:"transparent",iconColor:"default",size:"sm"},surface:f,useLegoStyles:"pin"===p,viewParameter:g})})]})}},312533(e,t,a){a.d(t,{A:()=>s});let l={row:0,section:0},i={row:-1,section:-1},n=()=>void 0;class s{constructor(e){this.index={...l},this.sections=e,this.updateCallback=n,this.selectItem=n}getIndex(){return this.index}isAtStart(){let{row:e,section:t}=this.index;return 0===e&&0===t}isAtEnd(){let{row:e,section:t}=this.index,a=this.sections[t]||[];return this.sections.length===t+1&&a.length===e+1}next(){if(this.isAtEnd())return;let{row:e,section:t}=this.index;e===i.row&&t===i.section?this.index={...l}:this.sections[t].length>e+1?this.index.row+=1:(this.index.section+=1,this.index.row=0),this.updateCallback(!0)}prev(){if(this.isAtStart())return;let{row:e,section:t}=this.index;if(e===i.row&&t===i.section)this.index={...l};else if(e>0)this.index.row-=1;else{let e=this.index.section-1;this.index={section:e,row:this.sections[e].length-1}}this.updateCallback(!0)}select(){let{row:e,section:t}=this.index;this.selectItem((this.sections[t]||[])[e])}setInactive(){this.index={...i},this.updateCallback()}setSelectItem(e){this.selectItem=e}setUpdateCallback(e){this.updateCallback=e}updateIndex(e){this.index=e,this.updateCallback()}}},528413(e,t,a){a.d(t,{A:()=>d});var l=a(97407),i=a(296540),n=a(328138),s=a(72179),r=a(474848);function o(e,t,a){var l;return(t="symbol"==typeof(l=function(e,t){if("object"!=typeof e||!e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var l=a.call(e,t||"default");if("object"!=typeof l)return l;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?l:l+"")in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}class d extends i.Component{constructor(e){super(e),o(this,"setSelectedItemRef",e=>{this.selectedItemRef=e}),o(this,"handleIndexUpdate",e=>{let{indexManager:t}=this.props;this.setState({selectedIndex:t.getIndex(),selectionMovedByKeyboard:!!e})}),o(this,"handleSelectItem",e=>()=>{let{disabled:t,onSelectItem:a}=this.props;t||a(e)}),o(this,"handleMouseEnter",e=>()=>{let{disabled:t,indexManager:a}=this.props;t||a.updateIndex(e)}),o(this,"handleMouseLeave",()=>{let{disabled:e,indexManager:t}=this.props;e||t.setInactive()}),o(this,"renderItems",(e,t)=>{let{renderItem:a}=this.props,{selectedIndex:l}=this.state,{row:i,section:s}=l||{},{customProps:o={},items:d,renderItem:c}=e,{isDisabled:u}=o,h=t===s,_=c||a;return _&&d.map((e,a)=>{let l=u?.(e)??!1,s=h&&a===i;return(0,r.jsx)(n.az,{ref:!l&&s?this.setSelectedItemRef:null,"data-test-id":"board-selection",children:l?_({item:e,hovered:s,sectionProps:o}):(0,r.jsx)(n.Rp,{fullWidth:!1,onMouseEnter:this.handleMouseEnter({section:t,row:a}),onMouseLeave:this.handleMouseLeave,onTap:this.handleSelectItem(e),rounding:200,children:_({item:e,hovered:s,sectionProps:o})})},a)})}),o(this,"renderSections",()=>{let{renderSectionHeader:e,sections:t}=this.props;return t.map((t,a)=>(0,r.jsxs)(n.az,{children:[e&&e(t,a),this.renderItems(t,a)]},a))});let{indexManager:t}=this.props;this.state={selectedIndex:t.getIndex(),selectionMovedByKeyboard:!1},t.setUpdateCallback(this.handleIndexUpdate)}componentDidUpdate(e){let{containerRef:t}=this;if(this.selectedItemRef&&this.state.selectionMovedByKeyboard&&t){let e=this.selectedItemRef;if(!(e instanceof HTMLElement))return;let a=e.getBoundingClientRect(),l=a.top,i=a.bottom,n=t.getBoundingClientRect(),s=n.top;i>=n.bottom?e.scrollIntoView(!1):l<=s&&e.scrollIntoView(!0)}e.indexManager!==this.props.indexManager&&this.props.indexManager.setUpdateCallback(this.handleIndexUpdate)}render(){let{grow:e=!1,maxHeight:t,fetchMore:a}=this.props;return(0,r.jsx)(s.A,{fetchMore:a,children:({setRef:a,onScroll:l})=>(0,r.jsx)(n.az,{ref:e=>{this.containerRef=e,a(e)},flex:e?"grow":void 0,height:e?"100%":void 0,maxHeight:t,onScroll:l,overflow:"auto",children:this.renderSections()})})}componentDidMount(){(0,l.A)("SectionList","/app/www/common/SectionList/SectionList.tsx")}}},653235(e,t,a){a.d(t,{A:()=>d});var l=a(97407),i=a(296540),n=a(328138),s=a(474848);let r={__style:{margin:"0 10px",borderRight:"3px solid transparent",borderTop:"3px solid #fff",animation:"spin .8s linear infinite"}};function o(){return(0,s.jsx)(n.az,{alignItems:"center",color:"primary",display:"flex",height:"100%",justifyContent:"center",position:"absolute",rounding:800,width:"100%",children:(0,s.jsx)(n.az,{dangerouslySetInlineStyle:r,"data-test-id":"submit-button-spinner",display:"inlineBlock",height:18,position:"relative",rounding:"circle",width:18})})}function d({disabled:e,form:t,fullWidth:a,name:r,onClick:d,size:c,submitting:u,text:h}){return(0,i.useEffect)(()=>{(0,l.A)("SubmitButton","/app/www/common/SubmitButton/SubmitButton.tsx")},[]),(0,s.jsxs)(n.az,{"data-test-id":"submit-button",display:"flex",position:"relative",children:[u&&(0,s.jsx)(o,{}),(0,s.jsx)(n.$n,{color:"primary",disabled:e||u,form:t,fullWidth:a,name:r,onClick:d,size:c,text:h,type:"submit"})]})}},507099(e,t,a){a.d(t,{A:()=>A});var l,i,n=a(97407),s=a(296540);a(234784);var r=a(328138),o=a(698781),d=a(643357),c=a(327467),u=a(474848);function h(e,t,a){var l;return(t="symbol"==typeof(l=function(e,t){if("object"!=typeof e||!e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var l=a.call(e,t||"default");if("object"!=typeof l)return l;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?l:l+"")in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}let _=["#0074e8","#0FA573","#B469EB","#F13535","#E2780D"],p=(e,t)=>Math.random()*((e||1)-(t||0))+(t||0),g=e=>Math.PI/180*e;class m extends s.PureComponent{constructor(...e){super(...e),h(this,"animationTimer",null),h(this,"canvasRemovalTimer",null),h(this,"containerRef",(0,s.createRef)()),h(this,"buildCanvas",()=>{if(!this.containerRef.current)return null;let{height:e,width:t}=this.containerRef.current.getBoundingClientRect(),a=2.5*e,l=document.createElement("canvas");return l.style.position="absolute",l.style.left=`${0-(a-t)/2}px`,l.style.top=`${0-(a-e)/2}px`,l.style.pointerEvents="none",l.style.width=`${a}px`,l.style.height=`${a}px`,l.style.overflow="visible",l.width=a,l.height=a,l}),h(this,"explode",()=>{let e=this.buildCanvas(),t=this.containerRef.current;if(!e||!t)return;let a=e.getContext("2d");t.prepend(e);let l=Array.from(Array(120)).map(()=>({x:e.width/2,y:e.height/2,radius:Math.round(p(10,30)),color:_[Math.floor(Math.random()*_.length)],degree:Number(p(0,360).toFixed(1)),speed:Math.round(p(0,25)),friction:.9,opacity:Number(p(0,.5).toFixed(1)),yVel:0,gravity:.04})),i=(e,t,a,l)=>{window.requestAnimationFrame(()=>i(e,t,a,l)),t.clearRect(0,0,a,l),e.forEach(e=>{e.x+=e.speed*Math.cos(g(e.degree)),e.y+=e.speed*Math.sin(g(e.degree)),e.opacity-=.01,e.speed*=e.friction,e.radius*=e.friction,e.yVel+=e.gravity,e.y+=e.yVel,e.opacity<0||e.radius<0||(t.beginPath(),t.globalAlpha=e.opacity,t.fillStyle=e.color,t.arc(e.x,e.y,e.radius,0,2*Math.PI,!1),t.fill())})};a&&i(l,a,e.width,e.height),this.canvasRemovalTimer=setTimeout(()=>{t.removeChild(e)},(this.props.delay||0)+800)})}componentDidUpdate(e){let{delay:t,startAnimation:a}=this.props,{startAnimation:l}=e;a&&l!==a&&(this.animationTimer=setTimeout(this.explode,t))}componentWillUnmount(){this.animationTimer&&clearTimeout(this.animationTimer),this.canvasRemovalTimer&&clearTimeout(this.canvasRemovalTimer)}render(){return(0,u.jsx)(r.az,{ref:this.containerRef,position:"relative",children:this.props.children})}}function f(e,t,a){var l;return(t="symbol"==typeof(l=function(e,t){if("object"!=typeof e||!e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var l=a.call(e,t||"default");if("object"!=typeof l)return l;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?l:l+"")in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}h(m,"defaultProps",{delay:0});let b=(void 0!==l||(l=a(141894)).hash&&"c26037c886bf0e64c6b73d7daa56a9b4"!==l.hash&&console.error("The definition of 'BoardCreateSuccess_pin' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),l),y=(void 0!==i||(i=a(854515)).hash&&"f12c153dafdb70970e02775ea0db67c2"!==i.hash&&console.error("The definition of 'BoardCreateSuccess_shuffle_asset' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),i);class v extends s.PureComponent{constructor(...e){super(...e),f(this,"state",{isInitialized:!1}),f(this,"containerRef",(0,s.createRef)()),f(this,"pinDestinationRef",(0,s.createRef)())}componentDidMount(){window.requestAnimationFrame(()=>{this.setState({isInitialized:!0})})}componentWillUnmount(){this.dismissTimeout&&clearTimeout(this.dismissTimeout)}componentDidUpdate(){let{isInitialized:e}=this.state,{onDismiss:t}=this.props;e&&t&&!this.dismissTimeout&&(this.dismissTimeout=setTimeout(t,2600))}render(){let{pin:e,firstRepin:t,pinImageRef:a,selectedBoardName:l,shuffleAsset:i}=this.props,n=i?.cutoutImages??e?.images_236x,o=e?.description??"",d=n?.height??1,h=n?.width??1,_=n?.url??"",{isInitialized:p}=this.state,{mask:g,imageContainer:f}=((e,t,a,l)=>{let i,n,s={},r=a.current?.getBoundingClientRect(),o=t.current?.getBoundingClientRect(),d=l.current?.getBoundingClientRect();if(o&&r&&d){s={left:r.left-o.left,top:r.top-o.top};let e={x:d.left-r.left,y:d.top-r.top},t={x:(d.width-r.width)/2,y:(d.height-r.height)/2};i=`translate(${e.x}px, ${e.y}px)`,n=`translate(${t.x}px, ${t.y}px)`}return{mask:{position:"absolute",left:s.left,top:s.top,width:e?d?.width:r?.width,height:e?d?.height:r?.height,WebkitTransformOrigin:"left top",transformOrigin:"left top",WebkitTransform:e?i:"none",transform:e?i:"none",WebkitTransition:"all .5s ease-in-out .25s",transition:"all .5s ease-in-out .25s",borderRadius:e?"8px 0px 0px 8px":"8px",zIndex:2},imageContainer:{width:r?.width,height:r?.height,WebkitTransformOrigin:"left top",transformOrigin:"left top",WebkitTransform:e?n:"none",transform:e?n:"none",WebkitTransition:"all .5s ease-in-out .25s",transition:"all .5s ease-in-out .25s"}}})(p,this.containerRef,a,this.pinDestinationRef);return(0,u.jsx)(s.Fragment,{children:(0,u.jsxs)(r.az,{ref:this.containerRef,bottom:!0,left:!0,position:"absolute",right:!0,top:!0,children:[(0,u.jsx)(r.az,{dangerouslySetInlineStyle:{__style:g},maxHeight:335,overflow:"hidden",children:(0,u.jsx)(r.az,{dangerouslySetInlineStyle:{__style:f},children:(0,u.jsx)(r._V,{alt:o,naturalHeight:d,naturalWidth:h,src:_})})}),(0,u.jsx)(r.az,{bottom:!0,color:"default",dangerouslySetInlineStyle:{__style:{pointerEvents:"none",opacity:+!!p,WebkitTransition:"opacity .3s ease-in-out",transition:"opacity .3s ease-in-out",zIndex:1}},left:!0,position:"absolute",right:!0,top:!0,children:(0,u.jsxs)(r.az,{alignItems:"center",dangerouslySetInlineStyle:{__style:{opacity:+!!p,WebkitTransition:"opacity .5s ease-in-out .75s",transition:"opacity .5s ease-in-out .75s",overflow:"visible"}},direction:"column",display:"flex",height:"100%",justifyContent:"center",children:[(0,u.jsx)(m,{delay:1250,startAnimation:p,children:(0,u.jsx)(r.n1,{height:180,rounding:200,width:270,children:(0,u.jsxs)(r.so,{alignItems:"stretch",height:"100%",justifyContent:"start",width:"100%",children:[(0,u.jsx)(r.az,{ref:this.pinDestinationRef,color:"transparent",flex:"grow",height:"100%",marginEnd:1}),(0,u.jsxs)(r.so,{alignItems:"stretch",direction:"column",justifyContent:"start",width:80,children:[(0,u.jsx)(r.az,{color:"secondary",flex:"grow",marginBottom:1}),(0,u.jsx)(r.az,{color:"secondary",flex:"grow"})]})]})})}),(0,u.jsx)(r.az,{dangerouslySetInlineStyle:{__style:{opacity:+!!p,WebkitTransform:p?"translateY(0)":"translateY(20%)",transform:p?"translateY(0)":"translateY(20%)",WebkitTransition:"all .5s ease-in-out .75s",transition:"all .5s ease-in-out .75s",textAlign:"center",marginTop:"24px"}},"data-test-id":"board-saved-heading",paddingX:2,children:(0,u.jsx)(r._Y,{align:"center",children:t?(0,c.vQ)(this.props.i18n.bt("Bạn đã lưu Ghim đầu tiên của mình vào {{ selectedBoardName }}!", "You saved your first Pin to {{ selectedBoardName }}!", "First board create confirmation message", undefined, true),{selectedBoardName:l??""}):(0,c.vQ)(this.props.i18n.bt("Bạn đã lưu Ghim này vào {{ selectedBoardName }}!", "You saved this Pin to {{ selectedBoardName }}!", "Board create confirmation message", undefined, true),{selectedBoardName:l??""})})})]})})]})})}}function A({pinKey:e,shuffleAssetKey:t,...a}){(0,s.useEffect)(()=>{(0,n.A)("BoardCreateSuccess","/app/www/nux/BoardCreateSuccess.tsx")},[]);let l=(0,d.A)(),i=(0,o.A)(b,e),r=(0,o.A)(y,t);return(0,u.jsx)(v,{...a,i18n:l,pin:i,shuffleAsset:r})}f(v,"defaultProps",{firstRepin:!1})},809268(e,t,a){a.d(t,{A:()=>h,Y:()=>_});var l=a(278106),i=a(901410),n=a(622165),s=a(534955),r=a(468133),o=a(929301),d=a(809583),c=a(568677),u=a(389145);function h(e){let{resource:t}=_(e);return t}function _(e){let{skipResourceCall:t}=e||{},{checkExperiment:a}=(0,n.A)(),{isAuthenticated:h}=(0,s._8)(),{pathname:_,search:p}=(0,l.zy)(),g=(0,c.qJ)(),m=!h||!g,f=(0,u.u)(),b=(0,i.A)(),y=(0,o.hr)({searchParams:f,sourceUrl:_+p,isDesktop:g,isAuthenticated:h,appliedUnifiedFilters:b}),v=m;m&&(v=!!h&&!a("unify_search_resource_auth_mweb").anyEnabled);let A=t||f.scope===d.cO.USERS&&!m||v;return{resource:(0,r.A)(A?null:y),options:y.options}}},737301(e,t,a){function l(e,t){return{type:"SECTION_ADDED",payload:{boardId:e,section:t}}}function i(e,t){return{type:"SECTION_DELETED",payload:{boardId:e,sectionId:t}}}a.d(t,{I4:()=>l,X2:()=>n,vb:()=>i});let n=(e,t)=>({type:"BOARD_SECTION_EDIT",payload:t})},537617(e,t,a){a.d(t,{A:()=>c});var l=a(684059),i=a(972756),n=a(959463),s=a(737301),r=a(789542),o=a(831282),d=a(197472);function c({boardId:e,sourceBoardId:t="",sourceSectionId:a="",name:c,nameSource:u,pinImport:h,initialPinIds:_=[]},p,g,m){let f=0;"RECOMMENDATION"===u?f=1:"EDITED_RECOMMENDATION"===u&&(f=2);let b={board_id:e,initial_pins:h&&!h.all?h.pinIds:_,name:c,name_source:f,...g?{orbac_subject_id:g}:Object.freeze({})};return c=>l.A.create("BoardSectionResource",b).callCreate({showError:!1}).then(({resource_response:{data:l}})=>{m({event_type:7100,object_id_str:l.id}),c((0,s.I4)(e,l)),c((0,r.ZT)({feedId:e,feedType:d.A.BOARD_SECTIONS,itemIds:[l.id],itemType:"boardsection"})),c((0,n.A)(e,"pin_count")),c((0,i.Q5)("BoardSectionsRepinResource",{board_id:e,orbac_subject_id:g}));let{all:u,pinIds:_}=h||{all:!1,pinIds:[]};return u?new Promise((i,n)=>c((0,o.A)({inverseSelection:!0,selectedPinIds:_,source:{boardId:t||e,sectionId:a||null},target:{boardId:e,sectionId:l.id}},p)).then(()=>i(l)).catch(n)):(_.length>0&&c((0,r.J6)({feedId:e,feedType:d.A.BOARDFEED,itemIds:_,itemType:"pin"})),l)})}},396526(e,t,a){a.d(t,{Cv:()=>k,Im:()=>y,JQ:()=>C,XK:()=>f,ik:()=>b,lt:()=>g,mV:()=>m,s5:()=>v,sw:()=>x,tR:()=>I,y9:()=>A,z$:()=>w,z1:()=>P});var l,i,n,s,r,o,d,c=a(671468),u=a(234784),h=a(684059),_=a(632321),p=a(540398);let g=()=>{let e=(void 0!==l||(l=a(481607)).hash&&"850c5de9834cac0edfdd5652a78bffbf"!==l.hash&&console.error("The definition of 'collab_users_Mutation' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),l),[t]=(0,u.useMutation)(e),{logContextEvent:i}=(0,_.o)();return async(e,a,l)=>{let n={boardId:e,collaboratorIds:a,message:l||""};return await new Promise((a,l)=>{t({variables:{...n},onCompleted:(t,n)=>{n&&l(n[0]),i({event_type:28,object_id_str:e}),a()},onError:e=>l(e)})})}},m=()=>{let e=(void 0!==i||(i=a(865738)).hash&&"de392a939a95d05f7ee889fe77a9e52d"!==i.hash&&console.error("The definition of 'collab_emails_Mutation' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),i),[t]=(0,u.useMutation)(e),{logContextEvent:l}=(0,_.o)();return async(e,a,i)=>{let n={boardId:e,emails:a,message:i||""};return await new Promise((a,i)=>{t({variables:{...n},onCompleted:(t,n)=>{n&&i(n[0]),l({event_type:28,object_id_str:e}),a()},onError:e=>i(e)})})}},f=()=>{let e=(void 0!==n||(n=a(841303)).hash&&"40ae8061007ba5f53a4570e43e4ca864"!==n.hash&&console.error("The definition of 'collab_ApproveInvite_Mutation' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),n),[t]=(0,u.useMutation)(e),{logContextEvent:l}=(0,_.o)();return async(e,a)=>{let i={boardId:e,userId:a};return await new Promise((a,n)=>{t({variables:{...i},onCompleted:(t,i)=>{i&&n(i[0]),l({event_type:32,object_id_str:e}),a(t)},onError:e=>n(e)})})}};function b(e,t){return async a=>{await (0,p.A)({url:`/v3/boards/${e}/collaborators/requests/ownership/`,method:"POST",data:{collaborator:t}}),a({type:"BOARD_OWNERSHIP_TRANSFER_REQUEST",payload:{boardId:e,collaboratorId:t}})}}function y(e,t){return async a=>{await (0,p.A)({url:`/v3/boards/${e}/collaborators/requests/ownership/`,method:"DELETE",data:{collaborator:t}}),a({type:"BOARD_OWNERSHIP_TRANSFER_REQUEST_CANCEL",payload:{boardId:e}})}}let v=(e,t)=>({type:"BOARD_INVITE_ACCEPTED_BY_VIEWER",payload:{boardId:e,collaboratingUser:t}}),A=()=>{let e=(void 0!==s||(s=a(18598)).hash&&"7005ce437a6a6ff33741ab44aa02cf61"!==s.hash&&console.error("The definition of 'collab_AcceptInvite_Mutation' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),s),[t]=(0,u.useMutation)(e),{logContextEvent:l}=(0,_.o)();return async e=>{let a={boardId:e};return await new Promise((i,n)=>{t({variables:{...a},onCompleted:(t,a)=>{a&&n(a[0]),l({event_type:32,object_id_str:e}),i(t)},onError:e=>n(e)})})}},x=(e,t,a)=>async l=>{l(v(e,t)),(await h.A.create("BoardInviteResource",{board_id:e,invited_user_id:t.id}).callUpdate()).resource_response.error||a({event_type:32,object_id_str:e})};function S(e,t){return{type:"BOARD_REQUEST_TO_JOIN",payload:{boardId:e,value:t}}}let P=()=>{let e=(void 0!==r||(r=a(153191)).hash&&"9aa22a7713214239538142ad2c957cc3"!==r.hash&&console.error("The definition of 'collab_RequestToJoin_Mutation' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),r),[t]=(0,u.useMutation)(e),l=(0,c.wA)();return async e=>{let a={boardId:e};return await new Promise((i,n)=>{t({variables:{...a},onCompleted:(t,a)=>{a&&(l(S(e,!1)),n(a[0])),l(S(e,!0)),i(t)},onError:t=>{l(S(e,!1)),n(t)}})})}};function w(e,t){return a=>{(0,p.A)({url:`/v3/boards/${e}/collaborators/invite/${t}/`,method:"DELETE",data:{board:e,user:t}}).catch(()=>{a(S(e,!0))}),a(S(e,!1))}}let C=()=>{let e=(void 0!==o||(o=a(307446)).hash&&"c62e5df78917dd238b70f366f358d487"!==o.hash&&console.error("The definition of 'collab_DeclineOrDeleteBoardCollaboratorInvite_Mutation' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),o),[t]=(0,u.useMutation)(e),{logContextEvent:l}=(0,_.o)();return async(e,a,i)=>{let n={boardId:e,userId:a,ban:i||!1};return await new Promise((a,i)=>{t({variables:{...n},onCompleted:(t,n)=>{n&&i(n[0]),l({event_type:29,object_id_str:e}),a(t)},onError:e=>i(e)})})}},k=()=>{let e=(void 0!==d||(d=a(865118)).hash&&"2c3e1508650962adfff1171e950fa419"!==d.hash&&console.error("The definition of 'collab_RemoveBoardCollaborators_Mutation' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),d),[t]=(0,u.useMutation)(e),{logContextEvent:l}=(0,_.o)();return async(e,a)=>{let i={board:e,collaboratorIds:[a]};return await new Promise((a,n)=>{t({variables:{...i},onCompleted:(t,i)=>{i&&n(i[0]),l({event_type:29,object_id_str:e}),a(t)},onError:e=>n(e)})})}},I=()=>{let e=C(),t=k();return(a,l,i)=>async()=>{let{invited_user:l,status:n,board:{id:s}}=a;l&&("accepted"===n?await t(s,l.id):await e(s,l.id,i))}}},46077(e,t,a){a.d(t,{x:()=>l});let l=(e,t,a)=>({type:"MOST_RECENT_BOARD",payload:{id:e,name:t,url:a}})},171518(e,t,a){a.d(t,{A:()=>g});var l=a(97407),i=a(296540),n=a(609583),s=a(528074),r=a(449798),o=a(622165),d=a(468133),c=a(398304),u=a(755701),h=a(280160),_=a(474848);let p=(0,i.lazy)(()=>Promise.all([a.e("88500"),a.e("44174"),a.e("53209")]).then(a.bind(a,375208)));function g(e){(0,i.useEffect)(()=>{(0,l.A)("EditPinModalLoader","/app/www/save/EditPinModal/EditPinModalLoader.tsx")},[]);let t=(0,c.A)(),a=(0,r.A)(),g=(0,u.H7)(a,t),m=(0,o.A)(),f=m?.checkExperiment("aid_exp_minified_edit_pin_fixes_2025_11").anyEnabled,b=(0,i.useMemo)(()=>f?(0,h.sH)(e.pinId,!0,g):void 0,[f,e.pinId,g]),y=(0,d.A)({name:"PinResource",options:f?b:(0,h.sH)(e.pinId,!0,g)}),v=(0,i.useMemo)(()=>f&&y.data?{type:"Legacy",data:y.data}:void 0,[f,y.data]);return(0,_.jsx)(s.A,{name:"SafeSuspense_EditPinModalLoader_EditPinModal",children:(0,_.jsx)(i.Suspense,{children:y?.data?(0,_.jsx)(n.m,{pinKey:f&&v?v:{type:"Legacy",data:y.data},children:(0,_.jsx)(p,{...e,pin:y.data,pinIsLoaded:y.isLoaded})}):null})})}},888354(e,t,a){a.d(t,{A:()=>s});var l=a(671468),i=a(632321),n=a(845061);let s=({pinId:e,carouselSlotCurrentIndexProp:t,component:a,setShowEditModal:s})=>{let r,{logContextEvent:o}=(0,i.o)(),d=(0,n.A)(),c=(0,l.d4)(({pins:e})=>e),{carousel_data:u}=c&&e&&c[e]||{},{index:h}=u||{};return void 0!==t&&(r=h||t||0),{onClick:({event:e})=>{d?d():(e.stopPropagation(),o({event_type:101,element:3,...a?{component:a}:Object.freeze({})}),s(!0))},carouselSlotCurrentIndex:r}}},280160(e,t,a){function l(e){return!!(e&&e.trim().length)}function i(e,t){let a=l(e),i=l(t);return(a||i)&&e!==t}a.d(t,{$H:()=>i,sH:()=>n});let n=(e,t,a)=>({field_set_key:"detailed",id:e,preserve_component_state:t,...a?{orbac_subject_id:a}:Object.freeze({})})},48668(e,t,a){a.d(t,{A:()=>u,p:()=>c});var l=a(328138),i=a(645519),n=a(643357),s=a(608368),r=a(990493),o=a(875931),d=a(474848);function c(e,t=""){let a=e&&e.length>1?RegExp(e,"i"):"";return e&&e.length>1?t.split(a).reduce((a,l)=>{if(a.length>0&&e&&e.length){let i=t.toLowerCase().indexOf(e.toLowerCase());return a.concat(t.substring(i,i+e.length),l)}return[l]},[]):t}let u=function(e){let t=(0,n.A)(),{disabled:a,item:u,isSection:h,isSelectMode:_,isWithinSectionPicker:p,saveState:g,searchQuery:m,selected:f}=e,b=h?null:u,y=h?u:null,v=y&&y.title||b&&b.name||"",A="",x=!1,S="",P=0;b&&({image_cover_url:A,is_collaborative:x,privacy:S,section_count:P=0}=b);let w=c(m,v),C=S===i.A.BoardPrivacy.SECRET,k=!a&&(f||!!g),I=!p&&"number"==typeof P&&P>0,z="number"==typeof P&&P>0?"boardWithSection":"boardWithoutSection",T=_?t.bt("Chọn", "Select", "Board select button label", undefined, true):t.bt("Lưu", "Save", "Pin save button label", undefined, true);return(0,d.jsxs)(l.az,{alignItems:"center",color:k?"secondary":"default","data-test-id":z,display:"flex",height:64,marginEnd:2,marginStart:2,marginTop:1,padding:2,rounding:300,children:[b&&(0,d.jsx)(l.az,{color:"secondary",flex:"none",height:48,marginEnd:2,overflow:"hidden",rounding:200,width:48,children:A&&(0,d.jsx)(l._V,{alt:t.bt("Hình ảnh bìa bảng", "Board cover image", "boardPickerRow.image.altText", undefined, true),fit:"cover",naturalHeight:1,naturalWidth:1,src:A})}),y&&!!y.preview_pins?.length&&(0,d.jsx)(r.A,{image_url:y.preview_pins[0].image_square_url??"",naturalHeight:y.preview_pins[0].image_square_size_pixels?.height??1,naturalWidth:y.preview_pins[0].image_square_size_pixels?.width??1}),(0,d.jsxs)(l.so,{alignItems:"center",flex:"grow",justifyContent:"between",children:[(0,d.jsx)(l.KJ,{color:a?"subtle":"default",lineClamp:1,size:"300",weight:"bold",children:w}),(I||!k)&&(0,d.jsxs)(l.so,{alignItems:"center",justifyContent:"start",children:[C&&(0,d.jsx)(o.A,{type:"secret"}),x&&(0,d.jsx)(s.A,{board:b,showCollaborativeIcon:x,useLegoLayout:!0}),I&&(0,d.jsx)(o.A,{type:"sections"})]}),!I&&k&&!g&&(0,d.jsx)(l.az,{alignItems:"center",color:"primary","data-test-id":"BoardPickerSaveButton",display:"flex",flex:"none",paddingX:3,paddingY:2,rounding:400,children:(0,d.jsx)(l.KJ,{color:"inverse",overflow:"normal",size:"300",weight:"bold",children:T})}),!I&&k&&"loading"===g&&(0,d.jsx)(l.az,{dangerouslySetInlineStyle:{__style:{transform:"scale(0.7)"}},maxHeight:35,children:(0,d.jsx)(l.y$,{accessibilityLabel:t.bt("Lưu", "Saving", "Accessibility label for saving a pin to a board", undefined, true),show:!0})})]})]})}},328053(e,t,a){a.d(t,{A:()=>h});var l=a(97407),i=a(296540),n=a(328138),s=a(632321),r=a(643357),o=a(468133),d=a(474848);function c(e,t,a){var l;return(t="symbol"==typeof(l=function(e,t){if("object"!=typeof e||!e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var l=a.call(e,t||"default");if("object"!=typeof l)return l;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?l:l+"")in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}class u extends i.Component{constructor(...e){super(...e),c(this,"state",{isHovering:!1}),c(this,"onHover",()=>{this.setState({isHovering:!0})}),c(this,"offHover",()=>{this.setState({isHovering:!1})})}render(){let{name:e,selected:t,image:a,inFlyoutExp:l}=this.props;return l?(0,d.jsxs)(n.az,{alignItems:"center",color:this.state.isHovering?"secondary":"transparent",direction:"row",display:"flex",onMouseOut:this.offHover,onMouseOver:this.onHover,paddingX:4,paddingY:2,children:[(0,d.jsx)(n.az,{children:(0,d.jsx)(n.n1,{height:40,rounding:200,width:40,children:this.state.isHovering&&a&&a.url?(0,d.jsx)(n._V,{alt:"",color:"",fit:"cover",naturalHeight:a.height??1,naturalWidth:a.width??1,src:a.url}):(0,d.jsx)(n.az,{color:"secondary",height:40,width:40})})}),(0,d.jsx)(n.az,{padding:2,children:(0,d.jsx)(n._Y,{size:"400",children:e})})]}):(0,d.jsxs)(n.az,{alignItems:"center",color:t?"secondary":"transparent",direction:"row",display:"flex",paddingX:6,paddingY:2,children:[(0,d.jsx)(n.az,{children:(0,d.jsx)(n.In,{accessibilityLabel:"",color:t?"default":"subtle",icon:"plus"})}),(0,d.jsx)(n.az,{marginStart:3,children:(0,d.jsx)(n.KJ,{color:t?"default":"subtle",weight:"bold",children:e})})]})}componentDidMount(){(0,l.A)("BoardSuggestionListRow","/app/www/save/pin-to-board/BoardSuggestionList/BoardSuggestionListRow.tsx")}}let h=({inFlyoutExp:e,inFirstBoardCreateGestaltExp:t,pinId:a,image:c,minHeight:h,onBoardSelected:_})=>{(0,i.useEffect)(()=>{(0,l.A)("BoardSuggestionList","/app/www/save/pin-to-board/BoardSuggestionList/BoardSuggestionList.tsx")},[]);let{logContextEvent:p}=(0,s.o)(),g=(0,r.A)(),[m,f]=(0,i.useState)(-1),{data:b=[],isLoaded:y}=(0,o.A)({name:"ApiResource",options:{url:`/v3/pins/${String(a)}/board_title_suggestions/`,pin_id:a}}),v=(0,i.useMemo)(()=>b&&b.length?b.map(e=>e.title):[],[b]),A=()=>{f(-1)},x=(t,a)=>{let l=m===a;return(0,d.jsx)("li",{children:(0,d.jsx)(n.Rp,{onMouseEnter:()=>{f(a)},onMouseLeave:A,onTap:()=>{_(v[a],!1),p({event_type:101,component:13025,element:23})},children:(0,d.jsx)(u,{image:c,inFlyoutExp:e,name:t,selected:l})})},a)};return y?v&&v.length?e?(0,d.jsx)(n.az,{children:(0,d.jsx)("ul",{children:v.map(x)})}):t?(0,d.jsxs)(n.az,{children:[(0,d.jsx)(n.az,{marginBottom:3,marginStart:6,marginTop:5,children:(0,d.jsx)(n.KJ,{children:g.bt("Tên bảng được đề xuất", "Suggested board names", "text above suggested board names list", undefined, true)})}),(0,d.jsx)("ul",{children:v.map(x)})]}):(0,d.jsxs)(n.az,{children:[(0,d.jsx)(n.az,{marginTop:2,paddingX:5,children:(0,d.jsx)(n.KJ,{children:g.bt("Tên bảng được đề xuất", "Suggested board names", " - ", undefined, true)})}),(0,d.jsx)("ul",{children:v.map(x)})]}):null:(0,d.jsx)(n.so,{alignItems:"center",height:"100%",justifyContent:"center",minHeight:h||"",children:(0,d.jsx)(n.y$,{accessibilityLabel:g.bt("Đang tải các gợi ý bảng", "Loading board suggestions", "Accesibility label for loading board suggestions", undefined, true),show:!0})})}},411616(e,t,a){a.d(t,{A:()=>d});var l=a(97407),i=a(296540),n=a(328138),s=a(643357),r=a(531411),o=a(474848);function d(e){(0,i.useEffect)(()=>{(0,l.A)("CreateBoardButton","/app/www/save/pin-to-board/CreateBoardButton/CreateBoardButton.tsx")},[]);let t=(0,s.A)(),{buttonLabel:a,hasHoverState:d,name:c,onClick:u}=e,{isHovering:h,hoverHandlers:_}=(0,r.A)(),p=c||a||t.bt("Tạo bảng", "Create board", " - ", undefined, true);return(0,o.jsx)(n.Rp,{onMouseEnter:_.onMouseOver,onMouseLeave:_.onMouseLeave,onTap:u,children:(0,o.jsxs)(n.az,{alignItems:"center",color:d&&h?"secondary":"default",display:"flex",height:"100%",padding:4,width:"100%",children:[(0,o.jsx)(n.az,{color:"secondary",dangerouslySetInlineStyle:{__style:{padding:"14px"}},marginEnd:2,rounding:200,children:(0,o.jsx)(n.In,{accessibilityLabel:"",color:"default",icon:"plus",size:20})}),c?(0,o.jsx)(n.az,{margin:1,children:(0,o.jsxs)(n.KJ,{inline:!0,overflow:"normal",children:[" ",t.bt("Tạo: ", "Create: ", " - ", undefined, true)," "]})}):null,(0,o.jsxs)(n.KJ,{align:"center",inline:!0,lineClamp:1,weight:"bold",children:[" ",p," "]})]})})}},882200(e,t,a){a.d(t,{A:()=>b});var l=a(97407),i=a(296540),n=a(671468),s=a(328138),r=a(275552),o=a(449798),d=a(643357),c=a(75125),u=a(398304),h=a(755701),_=a(653235),p=a(537617),g=a(474848);function m(e,t,a){var l;return(t="symbol"==typeof(l=function(e,t){if("object"!=typeof e||!e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var l=a.call(e,t||"default");if("object"!=typeof l)return l;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?l:l+"")in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}class f extends i.Component{constructor(e){super(e),m(this,"onCreateSection",()=>{let{board:e,sourceBoard:t,sourceSection:a,dispatch:l,completeCreateSectionAction:i,pinImport:n,viewer:s,orbacActingAs:r,logContextEvent:o}=this.props,d=(0,h.H7)(s,r);return this.setState({isSaving:!0}),l((0,p.A)({boardId:e.id,sourceBoardId:t&&t.id,sourceSectionId:a&&a.id,name:this.state.inputName.trim(),pinImport:n},this.props.i18n,d,o)).then(e=>{this.setState({isSaving:!1}),i(e)}).catch(e=>{this.setState({createError:e.message_detail||e.message,isSaving:!1})})}),m(this,"handleKeyDown",({event:e})=>{let{createError:t,inputName:a}=this.state;[c.A.ENTER,c.A.NUMPAD_ENTER].includes(e.which)&&!t&&a.trim()&&this.onCreateSection()}),m(this,"handleChangeName",({value:e})=>{this.setState({createError:null,inputName:e})}),m(this,"handleInputRef",e=>{this.setState({inputRef:e})}),this.state={createError:null,inputName:e.initialName||"",inputRef:null,isSaving:!1}}componentDidUpdate(e,t){let{createError:a,inputRef:l}=this.state;l&&(!t.inputRef||a)&&l.focus()}render(){let{showTitle:e,positionRelative:t}=this.props,{createError:a,inputName:l,isSaving:i}=this.state,n=!!l.trim()&&!a;return(0,g.jsxs)(s.az,{bottom:!0,color:"default",dangerouslySetInlineStyle:{__style:{borderLeft:"1px solid #f5f5f5"}},direction:"column",display:"flex",flex:"grow",position:t?"relative":"absolute",right:!0,rounding:200,top:!0,width:"100%",children:[e&&(0,g.jsx)(s.az,{marginTop:3,paddingX:6,paddingY:3,children:(0,g.jsx)(s._Y,{size:"400",children:this.props.i18n.bt("Thêm phần bảng", "Add section", "Title in the add section modal", undefined, true)})}),(0,g.jsxs)(s.az,{padding:4,children:[(0,g.jsx)(s.az,{marginBottom:2,children:(0,g.jsx)(s.JU,{htmlFor:"sectionEditName",children:(0,g.jsx)(s.KJ,{color:a?"error":"subtle",size:"200",children:this.props.i18n.bt("Tên", "Name", "Board section name", undefined, true)})})}),(0,g.jsx)(s.az,{children:(0,g.jsx)(s.az,{ref:this.handleInputRef,children:(0,g.jsx)(s.A_,{errorMessage:a||"",id:"sectionEditName",name:"sectionName",onChange:this.handleChangeName,onKeyDown:this.handleKeyDown,placeholder:this.props.i18n.bt("Như \"Ánh sáng\"", "Like \"Lighting\"", "Placeholder for board section name", undefined, true),size:"lg",type:"text",value:l})})})]}),(0,g.jsx)(s.so,{alignItems:"stretch",flex:"grow",justifyContent:"start"}),(0,g.jsx)(s.az,{padding:4,children:(0,g.jsx)(s.so,{alignItems:"stretch",justifyContent:"end",children:(0,g.jsx)(_.A,{disabled:!n||i,onClick:this.onCreateSection,submitting:i,text:this.props.i18n.bt("Thêm", "Add", "add a new section", undefined, true)})})})]})}componentDidMount(){(0,l.A)("CreateSectionPane","/app/www/save/pin-to-board/CreateSectionPane/CreateSectionPane.tsx")}}let b=function(e){let t=(0,n.wA)(),a=(0,d.A)(),l=(0,o.A)(),i=(0,u.A)();return(0,g.jsx)(f,{...e,dispatch:t,i18n:a,logContextEvent:(0,r.A)(),orbacActingAs:i,viewer:l})}},802600(e,t,a){a.d(t,{A:()=>o});var l=a(97407),i=a(296540),n=a(328138),s=a(104456),r=a(474848);function o({url:e,description:t,color:a}){return(0,i.useEffect)(()=>{(0,l.A)("ImagelessPinImage","/app/www/save/pin-to-board/ImagelessPinImage/ImagelessPinImage.tsx")},[]),a=a||"#8fa7bf",(0,r.jsx)(n.az,{dangerouslySetInlineStyle:{__style:{background:a}},height:216,rounding:200,width:"100%",children:(0,r.jsxs)(n.az,{maxHeight:200,overflow:"hidden",padding:4,children:[e&&(0,r.jsx)(n.az,{marginBottom:2,children:(0,r.jsx)(n.KJ,{color:"inverse",size:"100",children:(0,s.A)(e).hostname||e})}),(0,r.jsx)(n.az,{maxHeight:144,children:(0,r.jsx)(n.KJ,{color:"inverse",overflow:"normal",weight:"bold",children:t})})]})})}},557506(e,t,a){a.d(t,{A:()=>g});var l=a(97407),i=a(296540),n=a(328138),s=a(901856),r=a(643357),o=a(769228),d=a(327467),c=a(75125),u=a(719561),h=a(474848);function _(e,t,a){var l;return(t="symbol"==typeof(l=function(e,t){if("object"!=typeof e||!e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var l=a.call(e,t||"default");if("object"!=typeof l)return l;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?l:l+"")in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}class p extends i.Component{constructor(...e){super(...e),_(this,"state",{recommendations:[],selectedIndex:0,resourceLoaded:!1}),_(this,"onDismiss",()=>{}),_(this,"mounted",!1),_(this,"addHashtag",e=>{this.props.addHashtag(e),this.setState({recommendations:[]})}),_(this,"handleKeyDown",e=>{e.keyCode===c.A.UP?this.handlePrevHashtag(e):e.keyCode===c.A.DOWN?this.handleNextHashtag(e):e.keyCode===c.A.ESCAPE?this.handleClose(e):e.keyCode===c.A.ENTER&&this.handleSubmit(e)}),_(this,"handlePrevHashtag",e=>{e.preventDefault(),this.state.selectedIndex>0&&this.setState(e=>({selectedIndex:e.selectedIndex-1}))}),_(this,"handleNextHashtag",e=>{e.preventDefault(),this.state.selectedIndex<this.state.recommendations.length-1&&this.setState(e=>({selectedIndex:e.selectedIndex+1}))}),_(this,"handleClose",e=>{e.preventDefault(),this.setState({recommendations:[]})}),_(this,"handleSubmit",e=>{e.preventDefault(),this.addHashtag(this.state.recommendations[this.state.selectedIndex].query)}),_(this,"callResource",e=>{let{makeCancelablePromise:t}=this.props;t((0,s.A)({url:"/v3/search/autocomplete/",data:{q:e,show_pin_count:!0}}),"typeahead").then(e=>{if(!this.mounted)return;let{data:t}=e.resource_response;this.setState({recommendations:t.slice(0,5),resourceLoaded:!0})}).catch(({isCanceled:e})=>{e||this.setState({resourceLoaded:!1})})})}componentDidMount(){this.mounted=!0,this.callResource(this.props.query),window.addEventListener("keydown",this.handleKeyDown)}componentDidUpdate(e){this.props.query!==e.query&&""!==this.props.query&&this.callResource(this.props.query)}componentWillUnmount(){window.removeEventListener("keydown",this.handleKeyDown),this.mounted=!1}render(){let{recommendations:e,resourceLoaded:t,selectedIndex:a}=this.state,{anchor:l,idealDirection:i}=this.props,s=e.filter(e=>e.query),r="flyout_"+s.length;return t&&s.length>0?(0,h.jsx)(n.AM,{anchor:l,idealDirection:i||"down",onDismiss:this.onDismiss,size:"sm",children:(0,h.jsx)(n.az,{width:"100%",zIndex:new n.rk(3),children:s.length>0?s.map((e,t)=>(0,h.jsx)(n.Rp,{fullWidth:!1,onTap:()=>this.addHashtag(e.query),children:(0,h.jsxs)(n.az,{alignItems:"center",color:t===a?"secondary":"transparent",display:"flex",justifyContent:"between",padding:1,children:[(0,h.jsx)(n.az,{flex:"grow",children:(0,h.jsx)(n.KJ,{inline:!0,size:"200",weight:"bold",children:e.query})}),(0,h.jsx)(n.az,{flex:"none",children:(0,h.jsx)(n.KJ,{inline:!0,size:"100",children:(0,d.vQ)(this.props.i18n.nbt(["{{ count }} ghim"], Number(e.pin_count), "label for n pins in hashtag flyout", true),{count:(0,h.jsx)(o.A,{value:Number(e.pin_count)},"pinCount")})})})]})},e.query)):null})},r):null}}function g(e){(0,i.useEffect)(()=>{(0,l.A)("HashtagFlyout","/app/www/save/pin-to-board/PinPane/HashtagFlyout.tsx")},[]);let t=(0,r.A)(),a=(0,u.A)();return(0,h.jsx)(p,{...e,i18n:t,makeCancelablePromise:a})}},915645(e,t,a){a.d(t,{A:()=>z});var l,i,n,s,r,o=a(97407),d=a(296540);a(234784);var c=a(328138),u=a(632321),h=a(698781),_=a(802600),p=a(391972),g=a(422193),m=a(643357),f=a(327467),b=a(468133),y=a(474848);let v=(void 0!==l||(l=a(309419)).hash&&"3caf9424c2af74d2b11a6ea682b57d1b"!==l.hash&&console.error("The definition of 'AlreadyPinnedCheck_pin' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),l),A=(void 0!==i||(i=a(761869)).hash&&"6bb1a587f71f85424aa51845831862d4"!==i.hash&&console.error("The definition of 'AlreadyPinnedCheckQuery_pin' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),i),x=(void 0!==n||(n=a(525133)).hash&&"0b5f077c08e31de36594b6918e128d12"!==n.hash&&console.error("The definition of 'AlreadyPinnedCheckQuery' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),n);function S({pinKey:e}){(0,d.useEffect)(()=>{(0,o.A)("AlreadyPinnedCheck","/app/www/save/pin-to-board/PinPane/AlreadyPinnedCheck.tsx")},[]);let t=(0,m.A)(),a=(0,h.A)(v,e),l="GraphQL"===(0,p.z)(e),i=(0,g.A)({strategy:l?"GraphQL":"Legacy",query:x,variables:{pinId:a.entityId},options:{fetchPolicy:"network-only"},useGetLegacyResource:({pinId:e})=>(0,b.A)({name:"ApiResource",options:{url:`/v3/pins/${e}/`,field_sets:["pin.board()","pin.id","pin.pinned_to_board()","pin.type","pin.via_pinner()"]},noCache:!0})}),n=i?.v3GetPinQuery?.__typename==="V3GetPin"?i.v3GetPinQuery.data:null,s=(0,h.A)(A,n);return s&&s.pinnedToBoard&&"quick_creates"!==s.pinnedToBoard.layout?(0,y.jsxs)(c.az,{children:[(0,y.jsx)(c.az,{color:"error","data-test-id":"already-pinned",display:"flex",padding:3,rounding:200,width:185,children:(0,y.jsx)(c.KJ,{align:"center",color:"inverse",size:"200",weight:"bold",children:(0,f.vQ)(t.bt("Khoan đã! Bạn đã lưu Ghim này vào {{ board_name }} rồi ", "Psst! You already saved this Pin to {{ board_name }} ", "Toast for already having repinned pin", undefined, true),{board_name:(s.pinnedToBoard||{}).name}).join(" ")})}),(0,y.jsx)(c.az,{display:"flex",justifyContent:"center",marginTop:-3,children:(0,y.jsx)(c.In,{accessibilityLabel:"",color:"error",icon:"heart-fill",size:26})})]}):null}var P=a(557506);function w(e,t,a){var l;return(t="symbol"==typeof(l=function(e,t){if("object"!=typeof e||!e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var l=a.call(e,t||"default");if("object"!=typeof l)return l;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?l:l+"")in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}let C=(void 0!==s||(s=a(898798)).hash&&"ee852d86e422f64afda32d5c5ed05eeb"!==s.hash&&console.error("The definition of 'PinPane_pin' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),s),k=(void 0!==r||(r=a(392971)).hash&&"1a4583782792fbfe92015cb2dbe50f70"!==r.hash&&console.error("The definition of 'PinPane_shuffle_asset' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),r);class I extends d.Component{constructor(...e){super(...e),w(this,"state",{flyoutCursorIndex:-1,description:this.props.pin?.description&&this.props.pin.description.trim()||"",editing:!1,hashtagQuery:"",isHashtagFlyoutOpen:!1,flyoutOpened:!1}),w(this,"updateDescription",e=>{this.props.updateDescription&&this.props.updateDescription(e)}),w(this,"handleHashtagAddition",e=>{let{pin:t}=this.props;this.props.logContextEvent({event_type:101,component:208,element:10249,object_id_str:t?.entityId,aux_data:{hashtags:e}});let a=this.state.flyoutCursorIndex,l=Number(a+this.state.hashtagQuery.length),i=this.state.description.slice(0,a)+e+" "+this.state.description.slice(l);this.updateDescription(i),this.setState({description:i,editing:!0,hashtagQuery:"",isHashtagFlyoutOpen:!1})})}render(){let{color:e,isFirstPin:t,pin:a,pinImageRef:l,shuffleAsset:i}=this.props,{editing:n,flyoutOpened:s,hashtagQuery:r,isHashtagFlyoutOpen:o}=this.state,d=i?.cutoutImages??a?.images_236x,u=d?.url||a?.imageBase64||this.props.urlPinInfo?.imageUrl,h=this.state.description||this.props.urlPinInfo?.description||"",p=a?.link||this.props.urlPinInfo?.link;return(0,y.jsxs)(c.az,{alignItems:"center",dangerouslySetInlineStyle:{__style:s&&n?{transform:"translateY(-75px)"}:{}},display:"flex",justifyContent:"center",position:"relative",width:t?"50%":"",children:[(0,y.jsxs)(c.so,{alignItems:"center",direction:"column",justifyContent:"start",children:[a?.entityId&&!i&&(0,y.jsx)(S,{pinKey:a}),(0,y.jsx)(c.az,{paddingY:9*!!t,width:240,children:(0,y.jsx)(c.az,{ref:l,maxHeight:s&&n?220:335,overflow:"hidden",rounding:400,children:u?(0,y.jsx)(c._V,{alt:h,naturalHeight:d?.height||1,naturalWidth:d?.width||1,src:u}):!!p&&(0,y.jsx)(_.A,{color:e||"",description:h,url:p})})})]}),this.anchor&&o?(0,y.jsx)(P.A,{addHashtag:this.handleHashtagAddition,anchor:this.anchor,query:r}):null]})}}function z({pinKey:e,shuffleAssetKey:t,...a}){(0,d.useEffect)(()=>{(0,o.A)("PinPane","/app/www/save/pin-to-board/PinPane/PinPane.tsx")},[]);let{logContextEvent:l}=(0,u.o)(),i=(0,h.A)(C,e),n=(0,h.A)(k,t);return(0,y.jsx)(I,{...a,logContextEvent:l,pin:i,shuffleAsset:n})}},62923(e,t,a){a.d(t,{a:()=>N});var l,i,n=a(97407),s=a(296540),r=a(671468);a(234784);var o=a(278106),d=a(684059),c=a(632321),u=a(555491),h=a(696561),_=a(72201),p=a(55268),g=a(449798),m=a(698781),f=a(652965),b=a(643357),y=a(581818),v=a(211974),A=a(219843),x=a(367863),S=a(703613),P=a(580072),w=a(582301),C=a(209922),k=a(584733),I=a(375114),z=a(328138),T=a(327467),j=a(67977),E=a(474848),B=a(109968);function R(e,t,a){var l;return(t="symbol"==typeof(l=function(e,t){if("object"!=typeof e||!e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var l=a.call(e,t||"default");if("object"!=typeof l)return l;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?l:l+"")in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}let F=/#[^(\-\\.\s#,\/$%\^&\*;:{}=\`~()\[\]@|<>…)]+/gi,D=(void 0!==l||(l=a(935850)).hash&&"64132b88edd48497e63c9ad85ae5ab66"!==l.hash&&console.error("The definition of 'PinSaveRequest_pin' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),l),K=(void 0!==i||(i=a(583215)).hash&&"58c24e25a76e7a1c4533f3b07f490517"!==i.hash&&console.error("The definition of 'PinSaveRequest_shuffle_asset' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),i);class L extends s.Component{constructor(...e){super(...e),R(this,"state",{boardSavedTo:null,displaySuccessAnimation:!1,newPin:null,modalTitle:this.getModalTitle(this.props.showCreate,!!this.props.boardWithSection),pinDescription:this.props.pin&&this.props.pin.description||this.props.urlPinInfo?.description||"",resolve:void 0,sharing:{facebook:!1,twitter:!1}}),R(this,"unmounted",!1),R(this,"setModalTitle",e=>this.safeSetState({modalTitle:e})),R(this,"updateDescription",e=>{this.safeSetState({pinDescription:e})}),R(this,"close",()=>{let{onClose:e}=this.props;e&&e(),this.props.logContextEvent({event_type:2502,component:5,element:610})}),R(this,"safeSetState",(e,t)=>{this.unmounted?t&&t():this.setState(e,t)}),R(this,"getPinResource",(e,t,a)=>{let{color:l,clientTrackingParams:i,pin:n,method:s,guid:r,additionalCreateFields:o,advertiser_id:c,urlPinInfo:u,shuffleAsset:h}=this.props,_=n?.entityId?"RepinResource":"PinResource",p=n?.imageUrl||u?.imageUrl,g=n?.link||u?.link,m=!n?.entityId&&p?(0,A.A)(p,g):n?.images_orig?.url||"",f={...o,board_id:t||"",color:l||"",clientTrackingParams:(0,P.A)(i,n?.trackingParams),description:this.state.pinDescription,guid:r||"",link:g,image_base64:n?.imageBase64??void 0,image_url:m,is_buyable_pin:!1,is_removable:n?.promotedIsRemovable??void 0,media_upload_id:n?.mediaUploadId??void 0,method:s||"",pin_id:n?.entityId||"",section:a,title:n?.title||"",...c?{advertiser_id:c}:Object.freeze({}),...h?{shuffle_asset:h.entityId}:{}};if(!e){let{facebook:e,twitter:t}=this.state.sharing;f.share_facebook=e,f.share_twitter=t}return d.A.create(_,f)}),R(this,"triggerPubSubs",e=>{this.props.onPinCreate&&this.props.onPinCreate({boardId:e.board.id,pinId:e.id})}),R(this,"makeCancelablePromise",e=>{let t=!1;return{promise:new Promise((a,l)=>{e.then(e=>t?l({isCanceled:!0}):a(e)),e.catch(e=>t?l({isCanceled:!0}):l(e))}),cancel(){t=!0}}}),R(this,"handleLogToastClick",()=>{this.props.logContextEvent({event_type:101,component:20,view_type:52})}),R(this,"showBoardSavedToast",(e,t)=>{let{toastManagerContext:a,i18n:l}=this.props;a.showToast(({hideToast:a})=>{var i;return(0,E.jsx)(p.A,{duration:B.e,href:t?`${e.url??""}${t.slug??""}`:e.url,imageUrl:e.image_cover_url??"",onClick:this.handleLogToastClick,onHide:a,text:(i=e.name,t?(0,j.A)(l.bt("Đã lưu vào {{sectionName}} ở {{boardName}}", "Saved to {{sectionName}} in {{boardName}}", "Toast for successfully saving to a section within a board", undefined, true),{sectionName:t.title??"",boardName:i??""}):(0,E.jsx)(z.KJ,{children:(0,T.$w)({text:l.bt("Đã lưu vào <strong id=\"1\">{{ boardName }}</strong>", "Saved to <strong id=\"1\">{{ boardName }}</strong>", "PinToBoard.Lib.SavedToBoardToast.Message", undefined, true),markers:{boardName:i??""},jsxReplacements:{1:({innerHtmlStrings:e})=>(0,E.jsx)(z.KJ,{weight:"bold",children:e})}})}))})})}),R(this,"dismissModal",()=>{let{resolve:e,newPin:t}=this.state;e&&e(t)}),R(this,"handleBoardSaveSuccess",(e,t,a,l)=>{let{action:i,saveToBoard:n,dispatch:s,pin:r,setCompletionPromise:o,shouldShowToast:d,showRepinAnimation:c,viewerUserId:u,urlPinInfo:h}=this.props;s((0,_.$O)());let p=e.resource_response.data,g=this.makeCancelablePromise(new Promise(e=>{this.triggerPubSubs(p);let i=this.state.pinDescription.match(F)||[];i.length>0&&this.props.logContextEvent({event_type:2,element:10273,object_id_str:this.props.pin?.entityId,aux_data:{hashtags:JSON.stringify(i)}});let n=()=>{d&&this.showBoardSavedToast(t,a),this.safeSetState({displaySuccessAnimation:!0,modalTitle:this.props.i18n.bt("Đã tạo bảng", "Board created", "Modal title after creating a new board", undefined, true),newPin:p,resolve:e})};l?n():e(p)}));!l&&r?.entityId&&c(r.entityId),o(g),n(t),s((0,C.zY)({boardId:t.id,sectionId:a&&a.id,increment:1})),u&&(s((0,I.LR)({userId:u,increment:1})),s((0,_.$O)())),(a||!t.image_cover_url)&&(t.image_cover_url=r?.imageUrl||h?.imageUrl||r?.images_236x?.url||"",s((0,C.NQ)(t))),a&&s((0,y.J)("BoardSectionResource",{options:{field_set_key:"board_page",section_id:a.id}})),r?.entityId&&s((0,k.J4)({id:r.entityId,nodeId:r.__id,boardId:t.id,title:t.name??"",url:t.url??"",localPinId:p.id}))}),R(this,"handleSaveToBoard",(e,t,a)=>{let{onToggleModal:l,shouldShowToast:i,mountAfterActionPlacement:n}=this.props;i&&!a&&(this.close(),this.showBoardSavedToast(e,t));let s="secret"===(e.privacy||""),r={board:t?t.id:e.id,state:B.J.LOADING};this.safeSetState({boardSavedTo:r},()=>{this.getPinResource(s,e.id,(t||{}).id).callCreate({showError:!1}).then(i=>{n("Save",{pin_id:this.props.pin?.entityId,is_promoted:this.props.pin?.isPromoted}),this.safeSetState({boardSavedTo:Object.assign(r,{state:B.J.SUCCESS})},()=>this.handleBoardSaveSuccess(i,e,t,a)),l&&!a&&l(!1)}).catch(e=>{this.unmounted||this.safeSetState({boardSavedTo:null}),u.A.showError(e.message_detail||e.message);let t=this.makeCancelablePromise(Promise.reject(e));this.props.setCompletionPromise(t),l&&l(!1)})})}),R(this,"handleNewBoardAnimationCompletion",()=>{let{pin:e,showRepinAnimation:t}=this.props;e?.entityId&&t(e.entityId)})}getModalTitle(e,t){if(e)if(t)return this.props.i18n.bt("Tạo phần bảng", "Create section", "modal title for create section pane", undefined, true);else return this.props.i18n.bt("Tạo bảng", "Create board", "Repin title for making a new board", undefined, true);return t?this.props.i18n.bt("Chọn phần bảng", "Choose section", "modal title for choose section", undefined, true):this.props.i18n.bt("Chọn bảng", "Choose board", "Repin title for choosing a board", undefined, true)}componentDidUpdate(e){let{boardWithSection:t,showCreate:a,pin:l,urlPinInfo:i,description:n}=this.props,s={};(l!==e.pin||i!==e.urlPinInfo||n!==e.description)&&(s.pinDescription=l?.description||i?.description||n||""),(a!==e.showCreate||t!==e.boardWithSection)&&(s.modalTitle=this.getModalTitle(a,!!t)),Object.keys(s).length>0&&this.safeSetState(s)}componentWillUnmount(){this.unmounted=!0}render(){let{close:e,dismissModal:t,handleNewBoardAnimationCompletion:a,handleSaveToBoard:l,setModalTitle:i,updateDescription:n}=this,{boardSavedTo:s,displaySuccessAnimation:r,modalTitle:o,newPin:d}=this.state,{color:c}=this.props;return this.props.children({boardSavedTo:s,color:c,dismissModal:t,displaySuccessAnimation:r,handleAbort:e,handleNewBoardAnimationCompletion:a,handleSaveToBoard:l,modalTitle:o,newPin:d,setModalTitle:i,updateDescription:n})}componentDidMount(){(0,n.A)("PinSaveRequest","/app/www/save/pin-to-board/PinSaveRequest.tsx")}}function N({pinKey:e,shuffleAssetKey:t,...a}){(0,s.useEffect)(()=>{(0,n.A)("PinSaveRequest","/app/www/save/pin-to-board/PinSaveRequest.tsx")},[]);let{saveToBoard:l}=(0,S.p)(),{logContextEvent:i}=(0,c.o)(),d=(0,w.y)()?.onPinCreate,u=(0,b.A)(),_=(0,o.zy)(),p=(0,g.A)(),y=(0,v.CG)(),A=(0,r.wA)(),{updateHeaderState:P}=(0,x.A)(),C=(0,r.d4)(({advertiser:e})=>p.isAuth&&e&&e.owner_user_id!==p.id?e.id:void 0),{previous:k}=(0,f.qD)(),I=(0,h.Ts)(),z=(0,m.A)(D,e),T=(0,m.A)(K,t);return(0,E.jsx)(L,{...a,advertiser_id:C,dispatch:A,i18n:u,location:_,logContextEvent:i,mountAfterActionPlacement:I,onPinCreate:d,pin:z,previousHistory:k,saveToBoard:l,showRepinAnimation:e=>P({type:"showRepinAnimation",payload:e}),shuffleAsset:T,toastManagerContext:y,viewerUserId:p.isAuth?p.id:void 0})}},205933(e,t,a){let l;a.d(t,{A:()=>es});var i,n,s,r,o=a(296540);a(234784);var d=a(328138),c=a(199190),u=a(449798),h=a(698781),_=a(643357),p=a(2787),g=a(507099),m=a(97407),f=a(671468),b=a(275552),y=a(534955),v=a(537617),A=a(474848);let x=({board:e,completeCreateSectionAction:t,height:a,onClose:l,pinImport:i,url:n,width:s})=>{(0,o.useEffect)(()=>{(0,m.A)("SectionCreateModal","/app/www/save/board/BoardPage/ModalContents/SectionCreateModal.tsx")},[]);let r=(0,_.A)(),{isRTL:u}=(0,y._8)(),h=(0,b.A)(),p=(0,f.wA)(),[g,x]=(0,o.useState)(""),[S,P]=(0,o.useState)(!1),[w,C]=(0,o.useState)(null);return(0,A.jsx)(c.Ay,{accessibilityModalLabel:r.bt("Phương thức Ghim lại", "Repin modal", "save.pinToBoard.modal.label", undefined, true),footer:(0,A.jsx)(d.so,{children:(0,A.jsx)(d.az,{marginStart:"auto",children:(0,A.jsx)(d.$n,{color:"primary",dataTestId:"create-section-add-button",disabled:S||!g.trim()||!!w,fullWidth:!0,onClick:()=>{e&&(P(!0),p((0,v.A)({boardId:e.id,name:g.trim(),pinImport:i},r,void 0,h)).then(a=>{t(e,a,!1)}).catch(e=>{C(e.message_detail||e.message)}).finally(()=>{P(!1)}))},size:"lg",text:r.bt("Thêm", "Add", "sectionCreateModal.add.button", undefined, true)})})}),heading:(0,A.jsx)(d.az,{paddingY:8,children:(0,A.jsxs)(d.so,{justifyContent:"center",children:[(0,A.jsx)(d.az,{maxWidth:400,children:(0,A.jsx)(d._Y,{align:"center",size:"600",children:r.bt("Thêm phần bảng", "Add section", "sectionCreateModal.title", undefined, true)})}),(0,A.jsx)(d.az,{left:u,padding:8,position:"absolute",right:!u,top:!0,children:(0,A.jsx)(d.K0,{accessibilityLabel:r.bt("Đóng", "Close", "sectionCreateModal.closeButton", undefined, true),icon:"close",iconColor:"default",onClick:l,size:"md"})})]})}),onDismiss:l,size:"sm",children:(0,A.jsx)(d.az,{padding:8,children:(0,A.jsxs)(d.so,{children:[(0,A.jsx)(d.n1,{height:a,rounding:400,width:s,children:n&&(0,A.jsx)(d._V,{alt:"",fit:"cover",naturalHeight:a??1,naturalWidth:s??1,src:n})}),(0,A.jsx)(d.az,{dangerouslySetInlineStyle:{__style:{width:s?`calc(100% - ${s}px)`:"100%"}},marginStart:8,children:(0,A.jsx)(d.A_,{dataTestId:"create-section-name-input-field",errorMessage:w,id:"sectionEditName",label:r.bt("Tên", "Name", "section.create.label", undefined, true),onChange:e=>{x(e.value),C(null)},placeholder:r.bt("Như \"Ánh sáng\"", "Like \"Lighting\"", "sectionCreateModal.boardSection.name", undefined, true),size:"lg",type:"text",value:g})})]})})})};var S=a(632321),P=a(972756),w=a(468133),C=a(553041),k=a(568677);function I(e,t,a,i){return{...e?{pin_id:e}:Object.freeze({}),...t?{username:t}:Object.freeze({}),...a?{advertiser_id:a,filter:"protected"}:Object.freeze({}),field_set_key:"board_picker",limit:l,shortlist_suggestions:2,isDesktop:i}}var z=a(906481),T=a(227651);let j=(void 0!==i||(i=a(641153)).hash&&"76215b7b40cb02e76b77e58c8765d0d1"!==i.hash&&console.error("The definition of 'BoardPicker_pin' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),i);class E extends o.Component{constructor(...e){var t,a,l;super(...e),t="getSections",a=e=>{let t,a,{boardResource:{data:l}}=this.props;if(!l)return[];let{all_boards:i,boards_shortlist:n}=l,s=(t=[],a=[],i.forEach(e=>{e.name?.match(/^\d/)?a.push(e):t.push(e)}),[...t,...a]);return s.length<=3?[{items:s}]:e.length>=C.A?[{items:(0,T._)(s,e)}]:[n.length?{items:n,title:this.props.i18n.bt("Các lựa chọn hàng đầu", "Top choices", " - ", undefined, true)}:{items:[]},{items:s,title:this.props.i18n.bt("Tất cả các bảng", "All boards", "title for board picker all boards section", undefined, true)}]},(t="symbol"==typeof(l=function(e,t){if("object"!=typeof e||!e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var l=a.call(e,t||"default");if("object"!=typeof l)return l;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?l:l+"")in this?Object.defineProperty(this,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):this[t]=a}render(){let{boardResource:{data:e,error:t,isLoaded:a},boardSavedTo:l,isRepin:i,isSelectMode:n,onBoardCreate:s,onBoardSelected:r,pin:o}=this.props,d=a&&!!e&&e.all_boards.length<=3;return(0,A.jsx)(z.A,{boardSavedTo:l,getSections:this.getSections,hasLoadError:!!t,hasLowBoardCount:d,isLoaded:a,isRepin:i,isSelectMode:n,onCreate:s,onSelected:r,pinId:o?.entityId})}componentDidMount(){(0,m.A)("BoardPicker","/app/www/RepinPicker/BoardPicker/BoardPicker.tsx")}}function B({pinKey:e,...t}){(0,o.useEffect)(()=>{(0,m.A)("BoardPicker","/app/www/RepinPicker/BoardPicker/BoardPicker.tsx")},[]);let a=(0,_.A)(),l=(0,u.A)(),i=(0,k.qJ)(),n=(0,h.A)(j,e),s=(0,f.d4)(({advertiser:e})=>{if(l.isAuth&&e&&e.owner_user_id!==l.id)return e.id}),r=(0,f.d4)(({advertiser:e})=>{if(l.isAuth&&e&&e.owner_user_id!==l.id)return e.owner_user_id}),d=(0,w.A)({name:"BoardPickerBoardsResource",options:I(n?.entityId,r,s,i)});return(0,A.jsx)(E,{...t,boardResource:d,i18n:a,pin:n})}class R extends o.Component{constructor(...e){var t,a,l;super(...e),t="getSections",a=e=>{let{board:t,i18n:a,sectionsResource:{data:l}}=this.props,i=a.bt("Bảng", "Board", "PinSaveButton.RepinPicker.SectionListBoardTitle", undefined, true),n=a.bt("Phần bảng", "Section", "PinSaveButton.BoardFlyout.SectionListSectionTitle", undefined, true);return e.length>=C.A?[{items:(0,T._)([t],e),customProps:{inSectionSelection:!0}},{items:(0,T._)(l??[],e,"title")}]:[{items:[t],customProps:{inSectionSelection:!0},title:i},{items:l??[],title:n}]},(t="symbol"==typeof(l=function(e,t){if("object"!=typeof e||!e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var l=a.call(e,t||"default");if("object"!=typeof l)return l;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?l:l+"")in this?Object.defineProperty(this,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):this[t]=a}render(){let{sectionsResource:{error:e,isLoaded:t},boardSavedTo:a,isRepin:l,isSelectMode:i,onSectionCreate:n,onSectionSelected:s,pinId:r}=this.props;return(0,A.jsx)(z.A,{boardSavedTo:a,createButtonLabel:this.props.i18n.bt("Thêm phần bảng", "Add section", "Button for creating a board section", undefined, true),getSections:this.getSections,hasLoadError:!!e,isLoaded:t,isRepin:l,isSelectMode:i,onCreate:n,onSelected:s,pinId:r})}componentDidMount(){(0,m.A)("SectionPicker","/app/www/RepinPicker/SectionPicker.tsx")}}function F(e){(0,o.useEffect)(()=>{(0,m.A)("SectionPicker","/app/www/RepinPicker/SectionPicker.tsx")},[]);let t=(0,_.A)(),a=(0,w.A)({name:"BoardSectionsRepinResource",options:{board_id:e.board.id}});return(0,A.jsx)(R,{...e,i18n:t,sectionsResource:a})}var D=a(645519),K=a(181876),L=a(535465),N=a(194637),M=a(67977);function O(e){let t=(0,_.A)(),{body:a,img:l,onClick:i,selected:n,title:s,username:r,valid:o}=e;return(0,A.jsx)(d.az,{marginBottom:4,children:(0,A.jsx)(d.Rp,{onTap:i,children:(0,A.jsxs)(d.so,{alignItems:"center",direction:"row",justifyContent:"start",width:"100%",children:[l,(0,A.jsxs)(d.az,{flex:"grow",marginEnd:2,marginStart:3,children:[(0,A.jsx)(d.az,{marginBottom:1,children:(0,A.jsx)(d.KJ,{lineClamp:1,weight:"bold",children:s})}),(0,A.jsx)(d.KJ,{lineClamp:1,size:"100",children:r||a})]}),(0,A.jsx)(d.az,{marginStart:2,children:r?n?(0,A.jsx)(d.In,{accessibilityLabel:t.bt("Xác nhận lời mời sẽ được gửi", "Confirmation an invite will be sent", "Alt tags on a check box on the board create flow for board invites", undefined, true),color:"error",icon:"circle-check",size:32}):(0,A.jsx)(d.az,{dangerouslySetInlineStyle:{__style:{border:"solid 1px #B5B5B5"}},height:32,rounding:"circle",width:32}):(0,A.jsx)(d.$n,{color:"secondary",disabled:!!n||!o,size:"sm",text:n?t.bt("Đã gửi", "Sent", "Sent a board collaborator invite", undefined, true):t.bt("Mời", "Invite", "Add board collaborator invite", undefined, true)})})]})})})}var U=a(396526);function V(e,t,a){var l;return(t="symbol"==typeof(l=function(e,t){if("object"!=typeof e||!e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var l=a.call(e,t||"default");if("object"!=typeof l)return l;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?l:l+"")in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function H(e,t,a){let{id:l}=e;return t===a.findIndex(e=>e.id===l)}class J extends o.Component{constructor(...e){super(...e),V(this,"state",{selectedCollaborators:this.props.preselectedCollaborators||[],typeaheadSuggestions:[],value:""}),V(this,"isIdSelected",{}),V(this,"handleTextFieldChange",({value:e})=>{this.setState({value:e})}),V(this,"handleCollaboratorClick",e=>{let{id:t,type:a}=e;this.isIdSelected[t]=!this.isIdSelected[t];let{inviteUsers:l,inviteEmails:i}=this.props,{selectedCollaborators:n}=this.state,s=n.concat([e]);this.props.onSelectedCollaboratorsChange({id:t,resource:"email"===a?i:l}),this.setState({selectedCollaborators:s})}),V(this,"handleTypeaheadSuggestionsChange",e=>{this.setState({typeaheadSuggestions:e})})}componentDidMount(){let{inviteUsers:e,inviteEmails:t}=this.props;this.props.preselectedCollaborators&&this.props.preselectedCollaborators.map(a=>{let{id:l,type:i}=a;return this.isIdSelected[l]=!this.isIdSelected[l],this.props.onSelectedCollaboratorsChange({id:l,resource:"email"===i?t:e}),null})}render(){let{value:e}=this.state,{shareSuggestionsResource:{data:t}}=this.props,a=t||[],l=(""===e?this.state.selectedCollaborators.concat(a).filter(H):this.state.selectedCollaborators.concat(this.state.typeaheadSuggestions).concat({type:"email",id:e,valid:(0,L.A)(e)}).concat(a).filter(H)).map(e=>(function(e,t,a,l){if("user_share_suggestion"===e.type||"user"===e.type){let l=(0,A.jsx)(N.eu,{accessibilityLabel:"",name:e.title||e.full_name,size:"sm",src:e.image_medium_url||e.image_large_url});return(0,A.jsx)(O,{img:l,onClick:()=>a(e),selected:t,title:e.full_name,username:e.username})}if("email"===e.type){let i,n,{id:s,valid:r}=e,o=(0,A.jsx)(d.az,{alignItems:"center",color:"secondary",display:"flex",height:40,justifyContent:"center",rounding:"circle",width:40,children:(0,A.jsx)(d.In,{accessibilityLabel:l.bt("Biểu tượng email", "Email icon", "Email icon on board create modal", undefined, true),color:"default",icon:"envelope",size:20})}),c=(0,M.A)(l.bt("Gửi email cho {{ email }}", "Email {{ email }}", " - ", undefined, true),{email:s});return t?(i=l.bt("Đã xong!", "Done!", "Text that lets the user know we sent the board invite email", undefined, true),n=()=>void 0):(i=r?l.bt("Nhấp vào đây để gửi!", "Click to send!", "Text that lets the user know they can successfully send a board invite email", undefined, true):l.bt("Hãy tiếp tục gõ!", "Keep typing!", "Text that lets a user know the email they are typing is not valid yet", undefined, true),n=()=>r?a(e):void 0),(0,A.jsx)(O,{body:i,img:o,onClick:n,selected:t,title:c,valid:r})}})(e,this.isIdSelected[e.id],this.handleCollaboratorClick,this.props.i18n)).map((e,t)=>(0,A.jsx)("li",{children:e},t));return(0,A.jsxs)(d.so,{alignItems:"stretch",direction:"column",height:"100%",justifyContent:"start",children:[(0,A.jsx)(d.az,{paddingX:3,paddingY:2,children:(0,A.jsx)(d.KJ,{size:"100",children:this.props.i18n.bt("Thêm cộng tác viên (tùy chọn)", "Add collaborators (optional)", "Optional field to add collaborators to a board on board create", undefined, true)})}),(0,A.jsx)(d.az,{marginBottom:4,marginTop:2,paddingX:3,width:"100%",children:(0,A.jsx)(d.az,{flex:"grow",children:(0,A.jsx)(K.A,{onTypeaheadSuggestionsChange:this.handleTypeaheadSuggestionsChange,resourceName:"ShareSuggestionsTypeaheadResource",value:e,children:(0,A.jsx)(d.Lw,{accessibilityLabel:this.props.i18n.bt("Tìm kiếm cộng tác viên theo tên hoặc email", "Search for collaborators by name or email", " - ", undefined, true),id:"CollaboratorInviteSearchField",onChange:this.handleTextFieldChange,placeholder:this.props.i18n.bt("Tìm kiếm theo tên hoặc email", "Search by name or email", " - ", undefined, true),size:"lg",value:e})})})}),(0,A.jsx)(d.az,{marginBottom:14,overflow:"auto",paddingX:3,children:(0,A.jsx)("ul",{children:l})})]})}}function $(e){(0,o.useEffect)(()=>{(0,m.A)("BoardCreateCollaborators","/app/www/BoardCreate/BoardCreateCollaborators.tsx")},[]);let t=(0,_.A)(),a=(0,w.A)({name:"ShareSuggestionsResource",noCache:!0}),l=(0,U.mV)(),i=(0,U.lt)();return(0,A.jsx)(J,{...e,i18n:t,inviteEmails:l,inviteUsers:i,shareSuggestionsResource:a})}var q=a(653235),W=a(27458);function G({onCancel:e,onCreate:t,onInvite:a,prefilledName:l,preselectedCollaborators:i,showTitle:n}){(0,o.useEffect)(()=>{(0,m.A)("CreateBoardPane","/app/www/save/pin-to-board/CreateBoardPane/CreateBoardPane.tsx")},[]);let s=(0,_.A)(),{isRTL:r}=(0,y._8)(),{handleCreate:c,handleChangeName:u,handleChangePrivacy:h,isAdAccountOwner:p,state:{createBoardError:g,inputName:f,nameValidatorErrors:b,privacy:v,saving:x}}=(0,W.A)({onCreate:t,prefilledName:l}),S=0===b.length,P=v===D.A.BoardPrivacy.SECRET,w=(0,A.jsxs)(o.Fragment,{children:[(0,A.jsx)(d.so,{children:(0,A.jsx)(d.$n,{onClick:e,text:s.bt("Hủy", "Cancel", "cancel board create", undefined, true)})}),(0,A.jsxs)(d.so,{alignItems:"stretch",justifyContent:"end",children:[!!g&&(0,A.jsx)(d.az,{paddingX:2,children:(0,A.jsx)(d.KJ,{align:"center",color:"error",size:"200",weight:"bold",children:g})}),(0,A.jsx)(q.A,{disabled:!f.trim()||!S||!!g||x,submitting:x,text:s.bt("Tạo", "Create", "create a new board", undefined, true)})]})]});return(0,A.jsx)(d.az,{color:"default",height:"100%",left:!0,position:"absolute",top:!0,width:"100%",children:(0,A.jsx)("form",{onSubmit:e=>{e.preventDefault(),c()},style:{height:"100%"},children:(0,A.jsxs)(d.so,{alignItems:"stretch",direction:"column",height:"100%",justifyContent:"start",children:[n&&(0,A.jsx)(d.az,{display:"flex",marginTop:3,paddingX:6,paddingY:3,children:(0,A.jsx)(d._Y,{size:"400",children:s.bt("Tạo bảng", "Create board", " - ", undefined, true)})}),(0,A.jsxs)(d.az,{padding:3,children:[(0,A.jsx)(d.az,{marginBottom:2,children:(0,A.jsx)(d.JU,{htmlFor:"boardEditName",children:(0,A.jsx)(d.KJ,{size:"100",children:s.bt("Tên", "Name", " - ", undefined, true)})})}),(0,A.jsx)(d.az,{children:(0,A.jsx)(d.A_,{errorMessage:b.join(", "),id:"boardEditName",name:"boardName",onChange:({value:e})=>u(e),placeholder:s.bt("Như “Nơi nên đến” hoặc “Món ăn nên làm”", "Like \"Places to Go\" or \"Recipes to Make\"", " - ", undefined, true),size:"lg",value:f})})]}),p&&(0,A.jsxs)(o.Fragment,{children:[(0,A.jsxs)(d.az,{padding:3,children:[(0,A.jsx)(d.az,{marginBottom:2,children:(0,A.jsx)(d.JU,{htmlFor:"secret",children:(0,A.jsx)(d.KJ,{size:"100",children:s.bt("Bí mật", "Secret", "secret board", undefined, true)})})}),(0,A.jsx)(d.az,{children:(0,A.jsx)(d.dO,{id:"secret",onChange:h,switched:P})})]}),(0,A.jsx)(d.so,{alignItems:"stretch",flex:"grow",justifyContent:"start",overflow:"hidden",children:(0,A.jsx)(d.az,{width:"100%",children:(0,A.jsx)($,{onSelectedCollaboratorsChange:a,preselectedCollaborators:i})})})]}),!p&&(0,A.jsx)(o.Fragment,{children:(0,A.jsxs)(d.az,{padding:3,children:[(0,A.jsx)(d.az,{marginBottom:2,children:(0,A.jsx)(d.JU,{htmlFor:"protected",children:(0,A.jsx)(d.KJ,{size:"100",children:s.bt("Bảng được bảo vệ (không liệt kê trong hồ sơ người dùng)", "Protected board (not listed on user's profile)", "protected board", undefined, true)})})}),(0,A.jsx)(d.az,{children:(0,A.jsx)(d.dO,{disabled:!0,id:"protected",onChange:()=>void 0,switched:!0})})]})}),(0,A.jsx)(d.az,{bottom:!0,color:"default",dangerouslySetInlineStyle:{__style:{borderBottomLeftRadius:"32px",borderBottomRightRadius:"32px"}},"data-test-id":"create-board-footer-default",display:"flex",elevation:"shadowFloating",justifyContent:"between",left:r,paddingX:4,paddingY:2,position:"absolute",right:!r,width:720,children:w})]})})})}var Y=a(882200);function Q(e,t,a){var l;return(t="symbol"==typeof(l=function(e,t){if("object"!=typeof e||!e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var l=a.call(e,t||"default");if("object"!=typeof l)return l;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?l:l+"")in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}let X=(void 0!==n||(n=a(811770)).hash&&"56f620fbd63abf8f7cb32f9a378198f8"!==n.hash&&console.error("The definition of 'BoardsPane_pin' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),n);class Z extends o.Component{constructor(...e){super(...e),Q(this,"state",{inviteQueue:{},newName:"",selectedSectionBoard:this.props.boardWithSection||null,showCreate:this.props.showCreate||!1}),Q(this,"close",()=>{let{selectedSectionBoard:e,showCreate:t}=this.state,{onClose:a}=this.props;t&&e?this.setState({showCreate:!1},this.manageModalTitle):e?this.setState({selectedSectionBoard:null},this.manageModalTitle):a()}),Q(this,"sendInvites",e=>{let{inviteQueue:t}=this.state;Object.keys(t).forEach(a=>{t[a].resource(e.id??"",[a])})}),Q(this,"handleInvite",e=>{let{inviteQueue:t}=this.state;if(t[e.id]){let a={...t};delete a[e.id],this.setState({inviteQueue:a})}else{let a={...t,[e.id]:e};this.setState({inviteQueue:a})}}),Q(this,"handleBoardCreate",e=>{let{onBoardCreated:t}=this.props;this.handleBoardSave(e,!0),t&&t(e)}),Q(this,"handleBoardSave",(e,t)=>{let{selectedSectionBoard:a}=this.state,{onBoardSave:l,invalidatePinBetterSaveResource:i,invalidateResource:n}=this.props,s="board_section"===e.type;if(n(),i(),a&&("boardsection"===e.type||s))return l(a,e,t);let{section_count:r=0}=e;!a&&"number"==typeof r&&r>0?this.setState({selectedSectionBoard:e},this.manageModalTitle):(this.sendInvites(e),l(e,void 0,t))}),Q(this,"handleCreate",e=>t=>{t=t||"",this.setState({newName:t,showCreate:!0},this.manageModalTitle),this.props.logContextEvent({event_type:101,component:e?13105:13025,element:e?10306:249})}),Q(this,"manageModalTitle",()=>{let{setModalTitle:e}=this.props,{selectedSectionBoard:t,showCreate:a}=this.state;e&&e(a&&t?this.props.i18n.bt("Thêm phần bảng", "Add section", "Repin title for making a board section", undefined, true):a&&!t?this.props.i18n.bt("Tạo bảng", "Create board", "Repin title for making a new board", undefined, true):t&&!a?this.props.i18n.bt("Chọn phần bảng", "Choose section", "Repin title for choosing a board section", undefined, true):this.props.i18n.bt("Chọn bảng", "Choose board", "Repin title for choosing a board", undefined, true))})}render(){let{boardSavedTo:e,isRepin:t,isSelectMode:a,pin:l,preselectedCollaborators:i,setModalTitle:n,suggestedBoardTitle:s}=this.props,{newName:r,selectedSectionBoard:o,showCreate:c}=this.state,u=!!o,h=!n;return(0,A.jsxs)(d.az,{display:"flex",position:"relative",width:"100%",children:[!c&&(0,A.jsx)(d.az,{direction:"column",display:"flex",marginTop:4,width:"100%",children:o?(0,A.jsx)(F,{board:o,boardSavedTo:e,isRepin:t,isSelectMode:a,onSectionCreate:this.handleCreate(u),onSectionSelected:this.handleBoardSave}):(0,A.jsx)(B,{boardSavedTo:e,isRepin:t,isSelectMode:a,onBoardCreate:this.handleCreate(u),onBoardSelected:this.handleBoardSave,pinKey:l})}),c&&!o&&(0,A.jsx)(G,{onCancel:this.close,onCreate:this.handleBoardCreate,onInvite:this.handleInvite,prefilledName:r||s,preselectedCollaborators:i,showTitle:h}),c&&o&&(0,A.jsx)(Y.A,{board:o,completeCreateSectionAction:this.handleBoardSave,initialName:r,isRepin:t,onClearModal:this.close,showTitle:h})]})}componentDidMount(){(0,m.A)("BoardsPane","/app/www/save/pin-to-board/BoardsPane/BoardsPane.tsx")}}function ee({pinKey:e,...t}){(0,o.useEffect)(()=>{(0,m.A)("BoardsPane","/app/www/save/pin-to-board/BoardsPane/BoardsPane.tsx")},[]);let{logContextEvent:a}=(0,S.o)(),l=(0,_.A)(),i=(0,h.A)(X,e),n=(0,f.wA)();return(0,A.jsx)(Z,{...t,i18n:l,invalidatePinBetterSaveResource:()=>{n((0,P.Q5)("BoardPickerBoardsResource",{field_set_key:"board_picker"}))},invalidateResource:()=>{n((0,P.Q5)("BoardPickerBoardsResource",I(i?.entityId)))},logContextEvent:a,pin:i})}var et=a(915645);function ea(e,t,a){var l;return(t="symbol"==typeof(l=function(e,t){if("object"!=typeof e||!e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var l=a.call(e,t||"default");if("object"!=typeof l)return l;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?l:l+"")in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}let el=(void 0!==s||(s=a(716887)).hash&&"dab58396c0cc99aa60f3fd6bc5d0ebe5"!==s.hash&&console.error("The definition of 'PinToBoard_pin' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),s),ei=(void 0!==r||(r=a(111118)).hash&&"4435ca5e135b834ea8a6425f68eb2f7a"!==r.hash&&console.error("The definition of 'PinToBoard_shuffle_asset' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),r);class en extends o.PureComponent{constructor(...e){super(...e),ea(this,"pinImageRef",(0,o.createRef)()),ea(this,"handleSavePinToBoard",(e,t,a)=>{let{handleSaveToBoard:l}=this.props;l(e,t,a)}),ea(this,"close",()=>{let{handleAbort:e}=this.props;e()}),ea(this,"dismissModal",()=>{let{dismissModal:e}=this.props;e&&e()})}render(){let{boardSavedTo:e,boardWithSection:t,color:a,displaySuccessAnimation:l,handleNewBoardAnimationCompletion:i,isInModal:n,newPin:s,pin:r,preselectedCollaborators:u,onBoardCreated:h,sensitiveContentNotice:_,setModalTitle:m,showCreate:f,shouldRenderContent:b,suggestedBoardTitle:y,updateDescription:v,urlPinInfo:S,shuffleAsset:P}=this.props,w=S?.description||S?.link||S?.imageUrl;if(!r&&!w||!b)return null;if(f&&t)return(0,A.jsx)(x,{board:t,completeCreateSectionAction:this.handleSavePinToBoard,height:r?.images_236x?.height??0,onClose:this.close,url:r?.images_236x?.url??S?.imageUrl??"",width:r?.images_236x?.width??0});let C=null;s&&s.board&&(C=s.board.name);let k=_&&_.title||this.props.modalTitle,I=_?(0,A.jsx)(p.A,{inModal:!0,notices:[_]}):(0,A.jsx)(d.so,{alignItems:"stretch",dataTestId:"pin-to-board-content",height:"calc(90vh - 97px)",justifyContent:"center",maxHeight:"703px",width:"100%",children:(0,A.jsxs)(o.Fragment,{children:[(0,A.jsxs)(d.az,{color:"default",display:"flex",height:"100%",overflow:"hidden",position:"relative",rounding:200,width:"100%",children:[(0,A.jsx)(d.so,{alignItems:"stretch",direction:"column",justifyContent:"between",width:"40%",children:(0,A.jsx)(d.az,{alignItems:"center",direction:"column",display:"flex",flex:"grow",justifyContent:"start",marginTop:3,children:(0,A.jsx)(et.A,{color:a,pinImageRef:this.pinImageRef,pinKey:r,shuffleAssetKey:P,updateDescription:v,urlPinInfo:S})})}),(0,A.jsx)(d.so,{alignItems:"stretch",width:"60%",children:(0,A.jsx)(ee,{boardSavedTo:e,boardWithSection:t,isRepin:!0,onBoardCreated:h,onBoardSave:this.handleSavePinToBoard,onClose:this.close,pinKey:r,preselectedCollaborators:u,setModalTitle:n?m:void 0,showCreate:f,suggestedBoardTitle:y})})]}),l&&(0,A.jsx)(g.A,{onDismiss:()=>{i(),this.dismissModal()},pinImageRef:this.pinImageRef,pinKey:r,selectedBoardName:C,shuffleAssetKey:P})]})});if(!n)return I;let z=k||this.props.i18n.bt("Phương thức Ghim lại", "Repin modal", "save.pin-to-board.PinToBoard.PinToBoard", undefined, true);return(0,A.jsx)(c.Ay,{accessibilityModalLabel:z,heading:k,onDismiss:this.close,size:"md",children:I})}}ea(en,"defaultProps",{pwtAuxData:{}});let es=function({pinKey:e,shuffleAssetKey:t,...a}){let l=(0,_.A)(),i=(0,u.A)(),n=(0,h.A)(el,e),s=(0,h.A)(ei,t);return(0,A.jsx)(en,{...a,i18n:l,pin:n,shuffleAsset:s,viewer:i})}},109968(e,t,a){a.d(t,{J:()=>i,e:()=>l});let l=4e3,i={LOADING:"loading",SUCCESS:"success"}},27458(e,t,a){a.d(t,{A:()=>p});var l=a(296540),i=a(671468),n=a(645519),s=a(427575),r=a(449798),o=a(643357),d=a(327467),c=a(972756),u=a(539316),h=a(109794),_=a(699203);function p({onCreate:e,prefilledName:t}){let a=(0,o.A)(),p=(0,i.d4)(({advertiser:e})=>e),g=(0,i.wA)(),m=(0,r.A)(),f=!p||m.isAuth&&p.owner_user_id===m.id,b=p&&p.id,y=(0,_.A)(),[v,A]=(0,l.useState)({createBoardError:null,inputName:t||"",nameValidatorErrors:[],privacy:f?n.A.BoardPrivacy.PUBLIC:n.A.BoardPrivacy.PROTECTED,saving:!1}),x=()=>{let{inputName:t,privacy:l}=v;A({...v,saving:!0,createBoardError:null}),y({boardCreateOptions:{name:t,privacy:l,...!f&&b?{advertiser_id:b}:Object.freeze({}),aux_data:{source:"board_picker"}}}).then(t=>{A({...v,saving:!1}),e(t)}).catch(e=>{let t=a.bt("Chà! Đã xảy ra sự cố.", "Uh oh! Something went wrong.", " - ", undefined, true);if("string"==typeof e)t=e;else{let a=(0,s.A)(e,"message");if(a){let l=(0,s.A)(e,"message_detail");t=l?`${a} ${l}`:a}}A({...v,saving:!1,createBoardError:t})}),g((0,c.Q5)("BoardsResource",(0,h.A)(m.isAuth?m.username:"",l===n.A.BoardPrivacy.SECRET)))};return{handleChangeName:(e,t)=>{A({...v,inputName:e,nameValidatorErrors:(0,u.Yl)([(0,u.mg)({message:a.bt("Đừng quên đặt tên cho bảng của bạn!", "Don't forget to name your board!", " - ", undefined, true)}),(0,u.RU)({max:n.A.MAX_CHARS_FOR_BOARD_TITLE,maxErrorString:(0,d.vQ)(a.bt("Vui lòng nhập tối đa {{ maxLength }} ký tự.", "Please enter no more than {{ maxLength }} characters.", "Validation error when a user input is too long", undefined, true),{maxLength:n.A.MAX_CHARS_FOR_BOARD_TITLE}).join("")})],e),createBoardError:null}),t&&x()},handleChangePrivacy:()=>{A({...v,privacy:v.privacy===n.A.BoardPrivacy.SECRET?n.A.BoardPrivacy.PUBLIC:n.A.BoardPrivacy.SECRET})},handleCreate:x,isAdAccountOwner:f,state:v}}},83919(e,t,a){a.d(t,{j:()=>l});let l={CUSTOM:0,HIDDEN:1,HOPE:2,LOVE:3,NONE:4}}}]);
//# sourceMappingURL=https://sm.pinimg.com/webapp/56028.vi_VN-cdc6b86d95f9f0e5.mjs.map